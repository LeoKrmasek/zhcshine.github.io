<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">






<link rel="stylesheet" href="/css/main.css?v=7.2.0">






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    copycode: {"enable":true,"show_result":true,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
<meta property="og:type" content="website">
<meta property="og:title" content="饱读诗书">
<meta property="og:url" content="http://www.zhuohc.com/page/6/index.html">
<meta property="og:site_name" content="饱读诗书">
<meta property="og:description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="饱读诗书">
<meta name="twitter:description" content="怕什么真理无穷，进一寸有一寸的欢喜。">





  
  
  <link rel="canonical" href="http://www.zhuohc.com/page/6/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  
  <title>饱读诗书</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">饱读诗书</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">怕什么真理无穷，进一寸有一寸的欢喜。</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">68</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/excel入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/excel入门基础/" class="post-title-link" itemprop="url">Excel入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:14:08" itemprop="dateCreated datePublished" datetime="2016-11-09T15:14:08+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:25:47" itemprop="dateModified" datetime="2019-07-24T09:25:47+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="返回最后一个值倒数第二个值">返回最后一个值、倒数第二个值</h3>
<pre><code>=LOOKUP(1,0/(A2:J2&lt;&gt;&quot;&quot;),A2:J2)
=LOOKUP(1,0/(B2:J2&lt;&gt;&quot;&quot;),A2:J2)</code></pre>
<h3 id="返回时间差">返回时间差</h3>
<pre><code>=DATEDIF(--TEXT(F2,&quot;00-00-00&quot;),TODAY(),&quot;D&quot;)</code></pre>
<h3 id="vlookup-逆向检索">VLOOKUP 逆向检索</h3>
<blockquote>
<p>http://zhidao.baidu.com/link?url=-1b12Kx36WQ4vf05DIDhZmxCOtvC6Zdhc62kve1QRoF-hV_Hbl3cZDuBZOYgGRjEo513fDk9-UL6gfUnMI9Jna</p>
</blockquote>
<pre><code>=VLOOKUP(C2,IF({1,0},Sheet2!$D$2:$D$5,Sheet2!$A$2:$A$5),2,FALSE)
=INDEX(Sheet2!A:A,MATCH(Sheet1!C2,Sheet2!D:D,0))</code></pre>
<h3 id="多条件统计求和-countifs">多条件统计求和 COUNTIFS</h3>
<p>统计每个部门人数</p>
<pre><code>{=SUM(IFERROR(1/(COUNTIFS(Sheet2!L$2:Sheet2!L$250,B5,Sheet2!N$2:Sheet2!N$250,Sheet2!N$2:Sheet2!N$250)*(Sheet2!L$2:Sheet2!L$250=B5)),))}</code></pre>
<p><img src="http://7xq3ry.com1.z0.glb.clouddn.com/20160304142206.png"></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/wireshark抓包基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/wireshark抓包基础/" class="post-title-link" itemprop="url">wireshark抓包基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:09:21" itemprop="dateCreated datePublished" datetime="2016-11-09T15:09:21+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:35:45" itemprop="dateModified" datetime="2019-07-24T09:35:45+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="nmap安装">nmap安装</h3>
<pre><code>sudo apt-get install nmap</code></pre>
<h3 id="zenmap图形gui安装">Zenmap图形GUI安装</h3>
<pre><code>sudo apt-get install Zenmap</code></pre>
<h3 id="扫描主机">扫描主机</h3>
<pre><code>nmap -T4 -A -v 192.168.1.3/16</code></pre>
<p>其中-A选项用于使用进攻性（Aggressive）方式扫描；-T4指定扫描过程使用的时序（Timing），总有6个级别（0-5），级别越高，扫描速度越快，但也容易被防火墙或IDS检测并屏蔽掉，在网络通讯状况良好的情况推荐使用T4；-v表示显示冗余（verbosity）信息，在扫描过程中显示扫描的细节，从而让用户了解当前的扫描状态。<br>
/32 表示扫描 192.168.1.3<br>
/24 表示扫描 192.168.1.0-192.168.1.255<br>
/16 表示扫描 192.168.0.0-192.168.255.255<br>
/8<br>
/1<br>
参考<a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener">cird</a></p>
<h3 id="nmap所识别的6个端口状态">Nmap所识别的6个端口状态。</h3>
<p>open(开放的) 应用程序正在该端口接收TCP 连接或者UDP报文。发现这一点常常是端口扫描 的主要目标。安全意识强的人们知道每个开放的端口 都是攻击的入口。攻击者或者入侵测试者想要发现开放的端口。 而管理员则试图关闭它们或者用防火墙保护它们以免妨碍了合法用户。 非安全扫描可能对开放的端口也感兴趣，因为它们显示了网络上那些服务可供使用。 closed(关闭的) 关闭的端口对于Nmap也是可访问的(它接受Nmap的探测报文并作出响应)， 但没有应用程序在其上监听。 它们可以显示该IP地址上(主机发现，或者ping扫描)的主机正在运行up 也对部分操作系统探测有所帮助。 因为关闭的关口是可访问的，也许过会儿值得再扫描一下，可能一些又开放了。 系统管理员可能会考虑用防火墙封锁这样的端口。 那样他们就会被显示为被过滤的状态，下面讨论。 filtered(被过滤的) 由于包过滤阻止探测报文到达端口， Nmap无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由器规则 或者主机上的软件防火墙。这样的端口让攻击者感觉很挫折，因为它们几乎不提供 任何信息。有时候它们响应ICMP错误消息如类型3代码13 (无法到达目标: 通信被管理员禁止)，但更普遍的是过滤器只是丢弃探测帧， 不做任何响应。 这迫使Nmap重试若干次以访万一探测包是由于网络阻塞丢弃的。 这使得扫描速度明显变慢。 unfiltered(未被过滤的) 未被过滤状态意味着端口可访问，但Nmap不能确定它是开放还是关闭。 只有用于映射防火墙规则集的ACK扫描才会把端口分类到这种状态。 用其它类型的扫描如窗口扫描，SYN扫描，或者FIN扫描来扫描未被过滤的端口可以帮助确定 端口是否开放。 open|filtered(开放或者被过滤的) 当无法确定端口是开放还是被过滤的，Nmap就把该端口划分成 这种状态。开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃 了探测报文或者它引发的任何响应。因此Nmap无法确定该端口是开放的还是被过滤的。 UDP，IP协议， FIN，Null，和Xmas扫描可能把端口归入此类。 closed|filtered(关闭或者被过滤的) 该状态用于Nmap不能确定端口是关闭的还是被过滤的。 它只可能出现在IPID Idle扫描中。</p>
<h3 id="监视指定网络接口的数据包tcpdump">监视指定网络接口的数据包tcpdump</h3>
<p>如果不指定网卡，默认tcpdump只会监视第一个网络接口，一般是eth0，</p>
<pre><code>tcpdump -i eth0</code></pre>
<h3 id="路由追踪traceroute">路由追踪traceroute</h3>
<p>linux</p>
<pre><code>sudo apt-get install traceroute  
traceroute hostname</code></pre>
<p>window</p>
<pre><code>tracert hostname</code></pre>
<h3 id="ubuntu开启和关闭混杂模式">ubuntu开启和关闭混杂模式</h3>
<p>``` ifconfig eth0 promisc # 设置eth0为混杂模式。 ifconfig eth0 -promisc # 取消它的混杂模式</p>
<pre><code>ifconfig参数详解</code></pre>
<p>字段含义说明： eth0/eth1： 分别表示第一块网卡和第二块网卡； lo： 表示回环测试接口，注意，这个虚拟的interface一定要存在！ usb0： 表示USB接口的网卡； Linkencap： 表示位于OSI物理层的名称，即连接类型Ethernet（以太网） HWaddr： 表示网卡的硬件地址，即MAC地址 inetaddr ： 表示网卡IP； Bcast： 表示广播(broadcast ) 的地址； Mask： 表示子网掩码； UP： 表示网卡开启状态； BROADCAST： 表示支持广播； MULTICAST： 表示网卡混杂模式； RUNNING： 表示网卡的网线被接上； MULTICAST： 表示支持组播； MTU： 表示MaximumTrasmission Unit 最大传输单元(字节)，即此接口一次所能传输的最大封包； Metric： 表示路由度量值，缺省值是0； RX： 表示网络由激活到目前为止接收的数据包； TX： 表示网络由激活到目前为止发送的数据包； collisions： 表示网络信号冲突的情况； txqueuelen： 表示传输缓冲区长度大小； Memory： 表示占用内存范围。</p>
<pre><code>### 安装wireshark</code></pre>
<p>sudo apt-get install wireshark</p>
<pre><code>wireshark捕获过滤器  </code></pre>
<p>src 192.168.0.10 &amp;&amp; port 80 源地址192.168.0.10和端口为80相关<br>
host 192.160.0.1 和主机192.168.0.1相关<br>
src host 192.168.0.1<br>
port 8080<br>
!port 8080<br>
dst port 80<br>
icmp<br>
!ip6</p>
<pre><code>wireshark显示过滤器  </code></pre>
<p>!tcp<br>
ip.addr == 192.168.0.1<br>
frame.len &lt;= 128<br>
tcp.port == 23 || tcp.port == 21<br>
smtp || pop || imap<br>
ip.addr == 192.168.0.1 or ip.addr == 192.168.0.2</p>
<h1 id="操作符-.">操作符 ==, !=, &gt;, &lt;, &gt;=. &lt;=</h1>
<h1 id="操作符-and-or-xor有且仅有1个满足-not">操作符 and, or, xor(有且仅有1个满足), not</h1>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/jetbrains使用配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/jetbrains使用配置/" class="post-title-link" itemprop="url">jetbrains使用配置</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:57:21" itemprop="dateCreated datePublished" datetime="2016-11-09T14:57:21+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:26:56" itemprop="dateModified" datetime="2019-07-24T09:26:56+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需要新的license">需要新的license</h3>
<p>选择server license<br>
添加 http://idea.lanyus.com/<br>
点击 "ok"<br>
成功添加<br>
phpstorm10.03开始使用http://idea.qinxi1992.cn/<br>
pycharm</p>
<pre><code>43B4A73YYJ-eyJsaWNlbnNlSWQiOiI0M0I0QTczWVlKIiwibGljZW5zZWVOYW1lIjoibGFuIHl1IiwiYXNzaWduZWVOYW1lIjoiIiwiYXNzaWduZWVFbWFpbCI6IiIsImxpY2Vuc2VSZXN0cmljdGlvbiI6IkZvciBlZHVjYXRpb25hbCB1c2Ugb25seSIsImNoZWNrQ29uY3VycmVudFVzZSI6ZmFsc2UsInByb2R1Y3RzIjpbeyJjb2RlIjoiSUkiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJBQyIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IkRQTiIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlBTIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiRE0iLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJDTCIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlJTMCIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlJDIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiUEMiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJSTSIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IldTIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiREIiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJEQyIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9XSwiaGFzaCI6IjMzOTgyOTkvMCIsImdyYWNlUGVyaW9kRGF5cyI6MCwiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-keaxIkRgXPKE4BR/ZTs7s7UkP92LBxRe57HvWamu1EHVXTcV1B4f/KNQIrpOpN6dgpjig5eMVMPmo7yMPl+bmwQ8pTZaCGFuLqCHD1ngo6ywHKIQy0nR249sAUVaCl2wGJwaO4JeOh1opUx8chzSBVRZBMz0/MGyygi7duYAff9JQqfH3p/BhDTNM8eKl6z5tnneZ8ZG5bG1XvqFTqWk4FhGsEWdK7B+He44hPjBxKQl2gmZAodb6g9YxfTHhVRKQY5hQ7KPXNvh3ikerHkoaL5apgsVBZJOTDE2KdYTnGLmqxghFx6L0ofqKI6hMr48ergMyflDk6wLNGWJvYHLWw==-MIIEPjCCAiagAwIBAgIBBTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE1MTEwMjA4MjE0OFoXDTE4MTEwMTA4MjE0OFowETEPMA0GA1UEAwwGcHJvZDN5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQC9WZuYgQedSuOc5TOUSrRigMw4/+wuC5EtZBfvdl4HT/8vzMW/oUlIP4YCvA0XKyBaCJ2iX+ZCDKoPfiYXiaSiH+HxAPV6J79vvouxKrWg2XV6ShFtPLP+0gPdGq3x9R3+kJbmAm8w+FOdlWqAfJrLvpzMGNeDU14YGXiZ9bVzmIQbwrBA+c/F4tlK/DV07dsNExihqFoibnqDiVNTGombaU2dDup2gwKdL81ua8EIcGNExHe82kjF4zwfadHk3bQVvbfdAwxcDy4xBjs3L4raPLU3yenSzr/OEur1+jfOxnQSmEcMXKXgrAQ9U55gwjcOFKrgOxEdek/Sk1VfOjvS+nuM4eyEruFMfaZHzoQiuw4IqgGc45ohFH0UUyjYcuFxxDSU9lMCv8qdHKm+wnPRb0l9l5vXsCBDuhAGYD6ss+Ga+aDY6f/qXZuUCEUOH3QUNbbCUlviSz6+GiRnt1kA9N2Qachl+2yBfaqUqr8h7Z2gsx5LcIf5kYNsqJ0GavXTVyWh7PYiKX4bs354ZQLUwwa/cG++2+wNWP+HtBhVxMRNTdVhSm38AknZlD+PTAsWGu9GyLmhti2EnVwGybSD2Dxmhxk3IPCkhKAK+pl0eWYGZWG3tJ9mZ7SowcXLWDFAk0lRJnKGFMTggrWjV8GYpw5bq23VmIqqDLgkNzuoog==</code></pre>
<h3 id="输入法问题">输入法问题</h3>
<p>升级到ubuntu16.04后，输入无法使用<br>
去安装目录bin文件夹下找到启动idea.sh,用编辑器打开，添加</p>
<pre><code>XMODIFIERS=&quot;@im=fcitx&quot;
export XMODIFIERS</code></pre>
<p>在</p>
<pre><code># ---------------------------------------------------------------------
# Run the IDE.
# ---------------------------------------------------------------------</code></pre>
<p>上面即可！</p>
<h3 id="ubuntu安装">ubuntu安装</h3>
<p>下载并压缩到/opt/目录下,并在/usr/share/appliactions/下创建快捷方式的文件，命名为phpstorm.desktop,编辑如下代码，保存</p>
<pre><code>[Desktop Entry]
Categories=Development;
Comment[zh_CN]=
Comment=
Exec=/opt/phpstorm/bin/phpstorm.sh
GenericName[zh_CN]=IDE
GenericName=IDE
Icon=/opt/phpstorm/bin/webide.png
Name[zh_CN]=phpStorm
Name=phpStorm　　　　　　　
Path=
StartupNotify=true
Terminal=false
Type=Application
X-DBUS-ServiceName=
X-DBUS-StartupType=
X-KDE-SubstituteUID=false
X-KDE-Username=Learn Programming</code></pre>
<h3 id="界面样式">界面样式</h3>
<p><a href="https://github.com/jkaving/intellij-colors-solarized" target="_blank" rel="noopener">theme</a><br>
<a href="https://github.com/ChrisRM/material-theme-jetbrains" target="_blank" rel="noopener">背景修改，含theme</a></p>
<h3 id="界面配置">界面配置</h3>
<p>显示行号<br>
Editor-&gt;General-&gt;Appearance-&gt;Show line number<br>
关闭自动保存<br>
Appearance&amp;Behavior-&gt;System settings-&gt;save files on frame deactivation 关闭<br>
Editor-&gt;General-&gt;Editor tabs-&gt;Mark modified tabs with asterisk 勾选</p>
<h3 id="theme安装">theme安装</h3>
<p>安装模板下载http://phpstorm-themes.com/<br>
ubuntu安装地址~/.pycharm/config/colors/ ###快捷键 Ctrl+/ 或 Ctrl+Shift+/ 注释（// 或者/<em>…</em>/ ）<br>
Shift+F6 重构-重命名<br>
Ctrl+X 删除行<br>
Ctrl+D 复制行<br>
Ctrl+G 查找行<br>
Ctrl+Shift+Up/Down 代码向上/下移动。<br>
F2 或Shift+F2 高亮错误或警告快速定位<br>
写代码，按Tab 生成代码<br>
选中文本，按Ctrl+Shift+F7 高亮显示所有该文本，按Esc高亮消失。(因为这个功能我就可以发放心的放弃sublime了)<br>
Ctrl+B或Ctrl+鼠标左键单击 快速打开光标处的类或方法，（NB的功能）<br>
Ctrl + Alt + B Go to implementation(s) 跳转方法实现处<br>
Ctrl + Shift + I Open quick definition lookup 打开定义快速查找<br>
Alt + Up/Down Go to previous/next method 跳转到上一个/下一个方法<br>
Ctrl+E 最近打开的文件<br>
Alt+F1 查找代码所在位置<br>
Ctrl+Alt+L 格式化代码<br>
Ctrl+R 替换文本<br>
Ctrl+F 查找文本<br>
Ctrl+P 方法参数提示<br>
F3 查找下一个<br>
Shift+F3 查找上一个<br>
alt+Shift+F 将当前文件加入收藏夹<br>
ctrl+alt+s 打开配置窗口<br>
ctrl+Shift+N 通过文件名快速查找工程内的文件（必记）<br>
ctrl+Shift+alt+N 通过一个字符快速查找位置（必记）<br>
Shift+enter 重新开始一行（无论光标在哪个位置）<br>
Ctrl + Alt + T with…（if, else, try, catch, for, etc）用 * 来围绕选中的代码行，（ * 包括 if 、 while 、 try catch 等）<br>
Ctrl + Shift + U Toggle case for word at caret or selected block 光标所在位置大小写<br>
Ctrl + Delete Delete to word end 删除文字结束<br>
Ctrl + Backspace Delete to word start 删除文字开始<br>
Ctrl + E Recent files popup 弹出最近打开的文件<br>
F11 Toggle bookmark 切换标记，我觉得叫书签更好，就是sublime text 的F2<br>
Ctrl + Shift + F12 Toggle maximizing editor 切换最大化编辑器<br>
Alt + Shift + F Add to Favorites 添至收藏夹</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/apache入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/apache入门基础/" class="post-title-link" itemprop="url">Apache入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:46:39" itemprop="dateCreated datePublished" datetime="2016-11-09T14:46:39+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:24:09" itemprop="dateModified" datetime="2019-07-24T09:24:09+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="查看apache加载的模块">查看apache加载的模块</h3>
<pre><code>apachectl -t -D DUMP_MODULES  </code></pre>
<h3 id="禁用和启用模块">禁用和启用模块</h3>
<pre><code>sudo a2dismod python
sudo a2enmod python</code></pre>
<h3 id="查看版本号">查看版本号</h3>
<pre><code>apachectl -v</code></pre>
<h3 id="赋予权限">赋予权限</h3>
<p>2.2.x以下版本</p>
<pre><code>Order deny,allow
Allow from all</code></pre>
<p>2.4.x以上版本</p>
<pre><code>Require all granted</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/django入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/django入门基础/" class="post-title-link" itemprop="url">django入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:41:04" itemprop="dateCreated datePublished" datetime="2016-11-09T14:41:04+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:25:47" itemprop="dateModified" datetime="2019-07-24T09:25:47+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/后端/" itemprop="url" rel="index"><span itemprop="name">后端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="号重新更新基本安装和线上部署">2017.11.10号重新更新基本安装和线上部署</h3>
<p>环境：python3.5 django1.11</p>
<pre><code># 安装环境
$ sudo apt-get update
$ sudo apt-get install python3-pip apache2 libapache2-mod-wsgi-py3
$ sudo pip3 install virtualenv


# 安装项目目录
$ cd ~/www/html/
$ virtualenv --no-site-packages -p /usr/bin/python3.5 CCO
$ cd CCO
$ source ./bin/activate
(CCO) $ pip3 install ipython
(CCO) $ pip3 install Django==1.11.7
# 查看django是否安装成功
(CCO) $  ipython
 &gt; import django
 &gt; django.VERSION # 打印出django版本表示成功
# 开始创建项目
(CCO) $ django-admin.py startproject CCO_WEB
# 创建应用
(CCO) $ cd CCO_WEB
(CCO) $ django-admin.py startapp polls


# 修改文件内容
(CCO) $ vim CCO_WEB/CCO_WEB/setting.py
ALLOWED_HOSTS = [&#39;127.0.0.1&#39;, &#39;localhost&#39;]  # 修改
STATIC_URL = &#39;/static/&#39; # 原始
STATIC_ROOT = os.path.join(BASE_DIR, &#39;static/&#39;) # 添加


# 创建数据库和超级管理员
(CCO) $ ./manage.py makemigrations
(CCO) $ ./manage.py migrate
(CCO) $ ./manage.py createsuperuser # 创建超级管理员
(CCO) $ ./manage.py collectstatic # 收集静态文件


### 用django自带服务器运行
(CCO) $ sudo ufw allow 8000 # 关闭防火墙
(CCO) $ ./manage.py runserver 0.0.0.0:8000 # 成功表示django开发环境配置完成


### 线上部署
apache虚拟主机配置
$ sudo vim /etc/apache2/sites-available/www.cco.com.conf
&lt;VirtualHost *:80&gt;
        ServerName www.example.com
        ServerAdmin webmaster@localhost
         # 这里指明静态文件存放的地方
    Alias /static  /home/hanchang/www/html/CCO/CCO_WEB/static
    # 给文件夹分配权限
    &lt;Directory /home/hanchang/www/html/CCO/CCO_WEB/static&gt;
            Require all granted
    &lt;/Directory&gt;
    #接下来，我们将授予访问存储Django代码的二级项目目录中的wsgi.py文件的权限。
    &lt;Directory /home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB&gt;
    &lt;Files wsgi.py&gt;
            Require all granted
    &lt;/Files&gt;
    &lt;/Directory&gt;
        WSGIDaemonProcess CCO_WEB python-home=/home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB python-path=/home/hanchang/www/html/CCO
    WSGIProcessGroup CCO_WEB
    WSGIScriptAlias / /home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB/wsgi.py
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;


### 线上
sudo a2ensite www.cco.com
sudo service apache2 restart
http://127.0.0.1 查看
原文查看　https://www.digitalocean.com/community/tutorials/how-to-serve-django-applications-with-apache-and-mod_wsgi-on-ubuntu-16-04</code></pre>
<h3 id="数据库安装">数据库安装</h3>
<pre><code>$ sudo apt-get install python-setuptools
$ sudo apt-get install libmysqld-dev
$ sudo apt-get install libmysqlclient-dev
$ sudo apt-get install python-dev
$ sudo easy_install mysql-python
$ pip3 install mysqlclient</code></pre>
<h3 id="安装">安装</h3>
<pre><code># 需要先安装虚拟环境
(Novel) pip isntall django==1.8.2 # 不能加sudo</code></pre>
<h3 id="查看是否安装成功及版本号">查看是否安装成功及版本号</h3>
<pre><code>python
import django
django.VERSION</code></pre>
<h3 id="安装mysqldb">安装MysqlDb</h3>
<p>ubuntu</p>
<pre><code># ubuntu安装步骤：
sudo apt-get install python-setuptools
sudo apt-get install libmysqld-dev
sudo apt-get install libmysqlclient-dev
sudo apt-get install python-dev
sudo easy_install mysql-python</code></pre>
<p>windows下https://pypi.python.org/pypi/MySQL-python/1.2.5 下载.exe一键安装</p>
<h3 id="创建项目">创建项目</h3>
<pre><code>django-admin.py startproject Novel</code></pre>
<h3 id="创建app">创建APP</h3>
<pre><code>python manage.py startapp Heros</code></pre>
<p>/Novel/settings.py</p>
<pre><code>INSTALLED_APPS = (
    ...
    &#39;Heroes&#39;,  #这里填写的是app的名称
)</code></pre>
<h3 id="命令行调试模式">命令行调试模式</h3>
<pre><code>python manage.py shell</code></pre>
<h3 id="运行开发服务器">运行开发服务器</h3>
<pre><code>cd mysite
python manage.py runserver 或者
python manage.py runserver 0.0.0.0:8000</code></pre>
<h3 id="运行shell脚本方式">运行shell脚本方式</h3>
<pre><code>python manager.py shell # 启动脚本环境
from testapp.models import *  # 导入数据库</code></pre>
<h3 id="部署线上环境">部署线上环境</h3>
<p>安装apache模块</p>
<pre><code># Python 2
sudo apt-get install libapache2-mod-wsgi

# Python 3
sudo apt-get install libapache2-mod-wsgi-py3</code></pre>
<p>Novel/Novel/wsgi.py</p>
<pre><code>import os
import sys
sys.path.append(&#39;/var/www/html/Novel/&#39;)
sys.path.append(&#39;/var/www/html/Novel/Novel/&#39;)
sys.path.append(&#39;/var/www/html/Novel/lib/python2.7/site-packages&#39;) # 虚拟环境需要添加
from django.core.wsgi import get_wsgi_application


os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;Novel.settings&quot;)
application = get_wsgi_application()</code></pre>
<p>/etc/apache2/sites-enable/novel.conf</p>
<pre><code>&lt;VirtualHost *:1200&gt;
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/Novel/Novel/Novel
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # 静态文件设置
    Alias /static/ /var/www/html/Novel/Novel/Novel/static/
    &lt;Directory /var/www/html/Novel/Novel/Novel/static/&gt;
        Require all granted
    &lt;/Directory&gt;

    WSGIScriptAlias / /var/www/html/Novel/Novel/Novel/wsgi.py
    &lt;Directory /var/www/html/Novel/Novel/Novel/&gt;
        Require all granted
        &lt;Files wsgi.py&gt;
            Require all granted
        &lt;/Files&gt;
    &lt;/Directory&gt;

&lt;/VirtualHost&gt;</code></pre>
<h3 id="视图与路由绑定">视图与路由绑定</h3>
<p>/Heroes/views.py</p>
<pre><code>from django.http import HttpResponse, Http404
# Create your views here.


def hello(request):
    return HttpResponse(&quot;Hello World&quot;)</code></pre>
<p>/Novel/urls.py</p>
<pre><code>from django.conf.urls import include, url
from Heroes.views import *

urlpatterns = [
    url(r&#39;^hello/$&#39;, hello),
    url(r&#39;^time/plus/(\d{1,2})/$&#39;, hours_ahead)
]</code></pre>
<h3 id="视图与模板">视图与模板</h3>
<p>/Novel/settings.py设置模板路径</p>
<pre><code>TEMPLATES = [
    {
        # .....
        &#39;DIRS&#39;: [
            os.path.join(os.path.dirname(__file__), &#39;templates&#39;).replace(&#39;\\&#39;,&#39;/&#39;),
        ],
        # ....
    },
]</code></pre>
<p>/Novel/Heroes/views.py修改视图</p>
<pre><code>from django.shortcuts import render_to_response
from django.http import HttpResponse, Http404
import datetime
# Create your views here.



def current_datetime(request):
    now = datetime.datetime.now()
    # html = &#39;&lt;html&gt;&lt;body&gt;It is %s.&lt;/body&gt;&lt;/html&gt;&#39; % now
    return render_to_response(&#39;Heroes/current_datetime.html&#39;, {&#39;current_time&#39;: now})</code></pre>
<p>/Novel目录下创建templates/Heroes/current_datetime.html</p>
<pre><code>&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;{ { current_time }}&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="数据库配置">数据库配置</h3>
<p>/Novel/settings.py</p>
<pre><code>DATABASES = {
    &#39;default&#39;: {
        &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;,
        &#39;NAME&#39;: &#39;Novel&#39;,
        &#39;USER&#39;: &#39;root&#39;,
        &#39;PASSWORD&#39;: &#39;password&#39;,
        &#39;HOST&#39;: &#39;127.0.0.1&#39;,
        &#39;PORT&#39;: &#39;3306&#39;
    }
}</code></pre>
<p>测试是否成功</p>
<pre><code>python manage.py shell
&gt;&gt;&gt; from django.db import connection
&gt;&gt;&gt; cursor = connection.cursor()</code></pre>
<h3 id="视图返回json数据格式">视图返回json数据格式</h3>
<p>views.py</p>
<pre><code>from django.http import HttpResponse, Http404
from json import dumps

def login_handle(request):
    if request.method != &#39;POST&#39;:
        raise Http404()
    inputs = request.POST
    json_str = dumps(inputs)
    return HttpResponse(json_str, content_type=&#39;application/json&#39;)</code></pre>
<p>### 静态文件 settings.py <figure class="highlight plain"><figcaption><span>线上模式静态地址 STATIC_URL </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">开发模式静态地址</span><br><span class="line">========</span><br><span class="line"></span><br><span class="line">STATICFILES_DIRS = (os.path.join(os.path.dirname(**file**), &apos;static&apos;).replace(&apos;\\&apos;,&apos;/&apos;),)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/mysql主从复制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/mysql主从复制/" class="post-title-link" itemprop="url">mysql主从复制</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:34:49" itemprop="dateCreated datePublished" datetime="2016-11-09T14:34:49+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:27:38" itemprop="dateModified" datetime="2019-07-24T09:27:38+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="测试环境">测试环境</h3>
<p>主服务器<br>
192.168.0.160 mysql 5.6.17 win2008R2<br>
从服务器<br>
192.168.0.206 mysql 5.6.12 win2003</p>
<h3 id="主服务器创建数据库test1-test2">主服务器创建数据库test1, test2</h3>
<pre><code>mysql&gt;CREATE DATABASE `test1` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;     
mysql&gt;USE test1
mysql&gt;CREATE TABLE `test1`.`user` ( `id` INT(10) NOT NULL AUTO_INCREMENT , `name` VARCHAR(100) NOT NULL , PRIMARY KEY (`id`)) ENGINE = MyISAM;  
mysql&gt;INSERT INTO `user` (`id`, `name`) VALUES (NULL, &#39;user1&#39;), (NULL, &#39;user2&#39;)


mysql&gt;CREATE DATABASE `test2` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;    
mysql&gt;USE test2
mysql&gt;CREATE TABLE `test2`.`user` ( `id` INT(10) NOT NULL AUTO_INCREMENT , `name` VARCHAR(100) NOT NULL , PRIMARY KEY (`id`)) ENGINE = MyISAM;  
mysql&gt;INSERT INTO `user` (`id`, `name`) VALUES (NULL, &#39;user1&#39;), (NULL, &#39;user2&#39;)</code></pre>
<h3 id="将test1test2-复制到从服务器上">将test1,test2 复制到从服务器上</h3>
<pre><code>mysql&gt;CREATE DATABASE `test1` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;     
mysql&gt;USE test1  
mysql&gt;set names utf8;  
mysql&gt;source c:/test1.sql;
mysql&gt;CREATE DATABASE `test2` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;     
mysql&gt;USE test2  
mysql&gt;set names utf8;  
mysql&gt;source c:/test2.sql;</code></pre>
<h3 id="主服务器配置">主服务器配置</h3>
<p>编辑配置文件my.ini</p>
<pre><code>[mysqld] 
server-id=1     # 配一个唯一的ID编号，1至32  
log-bin=mysql-bin  # 二进制文件存放路径  
binlog-do-db=test1  # 需要同步的数据库名  
binlog-ignore-db=test2  # 不需要同步的数据库名</code></pre>
<p>重启mysql并重新登陆，创建授权用户</p>
<pre><code>mysql&gt;grant REPLICATION SLAVE,RELOAD,SUPER on *.* to slave@192.168.0.206 identified by &#39;123456&#39; ;  
mysql&gt;grant REPLICATION SLAVE,RELOAD,SUPER on *.* to slave1@192.168.0.118 identified by &#39;123456&#39; ; # 如果是多从
mysql&gt;flush privileges;     
mysql&gt;show master status;  # 找到File 和 Position 的值记录下来    </code></pre>
<p><img src="http://7xq3ry.com1.z0.glb.clouddn.com/20160401152254.png"></p>
<h3 id="从服务器配置192.168.0.206">从服务器配置192.168.0.206</h3>
<p>编辑配置文件my.ini添加</p>
<pre><code>[mysqld]
server-id=2     #唯一
replicate-do-db=test1
replicate-ignore-db=test2</code></pre>
<p>重启数据库并重新登陆</p>
<pre><code>mysql&gt;mysql -uroot -p  
mysql&gt;change master to master_host=&#39;192.168.0.160&#39;,master_user=&#39;slave&#39;,master_password=&#39;123456&#39;, master_log_file=&#39;mysql-bin.000001&#39;,master_log_pos=199;  
mysql&gt;start slave;
mysql&gt;show slave status\G</code></pre>
<p>结果出现一下内容表示成功</p>
<pre><code>Slave_IO_Running: Yes
Slave_SQL_Running: Yes</code></pre>
<p><img src="http://7xq3ry.com1.z0.glb.clouddn.com/20160401152538.png"> 多从，另一个从服务器配置192.168.0.118<br>
编辑配置文件my.ini添加</p>
<pre><code>[mysqld]
server-id=3     #唯一，注意和其他的从服务器不一致
replicate-do-db=test1
replicate-ignore-db=test2</code></pre>
<p>重启mysql并重新登陆，创建授权用户</p>
<pre><code>mysql&gt;change master to master_host=&#39;192.168.0.160&#39;,master_user=&#39;slave1&#39;,master_password=&#39;123456&#39;, master_log_file=&#39;mysql-bin.000001&#39;,master_log_pos=199;  
mysql&gt;start slave;
mysql&gt;show slave status\G    </code></pre>
<h3 id="最后测试">最后测试</h3>
<p>在主服务器添加表和数据，可以看到从服务器数据库已经修改。<br>
重启主从数据库，依然可以正常同步。</p>
<h3 id="错误处理办法">错误处理办法</h3>
<p>连接不上master：<br>
1，密码是否正确，是否给予权限<br>
2，防火墙是否开启3306端口 配置的时候注意锁表</p>
<pre><code>LOCK TABLES


UNLOCK TABLES;</code></pre>
<p>错误提示 Got fatal error 1236 from master when reading data from binary log: 'Slave can not handle replication events with the checksum that master is configured to log; the first event 'mysql-bin.000002' at 120, the last event read from './mysql-bin.000002' at 120, the last byte read from './mysql-bin.000002' at 120 由于主库是5.6, 从库是5.5.<br>
5.6的版本中加入了replication event checksum，主从复制时间校验功能，所以需要把这个关掉才能正常同步到5.5的slave 修改主库</p>
<pre><code>sudo vim /etc/my.cnf
binlog_checksum=none</code></pre>
<p>重新配置主从即可</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/mysql入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/mysql入门基础/" class="post-title-link" itemprop="url">mysql入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:32:49" itemprop="dateCreated datePublished" datetime="2016-11-09T14:32:49+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-29 09:59:10" itemprop="dateModified" datetime="2019-07-29T09:59:10+08:00">2019-07-29</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="安装mysql">安装mysql</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ubuntu16.04</span><br><span class="line">sudo apt-get install mysql-server</span><br><span class="line">sudo apt install mysql-client  # 服务器端不需要</span><br><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure>
<h4 id="查看mysql版本信息">查看mysql版本信息</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql --version  </span><br><span class="line"><span class="meta">mysql&gt;</span> show variables like '%version_%';</span><br></pre></td></tr></table></figure>
<h4 id="数据库创建备份导入命令">数据库创建备份导入命令</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 创建数据库  </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`test`</span> <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;  </span><br><span class="line"></span><br><span class="line">// 删除数据库  </span><br><span class="line"> <span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`test`</span>; </span><br><span class="line"></span><br><span class="line">// 创建表  </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">test</span>(<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">not</span> <span class="literal">null</span>,<span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">not</span> <span class="literal">null</span>)<span class="keyword">DEFAULT</span> <span class="keyword">charset</span>=utf8;  </span><br><span class="line"></span><br><span class="line"><span class="comment">### 重置自增字段</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`tableName`</span> AUTO_INCREMENT = <span class="number">1</span>; </span><br><span class="line">或者</span><br><span class="line"><span class="keyword">truncate</span> tableName; </span><br><span class="line"></span><br><span class="line">// 删除表</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">test</span>;</span><br><span class="line">    </span><br><span class="line">// 删除表内容，保留表结构  </span><br><span class="line">mysql&gt; TRUNCATE TABLE `tabel_name`;</span><br><span class="line">    </span><br><span class="line">// 删除表并重置主键，不会留下日志，相当于删除表并重建    </span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="string">`animal_cell_attribute`</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 导出一个数据库    </span><br><span class="line">mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名.sql   </span><br><span class="line">mysqldump -u root -p uscnerp &gt; uscnerp.sql    </span><br><span class="line">Enter password:  </span><br><span class="line">    </span><br><span class="line">// 导出一张表</span><br><span class="line">mysqldump -u 用户名 -p 数据库名 表名 &gt; 导出的文件名.sql  </span><br><span class="line">mysqldump -u root -p animal animal_service &gt; animal_service.sql</span><br><span class="line">Enter password: **********  </span><br><span class="line">    </span><br><span class="line">// 导出多个数据库</span><br><span class="line">mysqldump  -uroot -p --databases test mysql #空格分隔</span><br><span class="line">    </span><br><span class="line">// 导出到excel表格</span><br><span class="line">mysql   -uroot   -p   -e   "select   *   from   test.table2 "   &gt;   d:a.xsl</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 导入数据库  </span><br><span class="line"></span><br><span class="line">mysql&gt;use 数据库  </span><br><span class="line">mysql&gt;set names utf8; （先确认编码，如果不设置可能会出现乱码，注意不是UTF-8）   </span><br><span class="line">mysql&gt;source d:\wcnc_db.sql</span><br></pre></td></tr></table></figure>
<h4 id="查看表">查看表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 查看表结构</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
<h4 id="配置用户权限">配置用户权限</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重置root密码并查看所有用户权限</span></span><br><span class="line"> mysql&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; UPDATE user SET Password = PASSWORD('newpassword') WHERE user = 'root';</span><br><span class="line">Query OK, 3 rows affected (0.02 sec)</span><br><span class="line">Rows matched: 3  Changed: 3  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT Host,User,Password FROM mysql.user;</span><br><span class="line">+<span class="comment">-----------+--------+-------------------------------------------+</span></span><br><span class="line">| Host      | User   | Password                                  |</span><br><span class="line">+<span class="comment">-----------+--------+-------------------------------------------+</span></span><br><span class="line">| localhost | root   | *2ED3112AFECE04CEE0AA42619AB00D4498BA3342 |</span><br><span class="line">| 127.0.0.1 | root   | *2ED3112AFECE04CEE0AA42619AB00D4498BA3342 |</span><br><span class="line">| ::1       | root   | *2ED3112AFECE04CEE0AA42619AB00D4498BA3342 |</span><br><span class="line">| localhost |        |                                           |</span><br><span class="line">| localhost | animal | *CC87B1E39E699B64E0B80741B5D1991BC5BE57AC |</span><br><span class="line">+<span class="comment">-----------+--------+-------------------------------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">// 查看全部用户</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="keyword">CONCAT</span>(<span class="string">'User: '''</span>,<span class="keyword">user</span>,<span class="string">'''@'''</span>,host,<span class="string">''';'</span>) <span class="keyword">AS</span> <span class="keyword">query</span> <span class="keyword">FROM</span> mysql.user;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">// 创建用户</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> username@localhost <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'password'</span>;</span><br><span class="line">&gt; username:用户名  </span><br><span class="line">&gt; @localhost：表示用户只能在本地访问  </span><br><span class="line">&gt; password:密码</span><br><span class="line"></span><br><span class="line">// 配置权限</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">INSERT</span>,<span class="keyword">UPDATE</span> <span class="keyword">ON</span> database.* <span class="keyword">TO</span> username@localhost <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'password'</span>;  </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="keyword">user</span>;@localhost </span><br><span class="line">// <span class="keyword">GRANT</span> 权限名称 <span class="keyword">ON</span> 数据库.数据表 <span class="keyword">TO</span> 用户名@访问地址 <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'密码'</span>;</span><br><span class="line">    </span><br><span class="line">// 刷新权限列表</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line">    </span><br><span class="line">// 配置备份用户权限</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'backuper'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'PASSWORD'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, RELOAD, PROCESS, <span class="keyword">SHOW</span> <span class="keyword">DATABASES</span>, SUPER, <span class="keyword">LOCK</span> <span class="keyword">TABLES</span>, <span class="keyword">REPLICATION</span> <span class="keyword">CLIENT</span>, <span class="keyword">SHOW</span> <span class="keyword">VIEW</span>, <span class="keyword">EVENT</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'backuper'</span>@<span class="string">'localhost'</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"></span><br><span class="line">// 开启慢查询日志</span><br><span class="line">```bash </span><br><span class="line">sudo vim /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment"># slow_query_log</span></span><br><span class="line">slow_query_log=on</span><br><span class="line">slow-query-log-file=/var/log/mysql/slow.log <span class="comment"># 保证此文件属于mysql用户，mysql组，并可写权限</span></span><br><span class="line">long_query_time=1 <span class="comment"># 超过1秒写入慢查询日志</span></span><br><span class="line">log-queries-not-using-indexes</span><br><span class="line">    </span><br><span class="line">// 查看是否开启mysql慢查询日志</span><br><span class="line">&gt;mysql show variables like "slow_query_log";</span><br><span class="line"></span><br><span class="line">// 设置密码过期时间</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> default_password_lifetime = <span class="number">0</span>;  // 全局用户永不过期</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">'root'</span>@<span class="string">'localhost'</span> <span class="keyword">PASSWORD</span> <span class="keyword">EXPIRE</span> <span class="keyword">NEVER</span>;  // 单个用户用户过期</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">'root'</span>@<span class="string">'localhost'</span> <span class="keyword">PASSWORD</span> <span class="keyword">EXPIRE</span> <span class="built_in">INTERVAL</span> <span class="number">90</span> <span class="keyword">DAY</span>;  // 单个用户</span><br></pre></td></tr></table></figure>
<h4 id="window服务器下自动备份">window服务器下自动备份</h4>
<h5 id="编写脚本">编写脚本</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rem *******************************Code Start*****************************</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">    </span><br><span class="line"><span class="built_in">set</span> <span class="string">"Ymd=%date:~,4%%date:~5,2%%date:~8,2%"</span></span><br><span class="line">mysqldump --opt -u root --password=abcdefg database &gt; F:\FTP\BackupMysql\database_%Ymd%.sql</span><br><span class="line">@<span class="built_in">echo</span> on</span><br><span class="line">rem *******************************Code End*****************************</span><br></pre></td></tr></table></figure>
<h5 id="定时任务">定时任务</h5>
<p>注意在操作中填写脚本并在起始于写入脚本所在盘符E:<br>
</p>
<h5 id="删除mysql">删除mysql</h5>
<blockquote>
<p>在服务里找到mysql服务，停止使用<br>
控制面板中卸载mysql 注册表文件删除： HKEY_LOCAL_MACHINE/SYSTEM/ControlSet001/Services/Eventlog/Application/MySQL 目录删除; HKEY_LOCAL_MACHINE/SYSTEM/ControlSet002/Services/Eventlog/Application/MySQL 目录删除; HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services/Eventlog/Application/MySQL 目录删除; 在硬盘和注册表中搜索mysql并删除掉</p>
</blockquote>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/rsync同步web服务器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/rsync同步web服务器/" class="post-title-link" itemprop="url">rsync同步web服务器</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 11:05:34" itemprop="dateCreated datePublished" datetime="2016-11-09T11:05:34+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:33:42" itemprop="dateModified" datetime="2019-07-24T09:33:42+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="测试环境">测试环境</h3>
<p>服务端安装 WIN2008R2 ip:192.168.0.160<br>
客户端安装 WIN2003 ip:192.168.0.206</p>
<h3 id="程序下载">程序下载</h3>
<p>新版已经开始收费，这里使用旧版4.0.5,百度网盘下载http://pan.baidu.com/s/1kTNyk1h</p>
<h3 id="服务端安装">服务端安装</h3>
<p><img src="http://7xq3ry.com1.z0.glb.clouddn.com/cwrsync.png"> 一路直接下一步，这里会创建一个用户，创建的默认密码可以不需要修改，直接下一步。 <img src="http://7xq3ry.com1.z0.glb.clouddn.com/cwrsync1.png"> 创建的用户 <img src="http://7xq3ry.com1.z0.glb.clouddn.com/cwrsync2.png"> 创建的服务改为自动启动</p>
<h3 id="客户端安装">客户端安装</h3>
<p>一路下一步直到完成。</p>
<h3 id="配置服务端">配置服务端</h3>
<pre><code>use chroot = false
# 不验证用户密码
strict modes = false
lock file = rsyncd.lock 
hosts allow = 192.168.0.206
max connections = 5
# 默认端口
port = 873

# 指定匿名访问
uid = 0
gid = 0


log file = rsyncd.log

# Module definitions
# Remember cygwin naming conventions : c:\work becomes /cygdrive/c/work

[web]
path = /cygdrive/C/WEB
# 下面两行是配置用户名密码的
# auth users = dbbackuper
# secrets file = /cygdrive/e/Setting/Rsync/rsync_db.ps
# 只允许客户端下载，不允许客户端上传
read only = true
transfer logging = yes</code></pre>
<p>防火墙设置允许配置的端口通过<br>
查看端口配置是否错误</p>
<pre><code>telnet 192.168.0.160 873  
@RSYNCD: 30.0</code></pre>
<p>服务器端配置测试文件目录 <img src="http://7xq3ry.com1.z0.glb.clouddn.com/cwrsync3.png"> 其中targetDir为联接文件</p>
<pre><code>C:\&gt;mklink /J WEB\targetDir\ source\
为 WEB\targetDir\ &lt;&lt;===&gt;&gt; source\ 创建的联接</code></pre>
<h3 id="配置客户端">配置客户端</h3>
<p>在安装目录下使用如下命令</p>
<pre><code>C:\Program Files\cwRsync\bin&gt;rsync --port=873 -vzrtopg --progress --delete 192.168.0.160::web /cygdrive/C/WEB
receiving incremental file list
skipping non-regular file &quot;targetDir&quot;
./
TEST4/
test3/

sent 39 bytes  received 163 bytes  134.67 bytes/sec
total size is 19  speedup is 0.09</code></pre>
<p>查看客户端文件目录</p>
<pre><code>test3
TEST4</code></pre>
<p>提示skipping non-regular file 'targetDir'忽略软链接解决办法<br>
参数-L:--copy-links 像对待常规文件一样处理软链结</p>
<pre><code>C:\Program Files\cwRsync\bin&gt;rsync --port=873 -vzrtopgL --progress --delete 192.
168.0.160::web /cygdrive/C/WEB
receiving incremental file list
deleting test5/adda.txt
deleting test5/
./
TEST4/
targetDir/
targetDir/HAFA/
targetDir/pdf/
targetDir/pdf/TARGE.txt
           0 100%    0.00kB/s    0:00:00 (xfer#1, to-check=1/8)
test3/

sent 70 bytes  received 272 bytes  97.71 bytes/sec
total size is 0  speedup is 0.00</code></pre>
<h3 id="实现客户端定时任务">实现客户端定时任务</h3>
<p>1，要添加环境变量到系统中<br>
2，上传脚本文件到客户端sync_client.bat</p>
<pre><code>rsync --port=873 -vzrtopgL --progress --delete 192.168.0.160::web /cygdrive/C/WEB</code></pre>
<p>3,在系统中添加定时任务，并指定更新时间</p>
<h3 id="具体参数详解">具体参数详解</h3>
<p>rsync参数的具体解释如下： -v, --verbose 详细模式输出<br>
-q, --quiet 精简输出模式<br>
-c, --checksum 打开校验开关，强制对文件传输进行校验<br>
-a, --archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD<br>
-r, --recursive 对子目录以递归模式处理<br>
-R, --relative 使用相对路径信息<br>
-b, --backup 创建备份，也就是对于目的已经存在有同样的文件名时，将老的文件重新命名为~filename。可以使用--suffix选项来指定不同的备份文件前缀。<br>
--backup-dir 将备份文件(如~filename)存放在在目录下。<br>
-suffix=SUFFIX 定义备份文件前缀<br>
-u, --update 仅仅进行更新，也就是跳过所有已经存在于DST，并且文件时间晚于要备份的文件。(不覆盖更新的文件)<br>
-l, --links 保留软链结<br>
-L, --copy-links 想对待常规文件一样处理软链结<br>
--copy-unsafe-links 仅仅拷贝指向SRC路径目录树以外的链结<br>
--safe-links 忽略指向SRC路径目录树以外的链结<br>
-H, --hard-links 保留硬链结<br>
-p, --perms 保持文件权限<br>
-o, --owner 保持文件属主信息<br>
-g, --group 保持文件属组信息<br>
-D, --devices 保持设备文件信息<br>
-t, --times 保持文件时间信息<br>
-S, --sparse 对稀疏文件进行特殊处理以节省DST的空间<br>
-n, --dry-run现实哪些文件将被传输<br>
-W, --whole-file 拷贝文件，不进行增量检测<br>
-x, --one-file-system 不要跨越文件系统边界<br>
-B, --block-size=SIZE 检验算法使用的块尺寸，默认是700字节<br>
-e, --rsh=COMMAND 指定使用rsh、ssh方式进行数据同步<br>
--rsync-path=PATH 指定远程服务器上的rsync命令所在路径信息<br>
-C, --cvs-exclude 使用和CVS一样的方法自动忽略文件，用来排除那些不希望传输的文件<br>
--existing 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件<br>
--delete 删除那些DST中SRC没有的文件<br>
--delete-excluded 同样删除接收端那些被该选项指定排除的文件<br>
--delete-after 传输结束以后再删除<br>
--ignore-errors 及时出现IO错误也进行删除<br>
--max-delete=NUM 最多删除NUM个文件<br>
--partial 保留那些因故没有完全传输的文件，以是加快随后的再次传输<br>
--force 强制删除目录，即使不为空<br>
--numeric-ids 不将数字的用户和组ID匹配为用户名和组名<br>
--timeout=TIME IP超时时间，单位为秒<br>
-I, --ignore-times 不跳过那些有同样的时间和长度的文件<br>
--size-only 当决定是否要备份文件时，仅仅察看文件大小而不考虑文件时间<br>
--modify-window=NUM 决定文件是否时间相同时使用的时间戳窗口，默认为0<br>
-T --temp-dir=DIR 在DIR中创建临时文件<br>
--compare-dest=DIR 同样比较DIR中的文件来决定是否需要备份<br>
-P 等同于 --partial<br>
--progress 显示备份过程<br>
-z, --compress 对备份的文件在传输时进行压缩处理<br>
--exclude=PATTERN 指定排除不需要传输的文件模式<br>
--include=PATTERN 指定不排除而需要传输的文件模式<br>
--exclude-from=FILE 排除FILE中指定模式的文件<br>
--include-from=FILE 不排除FILE指定模式匹配的文件<br>
--version 打印版本信息<br>
--address 绑定到特定的地址<br>
--config=FILE 指定其他的配置文件，不使用默认的rsyncd.conf文件<br>
--port=PORT 指定其他的rsync服务端口<br>
--blocking-io 对远程shell使用阻塞IO<br>
-stats 给出某些文件的传输状态<br>
--progress 在传输时现实传输过程<br>
--log-format=formAT 指定日志文件格式<br>
--password-file=FILE 从FILE中得到密码<br>
--bwlimit=KBPS 限制I/O带宽，KBytes per second<br>
-h, --help 显示帮助信息</p>
<h3 id="部分错误的解决办法">部分错误的解决办法</h3>
<p>1.'rsync' 不是内部或外部命令，也不是可运行的程序或批处理文件。<br>
加环境变量 path = C:\Program Files (x86)\cwRsync\bin 2.rsync: failed to connect to 192.168.1.82: Connection timed out (116) rsync error: error in socket IO (code 10) at clientserver.c(122) [Receiver=3.0.7]<br>
网络通畅，服务器端允许访问端口 873 3.@ERROR: invalid uid nobody<br>
rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]<br>
指定uid gid<br>
uid = 0<br>
gid = 0 4.@ERROR: chdir failed<br>
rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]<br>
path目录配置的正确，得存在<br>
解决：服务器端同步目录没有权限，cwrsync默认用户是Svcwrsync。为同步目录添加用户Svcwrsync权限。<br>
也可以通过 菜单--cwRsyncServer--02. Prep a Dir for Upload 配置目录权限 除完全控制和特殊权限外的所有权限 5.@ERROR: auth failed on module test<br>
rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]<br>
客户端设置<br>
a.在命令上要指定好用户名<br>
b.密码文件只写密码<br>
rsyncd.secrets文件<br>
rsyncpass<br>
c.用户名密码都要正确 6.Unexpected local arg: /cygdrive/d/rsyncBackup<br>
If arg is a remote file/dir, prefix it with a colon (:).<br>
rsync error: syntax or usage error (code 1) at main.c(1218) [Receiver=3.0.7]<br>
不一定是这个路径有问题，可能是--password-file路径中有空格，服务器端没问题，客户端好像不行 7.password file must be owned by root when running as root<br>
continuing without password file<br>
Password:<br>
设置密码访问权限chown.exe可从服务器端拷贝过来<br>
chmod -c 600 /cygdrive/c/etc/rsyncd.secrets<br>
chown administrator /cygdrive/c/etc/rsyncd.secrets<br>
服务器端不设也可以 8.当出现rsync: chown “” failed: Invalid argument (22)错误时，是因为参数中有o，即保留文件的owner信息，而window服务端无法完成chown操作，解决办法是去掉参数o。另外有些可能还会出现rsync: chgrp “” failed: Invalid argument (22)，原因类似，只要去掉参数中的g即可。</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/linux开发环境常用软件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/linux开发环境常用软件/" class="post-title-link" itemprop="url">Linux开发环境常用软件</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 10:58:19" itemprop="dateCreated datePublished" datetime="2016-11-09T10:58:19+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-23 13:51:43" itemprop="dateModified" datetime="2019-07-23T13:51:43+08:00">2019-07-23</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="显示电脑硬件信息">显示电脑硬件信息</h4>
<pre><code>$ sudo add-apt-repository ppa:dawidd0811/neofetch
$ sudo apt-get update
$ sudo apt-get install neofetch
neofetch</code></pre>
<h4 id="安装独立显卡驱动">安装独立显卡驱动</h4>
<p>https://blog.csdn.net/ghw15221836342/article/details/79571559</p>
<pre><code># 驱动版本查询   https://www.nvidia.com/Download/index.aspx?lang=en-us
# 安装
sudo add-apt-repository ppa:graphics-drivers/ppa  
sudo apt-get update  
sudo apt-get install nvidia-390 #此处要根据上面查询到的版本适当更改
sudo apt-get install mesa-common-dev  
sudo apt-get install freeglut3-de
# 测试
nvidia-smi  #若出现电脑GPU列表，即安装成功
或者
nvidia-settings #显示你的显卡信息
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">    </span><br><span class="line">    #### Chrome浏览器</span><br><span class="line">    下载地址 [百度云盘](http://pan.baidu.com/s/1hq0Nom4)</span><br><span class="line">    </span><br><span class="line">    #### 配置SS</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">安装</span><br><span class="line">==</span><br><span class="line"></span><br><span class="line">apt-get install python-pip pip install s\_h\_a\_d\_o\_w\_s\_o\_c\_k\_s</span><br><span class="line"></span><br><span class="line">启动</span><br><span class="line">==</span><br><span class="line"></span><br><span class="line">sslocal -s server\_ip -p server\_port -l 1080 -k password -t 600 -m aes-256-cfb</span><br><span class="line"></span><br><span class="line">简写</span><br><span class="line">==</span><br><span class="line"></span><br><span class="line">sslocal -s ip -p port -k &quot;password&quot;</span><br><span class="line"></span><br><span class="line">    开机启动配置  </span><br><span class="line">    在/home下新建文件ss.sh脚本</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">#!/bin/bash #文件名:ss.sh sslocal -s ip -p port -k &quot;password&quot;</span><br><span class="line"></span><br><span class="line">    编辑开机启动文件</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">sudo vim /etc/rc.local</span><br></pre></td></tr></table></figure>

# 最后加入以下内容
nohup bash /home/ss.sh&gt;/home/ss.txt &amp;</code></pre>
<p>代理设置</p>
<pre><code>service： 127.0.0.1
port ： 1080
type： socks5</code></pre>
<h4 id="配置proxychains">配置proxychains</h4>
<pre><code># 安装
sudo apt install proxychains
sudo vim /etc/proxychains.conf
~ socks5 127.0.0.1 1080  # 最后一行加入socks代理
# 测试
proxychains wget https://www.google.com</code></pre>
<h4 id="wine-qq现在推荐docker安装qq">wine qq（现在推荐docker安装qq）</h4>
<p>安装wine1.7以上版本<br>
安装WineQQ7.8-20151109-Longene.deb版本<br>
下载<a href="https://pan.baidu.com/s/1bpLn0vl" target="_blank" rel="noopener">网盘</a></p>
<h4 id="elinks-纯文本浏览器">elinks 纯文本浏览器</h4>
<pre><code>sudo apt-get install elinks   # 安装


elinks www.zhuohc.com  # 使用</code></pre>
<h4 id="unzip-zip">unzip / zip</h4>
<p>解决中文乱码</p>
<pre><code>unzip -O CP936 xxx.zip</code></pre>
<p>解压到指定目录</p>
<pre><code>unzip -O xxx.zip -d xxx/</code></pre>
<p>压缩文件</p>
<pre><code>zip -r yasuo.zip abc.txt dir1</code></pre>
<h4 id="wps-office办公">wps office办公</h4>
<p>显示字体确实错误 <a href="https://pan.baidu.com/s/1bpLn0vl" target="_blank" rel="noopener">下载字体</a><br>
将字体复制到linux字体中</p>
<pre><code>sudo cp * /usr/share/fonts</code></pre>
<p>生成字体索引信息</p>
<pre><code>sudo mkfontscale

sudo mkfontdir</code></pre>
<p>更新字体缓存</p>
<pre><code>sudo fc-cache</code></pre>
<p>中文无法输入</p>
<pre><code>$ vi /usr/bin/wps  # word文档


#!/bin/bash
export XMODIFIERS=&quot;@im=fcitx&quot;  # 添加的内容  
export QT_IM_MODULE=&quot;fcitx&quot;     # 添加的内容    
gOpt=
#gOptExt=-multiply
gTemplateExt=(&quot;wpt&quot; &quot;dot&quot; &quot;dotx&quot;)


$ vi /usr/bin/et   # excel表格


#!/bin/bash
export XMODIFIERS=&quot;@im=fcitx&quot;  # 添加的内容  
export QT_IM_MODULE=&quot;fcitx&quot;  # 添加的内容  
gOpt=
#gOptExt=-multiply</code></pre>
<h4 id="输入法">输入法</h4>
<p>系统自带或者sougou输入法 ， 倬彼昊天系列皮肤</p>
<h4 id="截屏">截屏</h4>
<p>系统设置&gt;键盘&gt;自定义快捷键&gt;+&gt;<br>
名称填screenshot<br>
命令</p>
<pre><code>gnome-screenshot -a</code></pre>
<p>在disabled修改快捷键</p>
<h4 id="下载">下载</h4>
<p>安装uget</p>
<pre><code>sudo add-apt-repository ppa:plushuang-tw/uget-stable 
sudo apt-get update 
sudo apt-get install uget</code></pre>
<p>安装aria2</p>
<pre><code>sudo add-apt-repository ppa:t-tujikawa/ppa 
sudo apt-get update 
sudo apt-get install aria2</code></pre>
<p>在uget gui里编辑插件，选择aria2</p>
<h4 id="美化监视工具">美化监视工具</h4>
<pre><code> sudo apt-get install conky  
 sudo add-apt-repository ppa:teejee2008/ppa
 sudo apt-get update
 sudo apt-get install conky-manager
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">显示桌面会自动隐藏conky的bug解决办法:  </span><br><span class="line">编辑配置文件</span><br></pre></td></tr></table></figure>

 # own_window_type normal
own_window_type desktop</code></pre>
<p>#### 快速搜索文件</p>
<pre><code>sudo add-apt-repository ppa:synapse-core/testing
sudo apt-get update
sudo apt-get install synapse  </code></pre>
<h4 id="卸载synapse">卸载synapse</h4>
<pre><code>sudo apt-get remove synapse</code></pre>
<h4 id="移除ppa">移除PPA</h4>
<pre><code>sudo apt-get install ppa-purge
sudo ppa-purge ppa:synapse-core/testing</code></pre>
<h4 id="安装oh-my-zsh">安装oh-my-zsh</h4>
<pre><code># https://github.com/robbyrussell/oh-my-zsh
$ sudo apt-get install git
$ sudo apt-get install zsh
$ sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
$ chsh -s /bin/zsh # 更改默认bash
//或:
$ chsh -s `which zsh`
$ sudo reboot</code></pre>
<h4 id="terminator-终端管理软件">terminator 终端管理软件</h4>
<p>安装</p>
<pre><code>sudo add-apt-repository ppa:gnome-terminator
sudo apt-get update
sudo apt-get install terminator</code></pre>
<p>基本设置方法</p>
<blockquote>
<p>右键点击终端任意区域，选择首选项</p>
</blockquote>
<p>设置<a href="https://github.com/ghuntley/terminator-solarized" target="_blank" rel="noopener">solarized</a>配色（<a href="http://blog.codinglabs.org/articles/getting-started-with-ubuntu.html" target="_blank" rel="noopener">参考</a>）</p>
<pre><code>cd ~/.config/terminator  
vim config</code></pre>
<p>覆盖以下内容</p>
<pre><code>[global_config]
    title_transmit_bg_color = &quot;#d30102&quot;
    focus = system
    suppress_multiple_term_dialog = True
[keybindings]
[profiles]
    [[default]]
        palette = &quot;#073642:#dc322f:#859900:#b58900:#268bd2:#d33682:#2aa198:#eee8d5:#002b36:#cb4b16:#586e75:#657b83:#839496:#6c71c4:#93a1a1:#fdf6e3&quot;
        copy_on_selection = True
        background_image = None
        background_darkness = 0.95
        background_type = transparent
        use_system_font = False
        cursor_color = &quot;#eee8d5&quot;
        foreground_color = &quot;#839496&quot;
        show_titlebar = False
        font = Monospace 11
        background_color = &quot;#002b36&quot;
    [[solarized-dark]]
        palette = &quot;#073642:#dc322f:#859900:#b58900:#268bd2:#d33682:#2aa198:#eee8d5:#002b36:#cb4b16:#586e75:#657b83:#839496:#6c71c4:#93a1a1:#fdf6e3&quot;
        background_color = &quot;#002b36&quot;
        background_image = None
        cursor_color = &quot;#eee8d5&quot;
        foreground_color = &quot;#839496&quot;
    [[solarized-light]]
        palette = &quot;#073642:#dc322f:#859900:#b58900:#268bd2:#d33682:#2aa198:#eee8d5:#002b36:#cb4b16:#586e75:#657b83:#839496:#6c71c4:#93a1a1:#fdf6e3&quot;
        background_color = &quot;#fdf6e3&quot;
        background_image = None
        cursor_color = &quot;#002b36&quot;
        foreground_color = &quot;#657b83&quot;
[layouts]
    [[default]]
        [[[child1]]]
            type = Terminal
            parent = window0
            profile = default
        [[[window0]]]
            type = Window
            parent = &quot;&quot;
[plugins]</code></pre>
<p>以上配置后会修改配色方案，但是没有bright色<br>
<a href="https://github.com/seebi/dircolors-solarized" target="_blank" rel="noopener">dircolors-solarized</a>项目提供了适合于solarized的dircolors配色方案，只要选择合适的方案使用就可以了。</p>
<pre><code>curl https://raw.github.com/seebi/dircolors-solarized/master/dircolors.ansi-dark &gt; ~/.dircolors</code></pre>
<p>然后在~/.bashrc中加入如下配置：</p>
<pre><code># enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors &amp;&amp; eval &quot;$(dircolors -b ~/.dircolors)&quot; || eval &quot;$(dircolors -b)&quot;
    alias ls=&#39;ls --color=auto&#39;
    #alias dir=&#39;dir --color=auto&#39;
    #alias vdir=&#39;vdir --color=auto&#39;

    alias grep=&#39;grep --color=auto&#39;
    alias fgrep=&#39;fgrep --color=auto&#39;
    alias egrep=&#39;egrep --color=auto&#39;
fi

# some more ls aliases
alias ll=&#39;ls -alF&#39;
alias la=&#39;ls -A&#39;
alias l=&#39;ls -CF&#39;</code></pre>
<p>执行</p>
<pre><code>source ~/.bashrc</code></pre>
<h4 id="tmux配合terminator使用">tmux配合terminator使用</h4>
<p>安装</p>
<pre><code>sudo apt-get install tmux</code></pre>
<p>配置</p>
<pre><code>touch .tmux.conf</code></pre>
<p>配置内容和使用方法</p>
<pre><code># 设置前缀为Ctrl + x
set -g prefix C-x
# 解除Ctrl+b 与前缀的对应关系
unbind C-b
# 将r 设置为加载配置文件，并显示&quot;reloaded!&quot;信息
bind r source-file ~/.tmux.conf \; display &quot;Reloaded!&quot;



# copy-mode 将快捷键设置为vi 模式
setw -g mode-keys vi

# tmux-powerline设置
set-option -g status on
set-option -g status-interval 2
set-option -g status-utf8 on
set-option -g status-justify &quot;centre&quot;
set-option -g status-left-length 60
set-option -g status-right-length 90
set-option -g status-left &quot;#(~/.tmux/tmux-powerline/powerline.sh left)&quot;
set-option -g status-right &quot;#(~/.tmux/tmux-powerline/powerline.sh right)&quot;
# 将窗口列表换成 powerline的风格
set-window-option -g window-status-current-format &quot;#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀&quot;
# 设置默认bash
set-option -g default-shell /bin/zsh


########## 复制模式  ##########

# copy mode 复制模式
# &#39;prefix +  [ &#39;进入复制模式
# 按space 开始复制
# Enter退出复制模式</code></pre>
<p>需要安装powerline插件</p>
<pre><code>https://github.com/erikw/tmux-powerline</code></pre>
<p>显示日期的星期</p>
<pre><code>vim data_day.sh
 # date +&quot;%a&quot;改成大写
 date +&quot;%A&quot;</code></pre>
<p>powerline字体安装查看 http://powerline.readthedocs.io/en/latest/installation/linux.html 在terminator配置自动启动turm</p>
<pre><code>首选项-&gt;配置&gt;命令&gt;自定义命令  
 ([[ -f &quot;$TMUX&quot; ]] &amp;&amp; tmux -2 -S $TMUX) || (TMUX=&quot;&quot; tmux -2)</code></pre>
<p>自动部署多窗口任务</p>
<pre><code>touch ~/development.start
chmod +x development.start


tmux has-session -t development
if [ $? != 0 ]
then
    tmux new-session -s development -n editor -d
    tmux send-keys -t development &#39;vim&#39; C-m
    tmux split-window -v -t development
    tmux select-layout -t development main-horizontal
    tmux new-window -n bash -t development
    tmux new-window -n ssh -t development
    tmux new-window -n mysql -t development
    tmux new-window -n front-end -t development
    tmux select-window -t development:1
fi
tmux attach -t development</code></pre>
<p>执行文件</p>
<pre><code>~/development.start</code></pre>
<h4 id="visual-studio-code">Visual Studio Code</h4>
<p>通过官方PPA来安装Ubuntu Make</p>
<pre><code>sudo add-apt-repository ppa:ubuntu-desktop/ubuntu-make
sudo apt-get update
sudo apt-get install ubuntu-make</code></pre>
<p>安装Ubuntu Make完后，接着使用下列命令安装Visual Studio Code</p>
<pre><code>umake web visual-studio-code</code></pre>
<p>卸载命令</p>
<pre><code>umake web visual-studio-code --remove</code></pre>
<h4 id="wine">wine</h4>
<p>卸载wineqq</p>
<pre><code>sudo dpkg -l | grep qq  # 找到安装包名称   
sudo dpkg -r wine-qq7.8-longeneteam # 卸载</code></pre>
<h4 id="curl-http请求">curl http请求</h4>
<pre><code>curl &quot;http://www.baidu.com&quot; # 如果这里的URL指向的是一个文件或者一幅图都可以直接下载到本地  
curl -i &quot;http://www.baidu.com&quot; # 显示全部信息  
curl -l &quot;http://www.baidu.com&quot; # 只显示头部信息  
curl -v &quot;http://www.baidu.com&quot; # 显示get请求全过程解析    
curl -d &quot;param1=value1¶m2=value2&quot; &quot;http://www.baidu.com&quot; # post请求  </code></pre>
<h4 id="安卓虚拟机genymotion">安卓虚拟机genymotion</h4>
<p>前提必须安装virtualBox<br>
下载地址: https://www.genymotion.com/download/<br>
需要先注册,下载后执行</p>
<pre><code>chmod +x genymotion-2.2.2_x64.bin
./genymotion-2.2.2_x64.bin -d /home/user</code></pre>
<p>执行home/user/genymotion/genymotion</p>
<h4 id="安装为知笔记">安装为知笔记</h4>
<p>简易版本</p>
<pre><code>http://ppa.launchpad.net/wiznote-team/ppa/ubuntu/pool/main/w/wiznote/</code></pre>
<p>编译安装</p>
<pre><code>http://www.wiz.cn/compile-client.html</code></pre>
<p>chrome安装扩展</p>
<pre><code>https://chrome.google.com/webstore/detail/wiznote-web-clipper/jfanfpmalehkemdiiebjljddhgojhfab/related?hl=zh-CN</code></pre>
<h4 id="安装系统状态指示器">安装系统状态指示器</h4>
<pre><code>sudo add-apt-repository ppa:indicator-multiload/stable-daily

sudo apt-get update

sudo apt-get install indicator-multiload</code></pre>
<h4 id="安装albert搜索框">安装albert搜索框</h4>
<pre><code>sudo add-apt-repository ppa:noobslab/macbuntu
sudo apt-get update
sudo apt-get install albert
设置快捷键Ctrl+/ 样式NUMIX</code></pre>
<h4 id="下载特殊文件">下载特殊文件</h4>
<pre><code>sudo apt-get install ktorrent
sudo apt-get install amule</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/python入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content="怕什么真理无穷，进一寸有一寸的欢喜。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="饱读诗书">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/python入门基础/" class="post-title-link" itemprop="url">python入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 10:46:24" itemprop="dateCreated datePublished" datetime="2016-11-09T10:46:24+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:31:12" itemprop="dateModified" datetime="2019-07-24T09:31:12+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/后端/" itemprop="url" rel="index"><span itemprop="name">后端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="linux源码安装适合生产环境">1. linux源码安装（适合生产环境）</h4>
<p>安装python3.x.x <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 以centos系统安装python3.6.6为例</span><br><span class="line">$ sudo yum groupinstall &quot;Development tools&quot;</span><br><span class="line">$ sudo yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</span><br><span class="line">$ wget https://www.python.org/ftp/python/3.6.6/Python-3.6.6.tar.xz</span><br><span class="line">$ tar -xJf Python-3.6.6.tar.xz</span><br><span class="line">$ cd Python-3.6.6</span><br><span class="line">$ ./configure --prefix=/usr/local/python3  # 编译配置</span><br><span class="line">$ sudo make</span><br><span class="line">$ sudo make install</span><br><span class="line"># 创建软链接</span><br><span class="line">$ ln -s /usr/local/python3/bin/python3 /usr/bin/python3</span><br><span class="line">$ ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure></p>
<p>安装虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install python-virtualenv  # centos</span><br></pre></td></tr></table></figure>
<p>创建项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ virtualenv --no-site-packages -p /usr/bin/python3 .env-project</span><br><span class="line">$ source.env-project/bin/active  # 进入虚拟环境</span><br><span class="line">(.env-project) deactive  # 退出虚拟环境</span><br></pre></td></tr></table></figure>
<h4 id="pyenv安装适合开发环境">2. pyenv安装(适合开发环境)</h4>
<p>安装pyenv</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/pyenv/pyenv-installer/master/bin/pyenv-installer | bash</span><br></pre></td></tr></table></figure>
<p>设置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim ~/.zshrc  # 具体文件看自己的终端工具</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$HOME/.pyenv/bin:$PATH</span><br><span class="line">eval &quot;$(pyenv init -)&quot;</span><br><span class="line">eval &quot;$(pyenv virtualenv-init -)&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source ~/.zshrc</span><br></pre></td></tr></table></figure>
<p>检查环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv doctor  # 如有错误，根据自己的环境解决</span><br></pre></td></tr></table></figure>
<p>安装python3.x.x</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv install 3.6.6</span><br></pre></td></tr></table></figure>
<p>如果pyenv下载文件缓慢，可以先下载文件到缓存中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/.pyenv/cache  # 没有则创建文件</span><br><span class="line">$ wget https://www.python.org/ftp/python/3.6.6/Python-3.6.6.tar.xz</span><br><span class="line">$ pyenv install 3.6.6</span><br></pre></td></tr></table></figure>
<p>依次安装python3.7.3 python2.7.10</p>
<p>查看当前系统所有python版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv versions</span><br><span class="line">* system (set by /home/zhc/.pyenv/version)</span><br><span class="line">  2.7.10</span><br><span class="line">  3.6.6</span><br><span class="line">  3.7.3</span><br></pre></td></tr></table></figure>
<p>pyenv系统级别global切换版本&lt;pyenv目录级别local切换版本&lt;pyenv当前shell级别切换版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv global 3.6.6                                                                 </span><br><span class="line">$ pyenv version                                                                     </span><br><span class="line">3.6.6 (set by /home/zhc/.pyenv/version)                                                 </span><br><span class="line">$ pyenv global 3.7.3</span><br><span class="line">$ pyenv version</span><br><span class="line">3.7.3 (set by /home/zhc/.pyenv/version)</span><br><span class="line">$ pyenv shell 3.6.6</span><br><span class="line">$ pyenv version</span><br><span class="line">3.6.6 (set by PYENV_VERSION environment variable) </span><br><span class="line">$ pyenv local 3.6.6  # 会在当前文件夹下创建.python-version文件，存储虚拟环境名称</span><br></pre></td></tr></table></figure>
<p>pyenv安装虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pyenv virtualenv 3.6.6 test-3.6.6</span><br><span class="line">pyenv virtualenv 3.7.3 test-3.7.3</span><br></pre></td></tr></table></figure>
<p>pyenv删除虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyenv uninstall test-3.6.6</span><br></pre></td></tr></table></figure>
<p>pyenv查看全部虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ pyenv virtualenvs                                                                 </span><br><span class="line">  3.6.6/envs/test-3.6.6 (created from /home/zhc/.pyenv/versions/3.6.6)                 </span><br><span class="line">  3.7.3/envs/test-3.7.3 (created from /home/zhc/.pyenv/versions/3.7.3)                 </span><br><span class="line">  test-3.6.6 (created from /home/zhc/.pyenv/versions/3.6.6)</span><br><span class="line">  test-3.7.3 (created from /home/zhc/.pyenv/versions/3.7.3)</span><br></pre></td></tr></table></figure>
<p>切换虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv activate test-3.6.6</span><br><span class="line">$ pyenv local test-3.6.6</span><br><span class="line">$ source deactivate</span><br></pre></td></tr></table></figure>
<p>pyenv重建环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyenv rehash</span><br></pre></td></tr></table></figure>
<h4 id="源码安装python2.7.9">源码安装python2.7.9</h4>
<pre><code>$ sudo apt-get install -y openssl
$ sudo apt-get install -y libssl-dev # 即 openssl-devel
$ sudo apt-get install -y libffi-dev # 即 libffi-devel
$ sudo apt-get install -y python-openssl
$ sudo apt-get install libbz2-dev
$ sudo apt-get install libxml2-dev
$ sudo apt-get install libxslt1-dev
$ sudo apt-get install sqlite3 libsqlite3-dev
$ sudo apt-get install libmysqlclient-dev


wget -c https://www.python.org/ftp/python/2.7.9/Python-2.7.9.tgz  
tar -xzvf Python-2.7.9.tgz  
cd Python-2.7.9/ </code></pre>
<p>修改源码，支持ssl</p>
<pre><code>vim Modules/Setup.dist


# Socket module helper for SSL support; you must comment out the other
# socket line above, and possibly edit the SSL variable:
#SSL=/usr/local/ssl
#_ssl _ssl.c \
#        -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \
#        -L$(SSL)/lib -lssl -lcrypto</code></pre>
<p>改成</p>
<pre><code># Socket module helper for SSL support; you must comment out the other
# socket line above, and possibly edit the SSL variable:
SSL=/usr/local/ssl
_ssl _ssl.c \
        -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \

        -L$(SSL)/lib -lssl -lcrypto


LDFLAGS=&quot;-L/usr/lib/x86_64-linux-gnu&quot; ./configure  
make  
sudo make install</code></pre>
<h4 id="虚拟环境搭建">虚拟环境搭建</h4>
<p>安装</p>
<pre><code>sudo apt-get install python-virtualenv</code></pre>
<p>创建虚拟环境</p>
<pre><code>cd ~/var/www
virtualenv --no-site-packages -p /usr/local/bin/python Novel # 参数表示不安装系统已经安装的第三方包, -p表示用哪个版本的python</code></pre>
<p>启用虚拟环境</p>
<pre><code>cd /var/www/Novel
source ./bin/activate</code></pre>
<p>虚拟环境安装包</p>
<pre><code>(Novel) pip isntall django==1.8.2 # 不能加sudo</code></pre>
<p>退出虚拟环境，进入正常环境</p>
<pre><code>deactivate</code></pre>
<p>虚拟环境复制</p>
<pre><code>pip freeze &gt; requirements.txt
pip install -r requirements.txt</code></pre>
<h4 id="pip安装超时">pip安装超时</h4>
<pre><code>pip --default-timeout=100 install -U pip</code></pre>
<h4 id="安装python-mysql">安装python-mysql</h4>
<pre><code>sudo apt-get install python-setuptools

sudo apt-get install libmysqld-dev

sudo apt-get install libmysqlclient-dev

sudo apt-get install python-dev

sudo easy_install mysql-python</code></pre>
<p>在终端输入以下内容,不报错则表示成功</p>
<pre><code>import MySQLdb</code></pre>
<h4 id="获取文件修改时间">获取文件修改时间</h4>
<pre><code>import time
filemt= time.localtime(os.stat(filename).st_mtime)  #文件修改时间
filect = time.localtime(os.stat(filename).st_ctime)  #文件创建
print time.strftime(&quot;%Y-%m-%d&quot;,filemt)  
print time.strftime(&quot;%Y-%m-%d&quot;,filect)</code></pre>
<h4 id="获取多少天以前的时间">获取多少天以前的时间</h4>
<pre><code>import datetime
# 30天以前的日期
date_time = (datetime.datetime.now() - datetime.timedelta(days=30)).strftime(&quot;%Y-%m-%d&quot;)
print date_time</code></pre>
<h4 id="去除列表重复项内容">去除列表重复项内容</h4>
<pre><code># 如果列表里面内容为字典
f = lambda x,y:x if y in x else x + [y]
products = reduce(f, [[], ] + products_query)
print products

# 如果列表里面内容为字符串
l1 = [&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;b&#39;,&#39;c&#39;,&#39;a&#39;,&#39;a&#39;]
l2 = list(set(l1))
print l2
# 保持原来的顺序
l1 = [&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;b&#39;,&#39;c&#39;,&#39;a&#39;,&#39;a&#39;]
l2 = sorted(set(l1),key=l1.index)
print l2</code></pre>
<h4 id="md5hash加密">md5，hash加密</h4>
<pre><code>import hashlib
data =  &#39;This a md5 test!&#39;
hash_md5 = hashlib.md5(data)  # md5
hash_md5.hexdigest()

hashlib.sha1(&#39;This is a sha1 test!&#39;).hexdigest() # sha1</code></pre>
<h4 id="打印输出对象">打印输出对象</h4>
<pre><code>from pprint import pprint
pprint(vars(object))</code></pre>
<h1 id="windows安装python相关环境">windows安装python相关环境</h1>
<h4 id="安装虚拟环境">安装虚拟环境</h4>
<pre><code># 安装包
pip install virtualenv
# 创建虚拟环境env
virtualenv.exe  env
# 开启虚拟环境
./scripts/active
# 退出虚拟环境
deactivate</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  
  <p class="site-author-name" itemprop="name">zhuohanchang</p>
  <div class="site-description motion-element" itemprop="description">怕什么真理无穷，进一寸有一寸的欢喜。</div>
</div>


  <nav class="site-state motion-element">
    
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    

    
      
      
      <div class="site-state-item site-state-categories">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span>
        
      </div>
    

    
      
      
      <div class="site-state-item site-state-tags">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>













          
          
        </div>
      </div>

      

      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhuohanchang</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.2.0</div>




        








        
      </div>
    </footer>

    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

    
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "bottomCenter";
      
        pbOptions.networks = "Weibo,Wechat,Douban";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
        flOptions.iconStyle = "box";
      
        flOptions.boxForm = "horizontal";
      
        flOptions.position = "middleRight";
      
        flOptions.networks = "Weibo,Wechat,Douban";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>


    

  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
















  
  









  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>




  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.2.0"></script>



  

  <script src="/js/next-boot.js?v=7.2.0"></script>

  

  

  


  

















  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>














<script>
// GET RESPONSIVE HEIGHT PASSED FROM IFRAME

window.addEventListener("message", function(e) {
  var data = e.data;
  if ((typeof data === 'string') && (data.indexOf('ciu_embed') > -1)) {
    var featureID = data.split(':')[1];
    var height = data.split(':')[2];
    $(`iframe[data-feature=${featureID}]`).height(parseInt(height) + 30);
  }
}, false);
</script>








  

</body>
</html>
