<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">






<link rel="stylesheet" href="/css/main.css?v=7.2.0">






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"always","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    copycode: {"enable":true,"show_result":true,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="学习记录">
<meta property="og:url" content="http://www.zhuohc.com/page/6/index.html">
<meta property="og:site_name" content="学习记录">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="学习记录">





  
  
  <link rel="canonical" href="http://www.zhuohc.com/page/6/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  
  <title>学习记录</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">学习记录</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">73</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/windowsserver服务器基础设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/windowsserver服务器基础设置/" class="post-title-link" itemprop="url">windowsserver服务器基础设置</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 16:04:17" itemprop="dateCreated datePublished" datetime="2016-11-09T16:04:17+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:36:42" itemprop="dateModified" datetime="2019-07-24T09:36:42+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="远程连接">远程连接</h3>
<p>禁止administrators组远程连接</p>
<blockquote>
<p>运行gpedit.msc<br>
计算机配置-&gt;windows设置-&gt;安全设置-&gt;本地策略-&gt;用户权限分配-&gt;通过终端服务允许登录<br>
将Administrators账号删除掉,保留Remote Desktop Users</p>
</blockquote>
<p>创建新的用户</p>
<blockquote>
<p>本地用户和组-&gt;用户右键-&gt;新用户-&gt;输入用户名，设置密码 添加Administrators组，Remote Desktop Users组</p>
</blockquote>
<p>限制登陆次数</p>
<blockquote>
<p>计算机配置-&gt;windows设置-&gt;安全设置-&gt;账户策略-&gt;账户锁定策略”，“账户锁定阈值”设置为 20后，系统会自动设置锁定时间和计数器</p>
</blockquote>
<p>3389端口修改</p>
<blockquote>
<p>修改注册表，是不是需要修改？</p>
</blockquote>
<p>超过2个远程连接处理办法及规避方法</p>
<pre><code>mstsc /console /v:10.10.10.10:3389</code></pre>
<blockquote>
<p>开始－管理工具－终端服务配置－服务器配置－限制每个用户使用一个会话</p>
</blockquote>
<h3 id="防火墙">防火墙</h3>
<p>开启防火墙</p>
<blockquote>
<p>控制面板&gt;防火墙&gt;开启<br>
例外里勾选远程桌面,保证服务器可以正常连接<br>
其他情况就在添加端口里添加即可</p>
</blockquote>
<h3 id="ftp">FTP</h3>
<p>开启ftp</p>
<blockquote>
<p>在控制面板的添加/删除程序——Windows组件向导——应用程序服务器——Internet信息服务(IIS)中选中“文件传输协议(FTP)服务”。<br>
需要文件夹AMD64 设置一个ftp用户ftpuser<br>
在ftp设置中关掉允许匿名连接<br>
主目录中本地路径为E:\FTP<br>
不要勾选写入权限<br>
默认ftp站点新建虚拟目录ftpuser 路径E:\FTP\ftpuser<br>
在防火墙上开启20，21端口 在ftp客户端选择port主动模式，主动模式不需要服务器开启其他端口</p>
</blockquote>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/thinkphp入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/thinkphp入门基础/" class="post-title-link" itemprop="url">thinkphp入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:46:39" itemprop="dateCreated datePublished" datetime="2016-11-09T15:46:39+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:34:35" itemprop="dateModified" datetime="2019-07-24T09:34:35+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/后端/" itemprop="url" rel="index"><span itemprop="name">后端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="url">URL</h3>
<h3 id="配置url伪静态">配置URL伪静态</h3>
<p>3.1版本默认支持.html,.shtml,.xml,.pdf伪静态<br>
在配置文件中配置[是在项目下的配置文件./App/Conf/config.php]</p>
<pre><code>&#39;URL_HTML_SUFFIX&#39;=&gt;&#39;html|shmtl|xml&#39; // 多个用 | 分割</code></pre>
<h3 id="配置url路由">配置URL路由</h3>
<p>基本规则</p>
<blockquote>
<p>一、规则路由<br>
格式1：'路由规则'=&gt;'[分组/模块/操作]?额外参数1=值1&amp;额外参数2=值2...'<br>
格式2：'路由规则'=&gt;array('[分组/模块/操作]','额外参数1=值1&amp;额外参数2=值2...')<br>
格式3：'路由规则'=&gt;'外部地址'<br>
格式4：'路由规则'=&gt;array('外部地址','重定向代码')<br>
注意事项：<br>
路由规则中如果以“:”开头，表示动态变量，否则为静态地址<br>
格式2的额外参数可以传入数组或者字符串<br>
外部地址中如果要引用动态变量， 采用 :1、:2 的方式<br>
路由规则支持变量的数字约束定义，例如：'news/:id\d'=&gt;'News/read'<br>
规则路由可以支持 全动态和动静结合定义，例如':user/blog/:id'=&gt;'Home/Blog/user'<br>
路由规则非数字变量支持排除，例如 'news/:cate^add|edit|delete'=&gt;'News/category'<br>
路由规则中的静态地址部分不区分大小写</p>
</blockquote>
<p>配置文件开启路由</p>
<pre><code>&#39;URL_ROUTER_ON&#39;   =&gt; true, //开启路由
&#39;URL_ROUTE_RULES&#39; =&gt; array( //定义路由规则
    &#39;news/:year/:month/:day&#39; =&gt; array(&#39;News/archive&#39;, &#39;status=1&#39;),
    &#39;news/:id&#39;               =&gt; &#39;News/read&#39;,
    &#39;news/read/:id&#39;          =&gt; &#39;/news/:1&#39;,
 ),</code></pre>
<blockquote>
<p><code>http://serverName/index.php/news/2012/01/08</code>匹配第一条路由<br>
也可以写成<code>'news/:year/:month/:day/'=&gt;'News/archive?status=1',</code> <code>http://serverName/index.php/news/8</code>匹配第二条路由 第三条用于url地址迁移，重定向使用</p>
</blockquote>
<h3 id="正则路由">正则路由</h3>
<blockquote>
<p>正则路由可以实现更加复杂的路由定义，支持的定义格式如下：<br>
格式1：'路由正则'=&gt;'[分组/模块/操作]?参数1=值1&amp;参数2=值2...'<br>
格式2：'路由正则'=&gt;array('[分组/模块/操作]','参数1=值1&amp;参数2=值2...')<br>
格式3：'路由正则'=&gt;'外部地址'<br>
格式4：'路由正则'=&gt;array('外部地址','重定向代码')</p>
</blockquote>
<p>注意事项：<br>
正则路由规则必须以“/”开始和结束<br>
格式2的参数可以传入数组或者字符串<br>
参数值和外部地址中可以用动态变量 采用 :1、 :2 的方式<br>
下面是正则路由的定义示例：</p>
<pre><code>&#39;URL_ROUTER_ON&#39;   =&gt; true, //开启路由
 &#39;URL_ROUTE_RULES&#39; =&gt; array( //定义路由规则
    &#39;/^blog\/(\d+)$/&#39;        =&gt; &#39;Blog/read?id=:1&#39;,
    &#39;/^blog\/(\d+)\/(\d+)$/&#39; =&gt; &#39;Blog/achive?year=:1&amp;month=:2&#39;,
    &#39;/^blog\/(\d+)_(\d+)$/&#39;  =&gt; &#39;blog.php?id=:1&amp;page=:2&#39;,
 ),
 <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">### URL区分大小写</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'URL\_CASE\_INSENSITIVE'</span> =&gt;<span class="keyword">true</span>, <span class="comment">// 不区分 'URL\_CASE\_INSENSITIVE' =&gt;false, // 区分</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">### 缓存</span></span><br><span class="line">    <span class="comment">### 静态缓存</span></span><br><span class="line">    开启静态缓存[是在分组下的配置文件./App/Moduels/Index/Conf/config.php]  </span><br><span class="line">    和静态缓存相关的配置参数包括：  </span><br><span class="line">    HTML_CACHE_ON 是否开启静态缓存功能  </span><br><span class="line">    HTML_FILE_SUFFIX 静态文件后缀 惯例配置的值是 .html  </span><br><span class="line">    HTML_CACHE_TIME 默认的静态缓存有效期 默认<span class="number">60</span>秒 可以在静态规则定义覆盖  </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'HTML\_CACHE\_ON'</span>=&gt;<span class="keyword">true</span>, <span class="string">'HTML\_CACHE\_RULES'</span>=&gt; <span class="keyword">array</span>( <span class="string">'ActionName'</span> =&gt; <span class="keyword">array</span>(<span class="string">'静态规则'</span>, <span class="string">'静态缓存有效期'</span>, <span class="string">'附加规则'</span>), <span class="string">'ModuleName(小写)'</span> =&gt; <span class="keyword">array</span>(<span class="string">'静态规则'</span>, <span class="string">'静态缓存有效期'</span>, <span class="string">'附加规则'</span>), <span class="string">'ModuleName(小写):ActionName'</span> =&gt; <span class="keyword">array</span>(<span class="string">'静态规则'</span>, <span class="string">'静态缓存有效期'</span>, <span class="string">'附加规则'</span>), <span class="string">'*'</span> =&gt; <span class="keyword">array</span>(<span class="string">'静态规则'</span>, <span class="string">'静态缓存有效期'</span>, <span class="string">'附加规则'</span>), <span class="string">'Show:index'</span> =&gt; <span class="keyword">array</span>(<span class="string">'&#123;:module&#125;_&#123;:action&#125;_&#123;id&#125;'</span>, <span class="number">100</span>),</span><br><span class="line"></span><br><span class="line">    所有控制器下read方法缓存，其中，&#123;id&#125; 表示取$_GET[<span class="string">'id'</span>] 为静态缓存文件名，第二个参数表示缓存<span class="number">60</span>秒</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'read'</span>=&gt;<span class="keyword">array</span>(<span class="string">'&#123;id&#125;'</span>,<span class="string">'60'</span>)</span><br><span class="line"></span><br><span class="line">    User控制器下所有方法缓存，其中，&#123;:action&#125; 表示当前的操作名称</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'user:'</span>=&gt;<span class="keyword">array</span>(<span class="string">'User/&#123;:action&#125;_&#123;id&#125;'</span>,<span class="string">'600'</span>)</span><br><span class="line"></span><br><span class="line">    Blog控制器下read方法缓存</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'blog:read'</span>=&gt;<span class="keyword">array</span>(<span class="string">'&#123;id&#125;'</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    全局缓存</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">'*'</span>=&gt;<span class="keyword">array</span>(<span class="string">'&#123;$\_SERVER.REQUEST\_URI|md5&#125;'</span>),</span><br><span class="line"></span><br><span class="line">    静态规则  </span><br><span class="line">    <span class="number">1.</span>  使用系统变量 包括 _GET _REQUEST _SERVER _SESSION _COOKIE</span><br><span class="line">    &gt; &#123;$_×××|<span class="function"><span class="keyword">function</span>&#125;</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">    2.  使用框架特定的变量</span></span><br><span class="line"><span class="function">    &gt; </span>&#123;:app&#125;、&#123;:group&#125; 、&#123;:module&#125; 和&#123;:action&#125; 分别表示当前项目名、分组名、模块名和操作名</span><br><span class="line">    </span><br><span class="line">    <span class="number">3.</span>  使用_GET变量</span><br><span class="line">    &gt; &#123;<span class="keyword">var</span>|<span class="function"><span class="keyword">function</span>&#125;    也就是说 </span>&#123;id&#125; 其实等效于 &#123;$_GET.id&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.</span>  直接使用函数</span><br><span class="line">    &gt; &#123;|<span class="function"><span class="keyword">function</span>&#125;   例如：</span>&#123;|time&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="number">5.</span>  支持混合定义</span><br><span class="line">    &gt; <span class="string">'&#123;id&#125;,&#123;name|md5&#125;'</span>   </span><br><span class="line">    在&#123;&#125;之外的字符作为字符串对待，如果包含有”/”，会自动创建目录。  </span><br><span class="line">    例如，定义下面的静态规则：  </span><br><span class="line">    &#123;:module&#125;/&#123;:action&#125;_&#123;id&#125;  </span><br><span class="line">    则会在静态目录下面创建模块名称的子目录，然后写入操作名_id.shtml 文件。    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    使用get中文参数乱码问题</span><br><span class="line">    <span class="comment">### 原因</span></span><br><span class="line">    中文浏览器中默认使用的是gbk2312编码</span><br><span class="line">    </span><br><span class="line">    <span class="comment">### 解决方法</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">/\*\* \* 解决get参数中带中文的乱码问题 * @param $keywords 传入的关键字 * @<span class="keyword">return</span> string */ <span class="function"><span class="keyword">function</span> <span class="title">decodeToUtf</span><span class="params">($keywords)</span> </span>&#123; $keywords = mb\_convert\_encoding($keywords, <span class="string">'UTF-8'</span>,<span class="string">'GB2312,UTF-8'</span>); <span class="keyword">return</span> $keywords; &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">$keywords = I(<span class="string">'keywords'</span>); $keywords = decodeToUtf($keywords); $page = <span class="keyword">new</span> Page($count,<span class="keyword">self</span>::$perPage); $page-&gt;parameter = <span class="string">'keywords='</span> . $keywords;</span><br></pre></td></tr></table></figure></code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/windows软件运行时错误429,ACTIVEX部件不能创建对象的解决方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/windows软件运行时错误429,ACTIVEX部件不能创建对象的解决方法/" class="post-title-link" itemprop="url">windows软件运行时错误429,ACTIVEX部件不能创建对象的解决方法</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:38:56" itemprop="dateCreated datePublished" datetime="2016-11-09T15:38:56+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:35:20" itemprop="dateModified" datetime="2019-07-24T09:35:20+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="安装软件出现activex部件不能创建对象">安装软件出现“ACTIVEX部件不能创建对象”</h3>
<p>提示错误</p>
<blockquote>
<p>中文：“运行时错误429，ActiveX部件不能创建对象”<br>
英文："Run-time error '429' ActiveX componnent can't create object"</p>
</blockquote>
<p>新建文件，将下面代码复制粘贴，文件另存为xxx.bat 运行xxx.bat，重启电脑，OK.</p>
<pre><code>echo 正在修复，这个过程可能需要几分钟，请稍候…… 
rundll32.exe advpack.dll /DelNodeRunDLL32 %systemroot%\System32\dacui.dll 
rundll32.exe advpack.dll /DelNodeRunDLL32 %systemroot%\Catroot\icatalog.mdb 
regsvr32 /s comcat.dll 
regsvr32 /s asctrls.ocx 
regsvr32 /s oleaut32.dll 
regsvr32 /s shdocvw.dll /I 
regsvr32 /s shdocvw.dll 
regsvr32 /s browseui.dll 
regsvr32 /s browseui.dll /I 
regsvr32 /s msrating.dll 
regsvr32 /s mlang.dll 
regsvr32 /s hlink.dll 
regsvr32 /s mshtml.dll 
regsvr32 /s mshtmled.dll 
regsvr32 /s urlmon.dll 
regsvr32 /s plugin.ocx 
regsvr32 /s sendmail.dll 
regsvr32 /s mshtml.dll /i 
regsvr32 /s scrobj.dll 
regsvr32 /s corpol.dll 
regsvr32 /s jscrīpt.dll 
regsvr32 /s msxml.dll 
regsvr32 /s imgutil.dll 
regsvr32 /s cryptext.dll 
regsvr32 /s inseng.dll 
regsvr32 /s iesetup.dll /i 
regsvr32 /s cryptdlg.dll 
regsvr32 /s actxprxy.dll 
regsvr32 /s dispex.dll 
regsvr32 /s occache.dll 
regsvr32 /s iepeers.dll 
regsvr32 /s urlmon.dll /i 
regsvr32 /s cdfview.dll 
regsvr32 /s webcheck.dll 
regsvr32 /s mobsync.dll 
regsvr32 /s pngfilt.dll 
regsvr32 /s licmgr10.dll 
regsvr32 /s hhctrl.ocx 
regsvr32 /s inetcfg.dll 
regsvr32 /s trialoc.dll 
regsvr32 /s tdc.ocx 
regsvr32 /s MSR2C.DLL 
regsvr32 /s msident.dll 
regsvr32 /s msieftp.dll 
regsvr32 /s xmsconf.ocx 
regsvr32 /s ils.dll 
regsvr32 /s msoeacct.dll 
regsvr32 /s wab32.dll 
regsvr32 /s wabimp.dll 
regsvr32 /s wabfind.dll 
regsvr32 /s oemiglib.dll 
regsvr32 /s directdb.dll 
regsvr32 /s inetcomm.dll 
regsvr32 /s msoe.dll 
regsvr32 /s oeimport.dll 
regsvr32 /s msdxm.ocx 
regsvr32 /s dxmasf.dll 
regsvr32 /s laprxy.dll 
regsvr32 /s l3codecx.ax 
regsvr32 /s acelpdec.ax 
regsvr32 /s mpg4ds32.ax 
regsvr32 /s danim.dll 
regsvr32 /s Daxctle.ocx 
regsvr32 /s lmrt.dll 
regsvr32 /s datime.dll 
regsvr32 /s dxtrans.dll 
regsvr32 /s dxtmsft.dll 
regsvr32 /s wshom.ocx 
regsvr32 /s wshext.dll 
regsvr32 /s vbscrīpt.dll 
regsvr32 /s scrrun.dll mstinit.exe /setup 
regsvr32 /s msnsspc.dll /SspcCreateSspiReg 
regsvr32 /s msapsspc.dll /SspcCreateSspiReg 
echo. 
echo. 
echo 修复成功！任意键退出！ 
pause&gt;nul</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/sublime入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/sublime入门基础/" class="post-title-link" itemprop="url">sublime入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:36:07" itemprop="dateCreated datePublished" datetime="2016-11-09T15:36:07+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:34:15" itemprop="dateModified" datetime="2019-07-24T09:34:15+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="下载地址">下载地址</h3>
<p><a href="http://www.sublimetext.com/3" target="_blank" rel="noopener">http://www.sublimetext.com/3</a></p>
<h3 id="ubuntu下载">Ubuntu下载</h3>
<pre><code>sudo add-apt-repository ppa:webupd8team/sublime-text-3
sudo apt-get update
sudo apt-get install sublime-text-installer</code></pre>
<h3 id="插件下载地址">插件下载地址</h3>
<p><a href="https://packagecontrol.io/" target="_blank" rel="noopener">https://packagecontrol.io/</a></p>
<h3 id="注册码">注册码</h3>
<pre><code>----- BEGIN LICENSE ----
Andrew Weber
Single User License
EA7E-855605
813A03DD 5E4AD9E6 6C0EEB94 BC99798F
942194A6 02396E98 E62C9979 4BB979FE
91424C9D A45400BF F6747D88 2FB88078
90F5CC94 1CDC92DC 8457107A F151657B
1D22E383 A997F016 42397640 33F41CFC
E1D0AE85 A0BBD039 0E9C8D55 E1B89D5D
5CDB7036 E56DE1C0 EFCC0840 650CD3A6
B98FC99C 8FAC73EE D2B95564 DF450523
------ END LICENSE ------</code></pre>
<h3 id="安装package-control">安装Package Control</h3>
<pre><code>import urllib.request,os; pf = &#39;Package Control.sublime-package&#39;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), &#39;wb&#39;).write(urllib.request.urlopen( &#39;http://sublime.wbond.net/&#39; + pf.replace(&#39; &#39;,&#39;%20&#39;)).read())</code></pre>
<h3 id="安装模板material-theme">安装模板Material Theme</h3>
<p>配置方法</p>
<pre><code>Package Control Messages
========================

Material Theme
--------------

  Material Theme for Sublime Text 3

  For more information on the Material Theme: https://github.com/equinusocio/material-theme

  **********************************************************************************************

  If installing manually (not through Package Control), add the following to your 
  Settings - User file and restart Sublime Text after:

  {
    &quot;theme&quot;: &quot;Material-Theme.sublime-theme&quot;,
    &quot;color_scheme&quot;: &quot;Packages/Material Theme/schemes/Material-Theme.tmTheme&quot;,
  }

  **********************************************************************************************

  This theme includes a Darker and Lighter version:

  Darker version:

  {
    &quot;theme&quot;: &quot;Material-Theme-Darker.sublime-theme&quot;,
    &quot;color_scheme&quot;: &quot;Packages/Material Theme/schemes/Material-Theme-Darker.tmTheme&quot;,
  }

  Lighter version:

  {
    &quot;theme&quot;: &quot;Material-Theme-Lighter.sublime-theme&quot;,
    &quot;color_scheme&quot;: &quot;Packages/Material Theme/schemes/Material-Theme-Lighter.tmTheme&quot;,
  }

  **********************************************************************************************

  Recommended UI and font settings for a better experience:

  {
    &quot;overlay_scroll_bars&quot;: &quot;enabled&quot;,
    &quot;line_padding_top&quot;: 3,
    &quot;line_padding_bottom&quot;: 3,
    &quot;always_show_minimap_viewport&quot;: true,
    &quot;bold_folder_labels&quot;: true,
    &quot;indent_guide_options&quot;: [ &quot;draw_normal&quot;, &quot;draw_active&quot; ]    // Highlight active indent
    &quot;font_options&quot;: [ &quot;gray_antialias&quot; ],                       // For retina Mac
  }

  **********************************************************************************************

  Other available theme options:

  &quot;material_theme_small_tab&quot;: true,                           // Set small tabs
  &quot;material_theme_disable_fileicons&quot;: true,                   // Hide siderbar file type icons
  &quot;material_theme_disable_folder_animation&quot;: true,            // Disable folder animation
  &quot;material_theme_small_statusbar&quot;: true,                     // Set small status bar
  &quot;material_theme_disable_tree_indicator&quot;: true,              // Disable sidebar file indicator
  &quot;material_theme_bold_tab&quot;: true,                            // Make the tab labels bolder
  &quot;material_theme_tabs_separator&quot;: true,                      // Show tabs separator
  &quot;material_theme_accent_lime&quot;: true,                         // set green lime accent color
  &quot;material_theme_accent_purple&quot;: true,                       // set purple accent color
  &quot;material_theme_accent_red&quot;: true,                          // set pale red accent color
  &quot;material_theme_accent_orange&quot;: true,                       // set orange accent color
  &quot;material_theme_accent_yellow&quot;: true,                       // set yellow accent color
  &quot;material_theme_panel_separator&quot;: true,                     // show bottom panel separator
  &quot;material_theme_tabs_autowidth&quot;: true,                      // Enable autowidth for tabs
  &quot;material_theme_contrast_mode&quot;: true,                       // Enable sidebar and panels contrast mode</code></pre>
<h3 id="设置空格缩进">设置空格缩进</h3>
<pre><code>{    
    &quot;tab_size&quot;: 4,    
    &quot;translate_tabs_to_spaces&quot;: true 
} </code></pre>
<h3 id="设置行间距">设置行间距</h3>
<pre><code>{
    &quot;line_padding_bottom&quot;: 3, 
    &quot;line_padding_top&quot;: 3,
}    </code></pre>
<h3 id="插件安装">插件安装</h3>
<p><strong>Emmet(懂的)</strong><br>
<strong>ConvertToUtf8(编码转换)</strong><br>
<strong>Sublime​Linter(代码检查工具，需要配合各语言插件包检查)</strong><br>
<strong>SideBarEnhancements（侧边栏右键增强）</strong><br>
<strong>Bracket​Highlighter（显示标签块？？）</strong><br>
<strong>SublimeCodeIntel(跳转到自定义函数)</strong></p>
<blockquote>
<p>For Windows:<br>
Jump to definition = Alt+Click<br>
Jump to definition = Control+Windows+Alt+Up<br>
Go back = Control+Windows+Alt+Left<br>
Manual Code Intelligence = Control+Shift+space<br>
需要自己设置执行路径</p>
</blockquote>
<pre><code>        &quot;PHP&quot;: {
            &quot;php&quot;: &quot;D:\\PHP\\php.exe&quot;,
            &quot;codeintel_scan_extra_dir&quot;: [],
            &quot;codeintel_scan_files_in_project&quot;: true,
            &quot;codeintel_max_recursive_dir_depth&quot;: 15,
            &quot;codeintel_scan_exclude_dir&quot;:[&quot;D:\\PHP&quot;]
        }</code></pre>
<p><strong>HTML5(html5的snippets)</strong><br>
<strong>Alignment(自动对齐插件)</strong><br>
<strong>SFTP(ftp上传)需要配置对应的ftp路径等信息</strong> <strong>git</strong> <strong>jquery(jquery snippets)</strong> <strong>SaSS(可以支持sass)</strong> <strong>DocBlockr（块状注释）</strong></p>
<h3 id="ubuntu安装中文输入法">ubuntu安装中文输入法</h3>
<h3 id="安装">安装</h3>
<pre><code>git clone https://github.com/lyfeyaj/sublime-text-imfix.git</code></pre>
<h3 id="复制文件">复制文件</h3>
<pre><code>cd ~/sublime-text-imfix
sudo cp ./lib/libsublime-imfix.so /opt/sublime_text/
sudo cp ./src/subl /usr/bin/</code></pre>
<h3 id="测试">测试</h3>
<p>终端输入</p>
<pre><code>LD_PRELOAD=./libsublime-imfix.so subl</code></pre>
<h3 id="建立快捷方式">建立快捷方式</h3>
<p>新建文件sublime放在/home目录下，脚本内容：</p>
<pre><code>#!/bin/bash
LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so subl</code></pre>
<h3 id="测试-1">测试</h3>
<p>终端输入</p>
<pre><code>bash ~/sublime</code></pre>
<h3 id="快捷方式修改">快捷方式修改</h3>
<p>将[Desktop Entry]中的字符串<br>
Exec=/opt/sublime_text/sublime_text %F<br>
修改为<br>
Exec=bash -c "LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text %F"<br>
将[Desktop Action Window]中的字符串<br>
Exec=/opt/sublime_text/sublime_text -n<br>
修改为<br>
Exec=bash -c "LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text -n"<br>
将[Desktop Action Document]中的字符串<br>
Exec=/opt/sublime_text/sublime_text --command new_file<br>
修改为<br>
Exec=bash -c "LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text --command new_file"<br>
注意：<br>
修改时请注意双引号"",否则会导致不能打开带有空格文件名的文件。</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/git入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/git入门基础/" class="post-title-link" itemprop="url">git入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:19:56" itemprop="dateCreated datePublished" datetime="2016-11-09T15:19:56+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-08-23 15:49:18" itemprop="dateModified" datetime="2019-08-23T15:49:18+08:00">2019-08-23</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="配置">配置</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置代理</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global http.proxy <span class="string">'socks5://127.0.0.1:1080'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global https.proxy <span class="string">'socks5://127.0.0.1:1080'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看配置项</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --list</span></span><br></pre></td></tr></table></figure>
<h4 id="创建项目">创建项目</h4>
<pre><code>git init</code></pre>
<h4 id="查看分支">查看分支</h4>
<pre><code>E:\HKMAIN (master)
λ git branch
* master
  v1.1
  v1.2
λ git branch -v
* master bf0d2bf 蛋白模板修改USAGE:Reconstitute in sterile ddH2O.
  v1.1   b48a782 试剂盒现货列表添加样本信息一栏
  v1.2   acbf4f1 c1.2</code></pre>
<h4 id="删除分支">删除分支</h4>
<p>查看未合并的分支</p>
<pre><code>λ git branch --no-merged</code></pre>
<p>删除分支</p>
<pre><code>git branch -d v1.1</code></pre>
<p>如果是未合并的分支，使用大写的-D</p>
<pre><code>E:\HKMAIN (master)
λ git branch -d v1.1
Deleted branch v1.1 (was b48a782).

E:\HKMAIN (master)
λ git branch -v
* master bf0d2bf 蛋白模板修改USAGE:Reconstitute in sterile ddH2O.
  v1.2   acbf4f1 c1.2</code></pre>
<h3 id="创建分支">创建分支</h3>
<pre><code>git branch v2.0


E:\HKMAIN (master)
λ git branch Vmysql

E:\HKMAIN (master)
λ git branch
  Vmysql
* master
  v1.2

E:\HKMAIN (master)
λ git checkout Vmysql
Switched to branch &#39;Vmysql&#39;

E:\HKMAIN (Vmysql)
λ</code></pre>
<p>或者直接使用git checkout -b v3.0</p>
<pre><code>E:\HKMAIN (Vmysql)
λ git checkout -b Vsqlserver
Switched to a new branch &#39;Vsqlserver&#39;

E:\HKMAIN (Vsqlserver)
λ git branch
  Vmysql
* Vsqlserver
  master
  v1.2</code></pre>
<h3 id="git查看远程仓库">git查看远程仓库</h3>
<pre><code># git查看远程仓库
git remote -v
# git添加远程仓库
git remote add xxx git@gitlab.xxx.com:xxx/xxx
# 删除远程分值
git remote rm xxx</code></pre>
<h3 id="git-stash">git stash</h3>
<p>使用git stash命令先把当前进度保存起来，然后切换到另一个分支去修改bug，修改完提交后，再切回dev分支，使用git stash pop来恢复之前的进度继续开发新功能。</p>
<pre><code># 保存当前进度
git stash
# 查看现有的存储
git stash list
# 恢复最新的进度到工作区
git stash pop
git stash save your-file-name</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/excel入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/excel入门基础/" class="post-title-link" itemprop="url">Excel入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:14:08" itemprop="dateCreated datePublished" datetime="2016-11-09T15:14:08+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:25:47" itemprop="dateModified" datetime="2019-07-24T09:25:47+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="返回最后一个值倒数第二个值">返回最后一个值、倒数第二个值</h3>
<pre><code>=LOOKUP(1,0/(A2:J2&lt;&gt;&quot;&quot;),A2:J2)
=LOOKUP(1,0/(B2:J2&lt;&gt;&quot;&quot;),A2:J2)</code></pre>
<h3 id="返回时间差">返回时间差</h3>
<pre><code>=DATEDIF(--TEXT(F2,&quot;00-00-00&quot;),TODAY(),&quot;D&quot;)</code></pre>
<h3 id="vlookup-逆向检索">VLOOKUP 逆向检索</h3>
<blockquote>
<p>http://zhidao.baidu.com/link?url=-1b12Kx36WQ4vf05DIDhZmxCOtvC6Zdhc62kve1QRoF-hV_Hbl3cZDuBZOYgGRjEo513fDk9-UL6gfUnMI9Jna</p>
</blockquote>
<pre><code>=VLOOKUP(C2,IF({1,0},Sheet2!$D$2:$D$5,Sheet2!$A$2:$A$5),2,FALSE)
=INDEX(Sheet2!A:A,MATCH(Sheet1!C2,Sheet2!D:D,0))</code></pre>
<h3 id="多条件统计求和-countifs">多条件统计求和 COUNTIFS</h3>
<p>统计每个部门人数</p>
<pre><code>{=SUM(IFERROR(1/(COUNTIFS(Sheet2!L$2:Sheet2!L$250,B5,Sheet2!N$2:Sheet2!N$250,Sheet2!N$2:Sheet2!N$250)*(Sheet2!L$2:Sheet2!L$250=B5)),))}</code></pre>
<p><img src="http://7xq3ry.com1.z0.glb.clouddn.com/20160304142206.png"></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/wireshark抓包基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/wireshark抓包基础/" class="post-title-link" itemprop="url">wireshark抓包基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 15:09:21" itemprop="dateCreated datePublished" datetime="2016-11-09T15:09:21+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:35:45" itemprop="dateModified" datetime="2019-07-24T09:35:45+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="nmap安装">nmap安装</h3>
<pre><code>sudo apt-get install nmap</code></pre>
<h3 id="zenmap图形gui安装">Zenmap图形GUI安装</h3>
<pre><code>sudo apt-get install Zenmap</code></pre>
<h3 id="扫描主机">扫描主机</h3>
<pre><code>nmap -T4 -A -v 192.168.1.3/16</code></pre>
<p>其中-A选项用于使用进攻性（Aggressive）方式扫描；-T4指定扫描过程使用的时序（Timing），总有6个级别（0-5），级别越高，扫描速度越快，但也容易被防火墙或IDS检测并屏蔽掉，在网络通讯状况良好的情况推荐使用T4；-v表示显示冗余（verbosity）信息，在扫描过程中显示扫描的细节，从而让用户了解当前的扫描状态。<br>
/32 表示扫描 192.168.1.3<br>
/24 表示扫描 192.168.1.0-192.168.1.255<br>
/16 表示扫描 192.168.0.0-192.168.255.255<br>
/8<br>
/1<br>
参考<a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener">cird</a></p>
<h3 id="nmap所识别的6个端口状态">Nmap所识别的6个端口状态。</h3>
<p>open(开放的) 应用程序正在该端口接收TCP 连接或者UDP报文。发现这一点常常是端口扫描 的主要目标。安全意识强的人们知道每个开放的端口 都是攻击的入口。攻击者或者入侵测试者想要发现开放的端口。 而管理员则试图关闭它们或者用防火墙保护它们以免妨碍了合法用户。 非安全扫描可能对开放的端口也感兴趣，因为它们显示了网络上那些服务可供使用。 closed(关闭的) 关闭的端口对于Nmap也是可访问的(它接受Nmap的探测报文并作出响应)， 但没有应用程序在其上监听。 它们可以显示该IP地址上(主机发现，或者ping扫描)的主机正在运行up 也对部分操作系统探测有所帮助。 因为关闭的关口是可访问的，也许过会儿值得再扫描一下，可能一些又开放了。 系统管理员可能会考虑用防火墙封锁这样的端口。 那样他们就会被显示为被过滤的状态，下面讨论。 filtered(被过滤的) 由于包过滤阻止探测报文到达端口， Nmap无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由器规则 或者主机上的软件防火墙。这样的端口让攻击者感觉很挫折，因为它们几乎不提供 任何信息。有时候它们响应ICMP错误消息如类型3代码13 (无法到达目标: 通信被管理员禁止)，但更普遍的是过滤器只是丢弃探测帧， 不做任何响应。 这迫使Nmap重试若干次以访万一探测包是由于网络阻塞丢弃的。 这使得扫描速度明显变慢。 unfiltered(未被过滤的) 未被过滤状态意味着端口可访问，但Nmap不能确定它是开放还是关闭。 只有用于映射防火墙规则集的ACK扫描才会把端口分类到这种状态。 用其它类型的扫描如窗口扫描，SYN扫描，或者FIN扫描来扫描未被过滤的端口可以帮助确定 端口是否开放。 open|filtered(开放或者被过滤的) 当无法确定端口是开放还是被过滤的，Nmap就把该端口划分成 这种状态。开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃 了探测报文或者它引发的任何响应。因此Nmap无法确定该端口是开放的还是被过滤的。 UDP，IP协议， FIN，Null，和Xmas扫描可能把端口归入此类。 closed|filtered(关闭或者被过滤的) 该状态用于Nmap不能确定端口是关闭的还是被过滤的。 它只可能出现在IPID Idle扫描中。</p>
<h3 id="监视指定网络接口的数据包tcpdump">监视指定网络接口的数据包tcpdump</h3>
<p>如果不指定网卡，默认tcpdump只会监视第一个网络接口，一般是eth0，</p>
<pre><code>tcpdump -i eth0</code></pre>
<h3 id="路由追踪traceroute">路由追踪traceroute</h3>
<p>linux</p>
<pre><code>sudo apt-get install traceroute  
traceroute hostname</code></pre>
<p>window</p>
<pre><code>tracert hostname</code></pre>
<h3 id="ubuntu开启和关闭混杂模式">ubuntu开启和关闭混杂模式</h3>
<p>``` ifconfig eth0 promisc # 设置eth0为混杂模式。 ifconfig eth0 -promisc # 取消它的混杂模式</p>
<pre><code>ifconfig参数详解</code></pre>
<p>字段含义说明： eth0/eth1： 分别表示第一块网卡和第二块网卡； lo： 表示回环测试接口，注意，这个虚拟的interface一定要存在！ usb0： 表示USB接口的网卡； Linkencap： 表示位于OSI物理层的名称，即连接类型Ethernet（以太网） HWaddr： 表示网卡的硬件地址，即MAC地址 inetaddr ： 表示网卡IP； Bcast： 表示广播(broadcast ) 的地址； Mask： 表示子网掩码； UP： 表示网卡开启状态； BROADCAST： 表示支持广播； MULTICAST： 表示网卡混杂模式； RUNNING： 表示网卡的网线被接上； MULTICAST： 表示支持组播； MTU： 表示MaximumTrasmission Unit 最大传输单元(字节)，即此接口一次所能传输的最大封包； Metric： 表示路由度量值，缺省值是0； RX： 表示网络由激活到目前为止接收的数据包； TX： 表示网络由激活到目前为止发送的数据包； collisions： 表示网络信号冲突的情况； txqueuelen： 表示传输缓冲区长度大小； Memory： 表示占用内存范围。</p>
<pre><code>### 安装wireshark</code></pre>
<p>sudo apt-get install wireshark</p>
<pre><code>wireshark捕获过滤器  </code></pre>
<p>src 192.168.0.10 &amp;&amp; port 80 源地址192.168.0.10和端口为80相关<br>
host 192.160.0.1 和主机192.168.0.1相关<br>
src host 192.168.0.1<br>
port 8080<br>
!port 8080<br>
dst port 80<br>
icmp<br>
!ip6</p>
<pre><code>wireshark显示过滤器  </code></pre>
<p>!tcp<br>
ip.addr == 192.168.0.1<br>
frame.len &lt;= 128<br>
tcp.port == 23 || tcp.port == 21<br>
smtp || pop || imap<br>
ip.addr == 192.168.0.1 or ip.addr == 192.168.0.2</p>
<h1 id="操作符-.">操作符 ==, !=, &gt;, &lt;, &gt;=. &lt;=</h1>
<h1 id="操作符-and-or-xor有且仅有1个满足-not">操作符 and, or, xor(有且仅有1个满足), not</h1>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/jetbrains使用配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/jetbrains使用配置/" class="post-title-link" itemprop="url">jetbrains使用配置</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:57:21" itemprop="dateCreated datePublished" datetime="2016-11-09T14:57:21+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:26:56" itemprop="dateModified" datetime="2019-07-24T09:26:56+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/办公/" itemprop="url" rel="index"><span itemprop="name">办公</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="需要新的license">需要新的license</h3>
<p>选择server license<br>
添加 http://idea.lanyus.com/<br>
点击 "ok"<br>
成功添加<br>
phpstorm10.03开始使用http://idea.qinxi1992.cn/<br>
pycharm</p>
<pre><code>43B4A73YYJ-eyJsaWNlbnNlSWQiOiI0M0I0QTczWVlKIiwibGljZW5zZWVOYW1lIjoibGFuIHl1IiwiYXNzaWduZWVOYW1lIjoiIiwiYXNzaWduZWVFbWFpbCI6IiIsImxpY2Vuc2VSZXN0cmljdGlvbiI6IkZvciBlZHVjYXRpb25hbCB1c2Ugb25seSIsImNoZWNrQ29uY3VycmVudFVzZSI6ZmFsc2UsInByb2R1Y3RzIjpbeyJjb2RlIjoiSUkiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJBQyIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IkRQTiIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlBTIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiRE0iLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJDTCIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlJTMCIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IlJDIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiUEMiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJSTSIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9LHsiY29kZSI6IldTIiwicGFpZFVwVG8iOiIyMDE3LTAyLTI1In0seyJjb2RlIjoiREIiLCJwYWlkVXBUbyI6IjIwMTctMDItMjUifSx7ImNvZGUiOiJEQyIsInBhaWRVcFRvIjoiMjAxNy0wMi0yNSJ9XSwiaGFzaCI6IjMzOTgyOTkvMCIsImdyYWNlUGVyaW9kRGF5cyI6MCwiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-keaxIkRgXPKE4BR/ZTs7s7UkP92LBxRe57HvWamu1EHVXTcV1B4f/KNQIrpOpN6dgpjig5eMVMPmo7yMPl+bmwQ8pTZaCGFuLqCHD1ngo6ywHKIQy0nR249sAUVaCl2wGJwaO4JeOh1opUx8chzSBVRZBMz0/MGyygi7duYAff9JQqfH3p/BhDTNM8eKl6z5tnneZ8ZG5bG1XvqFTqWk4FhGsEWdK7B+He44hPjBxKQl2gmZAodb6g9YxfTHhVRKQY5hQ7KPXNvh3ikerHkoaL5apgsVBZJOTDE2KdYTnGLmqxghFx6L0ofqKI6hMr48ergMyflDk6wLNGWJvYHLWw==-MIIEPjCCAiagAwIBAgIBBTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE1MTEwMjA4MjE0OFoXDTE4MTEwMTA4MjE0OFowETEPMA0GA1UEAwwGcHJvZDN5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQC9WZuYgQedSuOc5TOUSrRigMw4/+wuC5EtZBfvdl4HT/8vzMW/oUlIP4YCvA0XKyBaCJ2iX+ZCDKoPfiYXiaSiH+HxAPV6J79vvouxKrWg2XV6ShFtPLP+0gPdGq3x9R3+kJbmAm8w+FOdlWqAfJrLvpzMGNeDU14YGXiZ9bVzmIQbwrBA+c/F4tlK/DV07dsNExihqFoibnqDiVNTGombaU2dDup2gwKdL81ua8EIcGNExHe82kjF4zwfadHk3bQVvbfdAwxcDy4xBjs3L4raPLU3yenSzr/OEur1+jfOxnQSmEcMXKXgrAQ9U55gwjcOFKrgOxEdek/Sk1VfOjvS+nuM4eyEruFMfaZHzoQiuw4IqgGc45ohFH0UUyjYcuFxxDSU9lMCv8qdHKm+wnPRb0l9l5vXsCBDuhAGYD6ss+Ga+aDY6f/qXZuUCEUOH3QUNbbCUlviSz6+GiRnt1kA9N2Qachl+2yBfaqUqr8h7Z2gsx5LcIf5kYNsqJ0GavXTVyWh7PYiKX4bs354ZQLUwwa/cG++2+wNWP+HtBhVxMRNTdVhSm38AknZlD+PTAsWGu9GyLmhti2EnVwGybSD2Dxmhxk3IPCkhKAK+pl0eWYGZWG3tJ9mZ7SowcXLWDFAk0lRJnKGFMTggrWjV8GYpw5bq23VmIqqDLgkNzuoog==</code></pre>
<h3 id="输入法问题">输入法问题</h3>
<p>升级到ubuntu16.04后，输入无法使用<br>
去安装目录bin文件夹下找到启动idea.sh,用编辑器打开，添加</p>
<pre><code>XMODIFIERS=&quot;@im=fcitx&quot;
export XMODIFIERS</code></pre>
<p>在</p>
<pre><code># ---------------------------------------------------------------------
# Run the IDE.
# ---------------------------------------------------------------------</code></pre>
<p>上面即可！</p>
<h3 id="ubuntu安装">ubuntu安装</h3>
<p>下载并压缩到/opt/目录下,并在/usr/share/appliactions/下创建快捷方式的文件，命名为phpstorm.desktop,编辑如下代码，保存</p>
<pre><code>[Desktop Entry]
Categories=Development;
Comment[zh_CN]=
Comment=
Exec=/opt/phpstorm/bin/phpstorm.sh
GenericName[zh_CN]=IDE
GenericName=IDE
Icon=/opt/phpstorm/bin/webide.png
Name[zh_CN]=phpStorm
Name=phpStorm　　　　　　　
Path=
StartupNotify=true
Terminal=false
Type=Application
X-DBUS-ServiceName=
X-DBUS-StartupType=
X-KDE-SubstituteUID=false
X-KDE-Username=Learn Programming</code></pre>
<h3 id="界面样式">界面样式</h3>
<p><a href="https://github.com/jkaving/intellij-colors-solarized" target="_blank" rel="noopener">theme</a><br>
<a href="https://github.com/ChrisRM/material-theme-jetbrains" target="_blank" rel="noopener">背景修改，含theme</a></p>
<h3 id="界面配置">界面配置</h3>
<p>显示行号<br>
Editor-&gt;General-&gt;Appearance-&gt;Show line number<br>
关闭自动保存<br>
Appearance&amp;Behavior-&gt;System settings-&gt;save files on frame deactivation 关闭<br>
Editor-&gt;General-&gt;Editor tabs-&gt;Mark modified tabs with asterisk 勾选</p>
<h3 id="theme安装">theme安装</h3>
<p>安装模板下载http://phpstorm-themes.com/<br>
ubuntu安装地址~/.pycharm/config/colors/ ###快捷键 Ctrl+/ 或 Ctrl+Shift+/ 注释（// 或者/<em>…</em>/ ）<br>
Shift+F6 重构-重命名<br>
Ctrl+X 删除行<br>
Ctrl+D 复制行<br>
Ctrl+G 查找行<br>
Ctrl+Shift+Up/Down 代码向上/下移动。<br>
F2 或Shift+F2 高亮错误或警告快速定位<br>
写代码，按Tab 生成代码<br>
选中文本，按Ctrl+Shift+F7 高亮显示所有该文本，按Esc高亮消失。(因为这个功能我就可以发放心的放弃sublime了)<br>
Ctrl+B或Ctrl+鼠标左键单击 快速打开光标处的类或方法，（NB的功能）<br>
Ctrl + Alt + B Go to implementation(s) 跳转方法实现处<br>
Ctrl + Shift + I Open quick definition lookup 打开定义快速查找<br>
Alt + Up/Down Go to previous/next method 跳转到上一个/下一个方法<br>
Ctrl+E 最近打开的文件<br>
Alt+F1 查找代码所在位置<br>
Ctrl+Alt+L 格式化代码<br>
Ctrl+R 替换文本<br>
Ctrl+F 查找文本<br>
Ctrl+P 方法参数提示<br>
F3 查找下一个<br>
Shift+F3 查找上一个<br>
alt+Shift+F 将当前文件加入收藏夹<br>
ctrl+alt+s 打开配置窗口<br>
ctrl+Shift+N 通过文件名快速查找工程内的文件（必记）<br>
ctrl+Shift+alt+N 通过一个字符快速查找位置（必记）<br>
Shift+enter 重新开始一行（无论光标在哪个位置）<br>
Ctrl + Alt + T with…（if, else, try, catch, for, etc）用 * 来围绕选中的代码行，（ * 包括 if 、 while 、 try catch 等）<br>
Ctrl + Shift + U Toggle case for word at caret or selected block 光标所在位置大小写<br>
Ctrl + Delete Delete to word end 删除文字结束<br>
Ctrl + Backspace Delete to word start 删除文字开始<br>
Ctrl + E Recent files popup 弹出最近打开的文件<br>
F11 Toggle bookmark 切换标记，我觉得叫书签更好，就是sublime text 的F2<br>
Ctrl + Shift + F12 Toggle maximizing editor 切换最大化编辑器<br>
Alt + Shift + F Add to Favorites 添至收藏夹</p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/apache入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/apache入门基础/" class="post-title-link" itemprop="url">Apache入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:46:39" itemprop="dateCreated datePublished" datetime="2016-11-09T14:46:39+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:24:09" itemprop="dateModified" datetime="2019-07-24T09:24:09+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/运维/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="查看apache加载的模块">查看apache加载的模块</h3>
<pre><code>apachectl -t -D DUMP_MODULES  </code></pre>
<h3 id="禁用和启用模块">禁用和启用模块</h3>
<pre><code>sudo a2dismod python
sudo a2enmod python</code></pre>
<h3 id="查看版本号">查看版本号</h3>
<pre><code>apachectl -v</code></pre>
<h3 id="赋予权限">赋予权限</h3>
<p>2.2.x以下版本</p>
<pre><code>Order deny,allow
Allow from all</code></pre>
<p>2.4.x以上版本</p>
<pre><code>Require all granted</code></pre>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.zhuohc.com/2016/11/09/django入门基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhuohanchang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习记录">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/11/09/django入门基础/" class="post-title-link" itemprop="url">django入门基础</a>
              
            
          </h2>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-11-09 14:41:04" itemprop="dateCreated datePublished" datetime="2016-11-09T14:41:04+08:00">2016-11-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-07-24 09:25:47" itemprop="dateModified" datetime="2019-07-24T09:25:47+08:00">2019-07-24</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/后端/" itemprop="url" rel="index"><span itemprop="name">后端</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="号重新更新基本安装和线上部署">2017.11.10号重新更新基本安装和线上部署</h3>
<p>环境：python3.5 django1.11</p>
<pre><code># 安装环境
$ sudo apt-get update
$ sudo apt-get install python3-pip apache2 libapache2-mod-wsgi-py3
$ sudo pip3 install virtualenv


# 安装项目目录
$ cd ~/www/html/
$ virtualenv --no-site-packages -p /usr/bin/python3.5 CCO
$ cd CCO
$ source ./bin/activate
(CCO) $ pip3 install ipython
(CCO) $ pip3 install Django==1.11.7
# 查看django是否安装成功
(CCO) $  ipython
 &gt; import django
 &gt; django.VERSION # 打印出django版本表示成功
# 开始创建项目
(CCO) $ django-admin.py startproject CCO_WEB
# 创建应用
(CCO) $ cd CCO_WEB
(CCO) $ django-admin.py startapp polls


# 修改文件内容
(CCO) $ vim CCO_WEB/CCO_WEB/setting.py
ALLOWED_HOSTS = [&#39;127.0.0.1&#39;, &#39;localhost&#39;]  # 修改
STATIC_URL = &#39;/static/&#39; # 原始
STATIC_ROOT = os.path.join(BASE_DIR, &#39;static/&#39;) # 添加


# 创建数据库和超级管理员
(CCO) $ ./manage.py makemigrations
(CCO) $ ./manage.py migrate
(CCO) $ ./manage.py createsuperuser # 创建超级管理员
(CCO) $ ./manage.py collectstatic # 收集静态文件


### 用django自带服务器运行
(CCO) $ sudo ufw allow 8000 # 关闭防火墙
(CCO) $ ./manage.py runserver 0.0.0.0:8000 # 成功表示django开发环境配置完成


### 线上部署
apache虚拟主机配置
$ sudo vim /etc/apache2/sites-available/www.cco.com.conf
&lt;VirtualHost *:80&gt;
        ServerName www.example.com
        ServerAdmin webmaster@localhost
         # 这里指明静态文件存放的地方
    Alias /static  /home/hanchang/www/html/CCO/CCO_WEB/static
    # 给文件夹分配权限
    &lt;Directory /home/hanchang/www/html/CCO/CCO_WEB/static&gt;
            Require all granted
    &lt;/Directory&gt;
    #接下来，我们将授予访问存储Django代码的二级项目目录中的wsgi.py文件的权限。
    &lt;Directory /home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB&gt;
    &lt;Files wsgi.py&gt;
            Require all granted
    &lt;/Files&gt;
    &lt;/Directory&gt;
        WSGIDaemonProcess CCO_WEB python-home=/home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB python-path=/home/hanchang/www/html/CCO
    WSGIProcessGroup CCO_WEB
    WSGIScriptAlias / /home/hanchang/www/html/CCO/CCO_WEB/CCO_WEB/wsgi.py
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;


### 线上
sudo a2ensite www.cco.com
sudo service apache2 restart
http://127.0.0.1 查看
原文查看　https://www.digitalocean.com/community/tutorials/how-to-serve-django-applications-with-apache-and-mod_wsgi-on-ubuntu-16-04</code></pre>
<h3 id="数据库安装">数据库安装</h3>
<pre><code>$ sudo apt-get install python-setuptools
$ sudo apt-get install libmysqld-dev
$ sudo apt-get install libmysqlclient-dev
$ sudo apt-get install python-dev
$ sudo easy_install mysql-python
$ pip3 install mysqlclient</code></pre>
<h3 id="安装">安装</h3>
<pre><code># 需要先安装虚拟环境
(Novel) pip isntall django==1.8.2 # 不能加sudo</code></pre>
<h3 id="查看是否安装成功及版本号">查看是否安装成功及版本号</h3>
<pre><code>python
import django
django.VERSION</code></pre>
<h3 id="安装mysqldb">安装MysqlDb</h3>
<p>ubuntu</p>
<pre><code># ubuntu安装步骤：
sudo apt-get install python-setuptools
sudo apt-get install libmysqld-dev
sudo apt-get install libmysqlclient-dev
sudo apt-get install python-dev
sudo easy_install mysql-python</code></pre>
<p>windows下https://pypi.python.org/pypi/MySQL-python/1.2.5 下载.exe一键安装</p>
<h3 id="创建项目">创建项目</h3>
<pre><code>django-admin.py startproject Novel</code></pre>
<h3 id="创建app">创建APP</h3>
<pre><code>python manage.py startapp Heros</code></pre>
<p>/Novel/settings.py</p>
<pre><code>INSTALLED_APPS = (
    ...
    &#39;Heroes&#39;,  #这里填写的是app的名称
)</code></pre>
<h3 id="命令行调试模式">命令行调试模式</h3>
<pre><code>python manage.py shell</code></pre>
<h3 id="运行开发服务器">运行开发服务器</h3>
<pre><code>cd mysite
python manage.py runserver 或者
python manage.py runserver 0.0.0.0:8000</code></pre>
<h3 id="运行shell脚本方式">运行shell脚本方式</h3>
<pre><code>python manager.py shell # 启动脚本环境
from testapp.models import *  # 导入数据库</code></pre>
<h3 id="部署线上环境">部署线上环境</h3>
<p>安装apache模块</p>
<pre><code># Python 2
sudo apt-get install libapache2-mod-wsgi

# Python 3
sudo apt-get install libapache2-mod-wsgi-py3</code></pre>
<p>Novel/Novel/wsgi.py</p>
<pre><code>import os
import sys
sys.path.append(&#39;/var/www/html/Novel/&#39;)
sys.path.append(&#39;/var/www/html/Novel/Novel/&#39;)
sys.path.append(&#39;/var/www/html/Novel/lib/python2.7/site-packages&#39;) # 虚拟环境需要添加
from django.core.wsgi import get_wsgi_application


os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;Novel.settings&quot;)
application = get_wsgi_application()</code></pre>
<p>/etc/apache2/sites-enable/novel.conf</p>
<pre><code>&lt;VirtualHost *:1200&gt;
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/Novel/Novel/Novel
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # 静态文件设置
    Alias /static/ /var/www/html/Novel/Novel/Novel/static/
    &lt;Directory /var/www/html/Novel/Novel/Novel/static/&gt;
        Require all granted
    &lt;/Directory&gt;

    WSGIScriptAlias / /var/www/html/Novel/Novel/Novel/wsgi.py
    &lt;Directory /var/www/html/Novel/Novel/Novel/&gt;
        Require all granted
        &lt;Files wsgi.py&gt;
            Require all granted
        &lt;/Files&gt;
    &lt;/Directory&gt;

&lt;/VirtualHost&gt;</code></pre>
<h3 id="视图与路由绑定">视图与路由绑定</h3>
<p>/Heroes/views.py</p>
<pre><code>from django.http import HttpResponse, Http404
# Create your views here.


def hello(request):
    return HttpResponse(&quot;Hello World&quot;)</code></pre>
<p>/Novel/urls.py</p>
<pre><code>from django.conf.urls import include, url
from Heroes.views import *

urlpatterns = [
    url(r&#39;^hello/$&#39;, hello),
    url(r&#39;^time/plus/(\d{1,2})/$&#39;, hours_ahead)
]</code></pre>
<h3 id="视图与模板">视图与模板</h3>
<p>/Novel/settings.py设置模板路径</p>
<pre><code>TEMPLATES = [
    {
        # .....
        &#39;DIRS&#39;: [
            os.path.join(os.path.dirname(__file__), &#39;templates&#39;).replace(&#39;\\&#39;,&#39;/&#39;),
        ],
        # ....
    },
]</code></pre>
<p>/Novel/Heroes/views.py修改视图</p>
<pre><code>from django.shortcuts import render_to_response
from django.http import HttpResponse, Http404
import datetime
# Create your views here.



def current_datetime(request):
    now = datetime.datetime.now()
    # html = &#39;&lt;html&gt;&lt;body&gt;It is %s.&lt;/body&gt;&lt;/html&gt;&#39; % now
    return render_to_response(&#39;Heroes/current_datetime.html&#39;, {&#39;current_time&#39;: now})</code></pre>
<p>/Novel目录下创建templates/Heroes/current_datetime.html</p>
<pre><code>&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;{ { current_time }}&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="数据库配置">数据库配置</h3>
<p>/Novel/settings.py</p>
<pre><code>DATABASES = {
    &#39;default&#39;: {
        &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;,
        &#39;NAME&#39;: &#39;Novel&#39;,
        &#39;USER&#39;: &#39;root&#39;,
        &#39;PASSWORD&#39;: &#39;password&#39;,
        &#39;HOST&#39;: &#39;127.0.0.1&#39;,
        &#39;PORT&#39;: &#39;3306&#39;
    }
}</code></pre>
<p>测试是否成功</p>
<pre><code>python manage.py shell
&gt;&gt;&gt; from django.db import connection
&gt;&gt;&gt; cursor = connection.cursor()</code></pre>
<h3 id="视图返回json数据格式">视图返回json数据格式</h3>
<p>views.py</p>
<pre><code>from django.http import HttpResponse, Http404
from json import dumps

def login_handle(request):
    if request.method != &#39;POST&#39;:
        raise Http404()
    inputs = request.POST
    json_str = dumps(inputs)
    return HttpResponse(json_str, content_type=&#39;application/json&#39;)</code></pre>
<p>### 静态文件 settings.py <figure class="highlight plain"><figcaption><span>线上模式静态地址 STATIC_URL </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">开发模式静态地址</span><br><span class="line">========</span><br><span class="line"></span><br><span class="line">STATICFILES_DIRS = (os.path.join(os.path.dirname(**file**), &apos;static&apos;).replace(&apos;\\&apos;,&apos;/&apos;),)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  
  <p class="site-author-name" itemprop="name">zhuohanchang</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>


  <nav class="site-state motion-element">
    
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    

    
      
      
      <div class="site-state-item site-state-categories">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span>
        
      </div>
    

    
      
      
      <div class="site-state-item site-state-tags">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>













          
          
        </div>
      </div>

      

      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhuohanchang</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.2.0</div>




        








        
      </div>
    </footer>

    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

    
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "bottomCenter";
      
        pbOptions.networks = "Weibo,Wechat,Douban";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
        flOptions.iconStyle = "box";
      
        flOptions.boxForm = "horizontal";
      
        flOptions.position = "middleRight";
      
        flOptions.networks = "Weibo,Wechat,Douban";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>


    

  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
















  
  









  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>




  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  

  <script src="/js/next-boot.js?v=7.2.0"></script>

  

  

  


  

















  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>














<script>
// GET RESPONSIVE HEIGHT PASSED FROM IFRAME

window.addEventListener("message", function(e) {
  var data = e.data;
  if ((typeof data === 'string') && (data.indexOf('ciu_embed') > -1)) {
    var featureID = data.split(':')[1];
    var height = data.split(':')[2];
    $(`iframe[data-feature=${featureID}]`).height(parseInt(height) + 30);
  }
}, false);
</script>








  

</body>
</html>
