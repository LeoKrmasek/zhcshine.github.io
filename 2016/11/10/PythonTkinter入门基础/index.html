<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Python环境 python入门基础 Tkinter安装 1$ sudo apt-get install python-tk 示例 配置组件外观 123456789101112131415161718192021222324252627282930313233343536#!/usr/bin/python# -*- coding: UTF-8 -*-from Tkinter import *ro">
<meta name="keywords" content="Python,Tkinter">
<meta property="og:type" content="article">
<meta property="og:title" content="pythonTkinter入门基础">
<meta property="og:url" content="http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/index.html">
<meta property="og:site_name" content="zhuohc&#39;s blog">
<meta property="og:description" content="Python环境 python入门基础 Tkinter安装 1$ sudo apt-get install python-tk 示例 配置组件外观 123456789101112131415161718192021222324252627282930313233343536#!/usr/bin/python# -*- coding: UTF-8 -*-from Tkinter import *ro">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-12-17T05:45:32.570Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="pythonTkinter入门基础">
<meta name="twitter:description" content="Python环境 python入门基础 Tkinter安装 1$ sudo apt-get install python-tk 示例 配置组件外观 123456789101112131415161718192021222324252627282930313233343536#!/usr/bin/python# -*- coding: UTF-8 -*-from Tkinter import *ro">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>pythonTkinter入门基础</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2016/11/10/Wordpress插件开发基础入门/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2016/11/10/Ubuntu14.04服务器基础配置/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&text=pythonTkinter入门基础"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&is_video=false&description=pythonTkinter入门基础"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=pythonTkinter入门基础&body=Check out this article: http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&name=pythonTkinter入门基础&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&t=pythonTkinter入门基础"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#python环境"><span class="toc-number">1.</span> <span class="toc-text">Python环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tkinter安装"><span class="toc-number">2.</span> <span class="toc-text">Tkinter安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#示例"><span class="toc-number">3.</span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置组件外观"><span class="toc-number">3.1.</span> <span class="toc-text">配置组件外观</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标准弹出框"><span class="toc-number">3.2.</span> <span class="toc-text">标准弹出框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常见弹框"><span class="toc-number">3.3.</span> <span class="toc-text">常见弹框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绑定事件"><span class="toc-number">3.4.</span> <span class="toc-text">绑定事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入框"><span class="toc-number">3.5.</span> <span class="toc-text">输入框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复选框"><span class="toc-number">3.6.</span> <span class="toc-text">复选框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单选按钮"><span class="toc-number">3.7.</span> <span class="toc-text">单选按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标尺滚动条"><span class="toc-number">3.8.</span> <span class="toc-text">标尺滚动条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建图片"><span class="toc-number">3.9.</span> <span class="toc-text">创建图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#按钮随机读取图片"><span class="toc-number">3.10.</span> <span class="toc-text">按钮随机读取图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缩略图"><span class="toc-number">3.11.</span> <span class="toc-text">缩略图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建基础顶级菜单"><span class="toc-number">3.12.</span> <span class="toc-text">创建基础顶级菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建框架级别菜单"><span class="toc-number">3.13.</span> <span class="toc-text">创建框架级别菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图片菜单"><span class="toc-number">3.14.</span> <span class="toc-text">图片菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#滚动条与列表"><span class="toc-number">3.15.</span> <span class="toc-text">滚动条与列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#text组件"><span class="toc-number">3.16.</span> <span class="toc-text">TEXT组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#简单的文本编辑器"><span class="toc-number">3.17.</span> <span class="toc-text">简单的文本编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建基础画布"><span class="toc-number">3.18.</span> <span class="toc-text">创建基础画布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas与滚动条"><span class="toc-number">3.19.</span> <span class="toc-text">Canvas与滚动条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas绑定事件"><span class="toc-number">3.20.</span> <span class="toc-text">Canvas绑定事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grid布局和pack布局实现自动扩展"><span class="toc-number">3.21.</span> <span class="toc-text">Grid布局和pack布局实现自动扩展</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pil"><span class="toc-number">4.</span> <span class="toc-text">PIL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">4.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图像操作"><span class="toc-number">4.2.</span> <span class="toc-text">图像操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模糊效果"><span class="toc-number">4.3.</span> <span class="toc-text">模糊效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义图像验证码"><span class="toc-number">4.4.</span> <span class="toc-text">自定义图像验证码</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        pythonTkinter入门基础
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">zhuohc's blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2016-11-10T02:58:02.000Z" itemprop="datePublished">2016-11-10</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/后端/">后端</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Python/">Python</a>, <a class="tag-link" href="/tags/Tkinter/">Tkinter</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="python环境">Python环境</h2>
<p><a href="/2016/11/09/Python入门基础/" title="python入门基础">python入门基础</a></p>
<h2 id="tkinter安装">Tkinter安装</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python-tk</span></span><br></pre></td></tr></table></figure>
<h2 id="示例">示例</h2>
<h3 id="配置组件外观">配置组件外观</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line">root = Tk()</span><br><span class="line"><span class="comment"># 定义图标</span></span><br><span class="line"><span class="keyword">if</span> sys.platform == <span class="string">'win32'</span>:</span><br><span class="line">    root.iconbitmap(<span class="string">'favicon.ico'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    icon = PhotoImage(file=<span class="string">'phone.gif'</span>)</span><br><span class="line">    root.tk.call(<span class="string">'wm'</span>, <span class="string">'iconphoto'</span>, root._w, icon)</span><br><span class="line"><span class="comment"># 定义字体，字号，类型</span></span><br><span class="line">label_font = (<span class="string">'Ubuntu'</span>, <span class="number">20</span>, <span class="string">'bold underline italic'</span>)</span><br><span class="line"><span class="comment"># 创建组件</span></span><br><span class="line">widget = Label(root, text=<span class="string">'Hello,云克隆'</span>, padx=<span class="number">100</span>, pady=<span class="number">20</span>)</span><br><span class="line"><span class="comment"># 配置组件字体</span></span><br><span class="line">widget.config(font=label_font)</span><br><span class="line"><span class="comment"># 组件宽，高</span></span><br><span class="line">widget.config(height=<span class="number">3</span>, width=<span class="number">20</span>)</span><br><span class="line"><span class="comment"># 组件背景颜色</span></span><br><span class="line">widget.config(bg=<span class="string">'#FF0'</span>)</span><br><span class="line"><span class="comment"># 组件字体颜色</span></span><br><span class="line">widget.config(fg=<span class="string">'#F0F'</span>)</span><br><span class="line"><span class="comment"># 组件边框宽度</span></span><br><span class="line">widget.config(bd=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 组件边框外形, FLAT扁平, SUNKEN凹陷, RAISED凸起, GROOVE凹槽, SOLID加粗, RIDGE脊状,</span></span><br><span class="line">widget.config(relief=SUNKEN)</span><br><span class="line"><span class="comment"># 组件鼠标手势, 'gumby', 'watch', 'pencil', 'crdss', hand2</span></span><br><span class="line">widget.config(cursor=<span class="string">'gumby'</span>)</span><br><span class="line"><span class="comment"># 组件状态, DISABLE禁用, NORMAL正常, READONLY只读</span></span><br><span class="line">widget.config(state=DISABLED)</span><br><span class="line"><span class="comment"># 布置组件</span></span><br><span class="line"><span class="comment"># expand设置是否可以扩展，fill表示随父组件扩展方向，可以设置BOTH, X, Y</span></span><br><span class="line"><span class="comment"># 设置组件padding值</span></span><br><span class="line"><span class="comment"># side表示按钮布置窗口的位置</span></span><br><span class="line">widget.pack(expand=<span class="literal">True</span>, fill=X, padx=<span class="number">10</span>, pady=<span class="number">50</span>, side=LEFT)</span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="标准弹出框">标准弹出框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkMessageBox <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># python3</span></span><br><span class="line"><span class="comment"># from Tkinter.messagebox import *</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">callback</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> askyesno(<span class="string">'Verify'</span>, <span class="string">'Do you ready want to quit?'</span>):</span><br><span class="line">        showwarning(<span class="string">'Yes'</span>, <span class="string">'Quit not yet'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        showinfo(<span class="string">'No'</span>, <span class="string">'Quit has been cancelled'</span>)</span><br><span class="line"></span><br><span class="line">errmsg = <span class="string">'Sorry, no spam allowed'</span></span><br><span class="line">Button(<span class="literal">None</span>, text=<span class="string">'Quit'</span>, command=callback).pack(fill=X)</span><br><span class="line">Button(<span class="literal">None</span>, text=<span class="string">'spam'</span>, command=(<span class="keyword">lambda</span>: showerror(<span class="string">'spam'</span>, errmsg))).pack(fill=X)</span><br><span class="line">mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="常见弹框">常见弹框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui6.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkMessageBox <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkFileDialog <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkColorChooser <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkSimpleDialog <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">demos = &#123;</span><br><span class="line">    <span class="string">'Open'</span>: askopenfilename,</span><br><span class="line">    <span class="string">'Color'</span>: askcolor,</span><br><span class="line">    <span class="string">'Query'</span>: <span class="keyword">lambda</span>: askquestion(<span class="string">'Warning'</span>, <span class="string">'You typed "rm *"\nconfirm?'</span>),</span><br><span class="line">    <span class="string">'Error'</span>: <span class="keyword">lambda</span>: showerror(<span class="string">'Error!'</span>, <span class="string">'He is dead'</span>),</span><br><span class="line">    <span class="string">'Input'</span>: <span class="keyword">lambda</span>: askfloat(<span class="string">'Entry'</span>, <span class="string">'Enter credit card number'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, **options)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent, **options)</span><br><span class="line">        self.pack()</span><br><span class="line">        Label(self, text=<span class="string">'Basic demos'</span>).pack()</span><br><span class="line">        <span class="keyword">for</span> (key, value) <span class="keyword">in</span> demos.items():</span><br><span class="line">            Button(self, text=key, command=value).pack(side=TOP, fill=BOTH)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    Demo().mainloop()</span><br><span class="line">自定义弹框</span><br><span class="line"></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line">makemodal = (len(sys.argv) &gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dialog</span><span class="params">()</span>:</span></span><br><span class="line">    win = Toplevel()</span><br><span class="line">    Label(win, text=<span class="string">'Hard drive reformatted!'</span>).pack()</span><br><span class="line">    Button(win, text=<span class="string">'OK'</span>, command=win.destroy).pack()</span><br><span class="line">    <span class="keyword">if</span> makemodal:</span><br><span class="line">        <span class="comment"># 获取输入的焦点</span></span><br><span class="line">        win.focus_set()</span><br><span class="line">        <span class="comment"># 打开的时候，禁用其他窗口</span></span><br><span class="line">        win.grab_set()</span><br><span class="line">        <span class="comment"># 在win销毁之前，继续等待</span></span><br><span class="line">        win.wait_window()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'dialog exit'</span></span><br><span class="line"></span><br><span class="line">root = Tk()</span><br><span class="line">Button(root, text=<span class="string">'popup'</span>, command=dialog).pack()</span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="绑定事件">绑定事件</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showPosEvent</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Widget=%s, X=%s, Y=%s'</span> % (event.widget, event.x, event.y))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showAllEvent</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(event)</span><br><span class="line">    <span class="keyword">for</span> attr <span class="keyword">in</span> dir(event):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> attr.startswith(<span class="string">'__'</span>):</span><br><span class="line">            print(attr, <span class="string">'=&gt;'</span>, getattr(event, attr))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onKeyPress</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got key press: '</span>, event.char)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onArrowKey</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got up arrow key press'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onReturnKey</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got return key press'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onLeftClick</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got left mouse button click: '</span>)</span><br><span class="line">    showPosEvent(event)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onRightClick</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got right mouse button click: '</span>)</span><br><span class="line">    showPosEvent(event)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onMiddleClick</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got middle mouse button click: '</span>)</span><br><span class="line">    showPosEvent(event)</span><br><span class="line">    showAllEvent(event)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onLeftDrag</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got left mouse drag click: '</span>)</span><br><span class="line">    showPosEvent(event)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onDoubleLeftClick</span><span class="params">(event)</span>:</span></span><br><span class="line">    print(<span class="string">'Got double left mouse click: '</span>)</span><br><span class="line">    showPosEvent(event)</span><br><span class="line">    tkroot.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tkroot = Tk()</span><br><span class="line">labelfont = (<span class="string">'courier'</span>, <span class="number">20</span>, <span class="string">'bold'</span>)</span><br><span class="line">widget = Label(tkroot, text=<span class="string">'Hello bind world'</span>)</span><br><span class="line">widget.config(bg=<span class="string">'red'</span>, font=labelfont)</span><br><span class="line">widget.config(height=<span class="number">5</span>, width=<span class="number">20</span>)</span><br><span class="line">widget.pack(expand=YES, fill=BOTH)</span><br><span class="line"><span class="comment"># 绑定单击左键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Button-1&gt;'</span>, onLeftClick)</span><br><span class="line"><span class="comment"># 绑定单击右键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Button-3&gt;'</span>, onRightClick)</span><br><span class="line"><span class="comment"># 绑定单击中键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Button-2&gt;'</span>, onMiddleClick)</span><br><span class="line"><span class="comment"># 绑定双击左键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Double-1&gt;'</span>, onDoubleLeftClick)</span><br><span class="line"><span class="comment"># 绑定拖拽 B1表示点击左键，Motion表示拖拽</span></span><br><span class="line">widget.bind(<span class="string">'&lt;B1-Motion&gt;'</span>, onLeftDrag)</span><br><span class="line"><span class="comment"># 绑定键盘按键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;KeyPress&gt;'</span>, onKeyPress)</span><br><span class="line"><span class="comment"># 绑定按下箭头键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Up&gt;'</span>, onArrowKey)</span><br><span class="line"><span class="comment"># 绑定回车，返回键</span></span><br><span class="line">widget.bind(<span class="string">'&lt;Return&gt;'</span>, onReturnKey)</span><br><span class="line">widget.focus()</span><br><span class="line">tkroot.title(<span class="string">'CLICK ME'</span>)</span><br><span class="line">tkroot.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;ButtonPress&gt; 按下按钮</span></span><br><span class="line"><span class="comment"># &lt;ButtonRelease&gt; 松开按钮</span></span><br><span class="line"><span class="comment"># &lt;Motion&gt; 鼠标指针移动</span></span><br><span class="line"><span class="comment"># &lt;Configure&gt; 窗口大小，位置改变时候</span></span><br><span class="line"><span class="comment"># &lt;Destroy&gt; 销毁窗口</span></span><br><span class="line"><span class="comment"># &lt;FocusIn&gt; 获取焦点</span></span><br><span class="line"><span class="comment"># &lt;FocusOut&gt; 失去焦点</span></span><br><span class="line"><span class="comment"># &lt;Map&gt; 窗口打开</span></span><br><span class="line"><span class="comment"># &lt;Unmap&gt; 窗口最小化</span></span><br><span class="line"><span class="comment"># &lt;Escape&gt;, &lt;BackSpace&gt;, &lt;Tab&gt; 捕获特点ESC键，回车键，tab键</span></span><br><span class="line"><span class="comment"># &lt;Down&gt;, &lt;Up&gt;, &lt;Left&gt;, &lt;Right&gt; 捕获方向键</span></span><br><span class="line"><span class="comment"># &lt;B1-Motion&gt; 按下左键并拖拽</span></span><br><span class="line"><span class="comment"># &lt;KeyPress-a&gt; 按下按键“a”，大小写敏感</span></span><br></pre></td></tr></table></figure>
<h3 id="输入框">输入框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> quitGui <span class="keyword">import</span> Quitter</span><br><span class="line"></span><br><span class="line">fields = <span class="string">'Name'</span>, <span class="string">'Job'</span>, <span class="string">'Pay'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetch</span><span class="params">(entries)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> entry <span class="keyword">in</span> entries:</span><br><span class="line">        print(<span class="string">'Input =&gt; %s'</span> % entry.get())  <span class="comment"># 获取文本信息</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeform</span><span class="params">(root, fields)</span>:</span></span><br><span class="line">    entries = []</span><br><span class="line">    <span class="keyword">for</span> field <span class="keyword">in</span> fields:</span><br><span class="line">        row = Frame(root)</span><br><span class="line">        lab = Label(row, width=<span class="number">5</span>, text=field)</span><br><span class="line">        ent = Entry(row)</span><br><span class="line">        row.pack(side=TOP, fill=X)</span><br><span class="line">        lab.pack(side=LEFT)</span><br><span class="line">        ent.pack(side=RIGHT, expand=YES, fill=X)</span><br><span class="line">        entries.append(ent)</span><br><span class="line">    <span class="keyword">return</span> entries</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(entries, popup)</span>:</span></span><br><span class="line">    fetch(entries)  <span class="comment"># 必须在销毁前取出</span></span><br><span class="line">    popup.destroy()  <span class="comment"># 如果修改了stmt， order， msgs会随之失败</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ask</span><span class="params">()</span>:</span></span><br><span class="line">    popup = Toplevel()  <span class="comment"># 在模拟对话框窗口中显示表单</span></span><br><span class="line">    ents = makeform(popup, fields)</span><br><span class="line">    Button(popup, text=<span class="string">'OK'</span>, command=(<span class="keyword">lambda</span>: show(ents, popup))).pack()</span><br><span class="line">    popup.grab_set()  <span class="comment"># 打开的时候，禁用其他窗口</span></span><br><span class="line">    popup.focus_set()  <span class="comment"># 获取输入的焦点</span></span><br><span class="line">    popup.wait_window()  <span class="comment"># 在这里等待销毁</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    root = Tk()</span><br><span class="line">    Button(root, text=<span class="string">'Dialog'</span>, command=ask).pack()</span><br><span class="line">    root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="复选框">复选框</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui13.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gui6 <span class="keyword">import</span> demos</span><br><span class="line"><span class="keyword">from</span> quitGui <span class="keyword">import</span> Quitter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, **options)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent, **options)</span><br><span class="line">        self.pack()</span><br><span class="line">        self.tools()</span><br><span class="line">        Label(self, text=<span class="string">'Ckech demos'</span>).pack()</span><br><span class="line">        self.vars = []</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> demos:</span><br><span class="line">            var = IntVar()</span><br><span class="line">            Checkbutton(self, text=key, variable=var, command=demos[key]).pack(side=LEFT)</span><br><span class="line">            self.vars.append(var)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">report</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> var <span class="keyword">in</span> self.vars:</span><br><span class="line">            print(var.get())  <span class="comment"># 当前开关设置1或者0</span></span><br><span class="line">        print()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tools</span><span class="params">(self)</span>:</span></span><br><span class="line">        frm = Frame(self)</span><br><span class="line">        frm.pack(side=RIGHT)</span><br><span class="line">        Button(frm, text=<span class="string">'State'</span>, command=self.report).pack(fill=X)</span><br><span class="line">        Quitter(frm).pack(fill=X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    Demo().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="单选按钮">单选按钮</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#gui14.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gui6 <span class="keyword">import</span> demos</span><br><span class="line"><span class="keyword">from</span> quitGui <span class="keyword">import</span> Quitter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, **options)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent, **options)</span><br><span class="line">        self.pack()</span><br><span class="line">        Label(self, text=<span class="string">'Radio demos'</span>).pack(side=TOP)</span><br><span class="line">        self.var = StringVar()</span><br><span class="line">        <span class="comment"># variable表示单选按钮的变量，相当与html的name标签</span></span><br><span class="line">        <span class="comment"># value表示单选按钮的变量值，相当与html的value标签</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> demos:</span><br><span class="line">            Radiobutton(self, text=key, command=self.onPress, variable=self.var, value=key).pack(anchor=NW)</span><br><span class="line">        self.var.set(key)  <span class="comment"># 选中最后一个开始</span></span><br><span class="line">        Button(self, text=<span class="string">'State'</span>, command=self.report).pack(fill=X)</span><br><span class="line">        Quitter(self).pack(fill=X)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onPress</span><span class="params">(self)</span>:</span></span><br><span class="line">        pick = self.var.get()</span><br><span class="line">        print(<span class="string">'you pressed'</span>, pick)</span><br><span class="line">        print(<span class="string">'result: '</span>, demos[pick]())  <span class="comment"># 按钮使用返回的值</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">report</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.var.get())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    Demo().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="标尺滚动条">标尺滚动条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui16.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> gui6 <span class="keyword">import</span> demos</span><br><span class="line"><span class="keyword">from</span> quitGui <span class="keyword">import</span> Quitter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, **options)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent, **options)</span><br><span class="line">        self.pack()</span><br><span class="line">        Label(self, text=<span class="string">'Scale demos'</span>).pack()</span><br><span class="line">        self.var = IntVar()</span><br><span class="line">        Scale(self, label=<span class="string">'Pick demo number'</span>,</span><br><span class="line">              command=self.onMove, variable=self.var,</span><br><span class="line">              from_=<span class="number">0</span>, to=len(demos)<span class="number">-1</span>).pack()</span><br><span class="line">        Scale(self, label=<span class="string">'Pick demo number'</span>,  <span class="comment"># 标尺的文本</span></span><br><span class="line">              command=self.onMove,  <span class="comment"># 绑定回调</span></span><br><span class="line">              variable=self.var,  <span class="comment"># 变量</span></span><br><span class="line">              from_=<span class="number">0</span>,   <span class="comment"># 标尺最小值</span></span><br><span class="line">              to=len(demos) - <span class="number">1</span>,   <span class="comment"># 标尺最大值</span></span><br><span class="line">              length = <span class="number">200</span>,  <span class="comment"># 长度</span></span><br><span class="line">              tickinterval = <span class="number">2</span>,   <span class="comment"># 每隔几个单位显示标记单位</span></span><br><span class="line">              showvalue = YES,  <span class="comment"># 显示或隐藏标尺滑动条旁边的当前值</span></span><br><span class="line">              orient = <span class="string">'horizontal'</span>  <span class="comment"># 横向展示</span></span><br><span class="line">              ).pack()</span><br><span class="line">        Quitter(self).pack(side=RIGHT)</span><br><span class="line">        Button(self, text=<span class="string">'Run demo'</span>, command=self.onRun).pack(side=LEFT)</span><br><span class="line">        Button(self, text=<span class="string">'State'</span>, command=self.report).pack(side=RIGHT)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onMove</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        print(<span class="string">'in onMove'</span>, value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onRun</span><span class="params">(self)</span>:</span></span><br><span class="line">        pos = self.var.get()</span><br><span class="line">        print(<span class="string">'you picked'</span>, pos)</span><br><span class="line">        demo = list(demos.values())[pos]</span><br><span class="line">        print(demo())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">report</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.var.get())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    print(list(demos.keys()))</span><br><span class="line">    Demo().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="创建图片">创建图片</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui17.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">gifdir = <span class="string">'./gif/'</span></span><br><span class="line">win = Tk()</span><br><span class="line">igm = PhotoImage(file=gifdir + <span class="string">'logo.png'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按钮上绑定图片</span></span><br><span class="line"><span class="comment"># Button(win, image=igm).pack()</span></span><br><span class="line"><span class="comment"># win.mainloop()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建画布</span></span><br><span class="line">can = Canvas(win)</span><br><span class="line">can.pack(fill=BOTH)</span><br><span class="line">can.config(width=igm.width() + <span class="number">4</span>, height=igm.height() + <span class="number">4</span>)</span><br><span class="line">can.create_image(<span class="number">2</span>,  <span class="comment"># x坐标</span></span><br><span class="line">                 <span class="number">2</span>,  <span class="comment"># y坐标</span></span><br><span class="line">                 image=igm, anchor=NW)</span><br><span class="line">win.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="按钮随机读取图片">按钮随机读取图片</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui18.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> glob <span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">from</span> gui13 <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">gifdir = <span class="string">'./gif/'</span></span><br><span class="line"></span><br><span class="line"><span class="string">" 按钮随机读取图片 "</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ButtonPicsDemo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, gifdir=gifdir, parent=None)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent)</span><br><span class="line">        self.pack()</span><br><span class="line">        self.lbl = Label(self, text=<span class="string">'none'</span>, bg=<span class="string">'blue'</span>, fg=<span class="string">'red'</span>)</span><br><span class="line">        self.pix = Button(self, text=<span class="string">'press me'</span>, command=self.draw, bg=<span class="string">'white'</span>)</span><br><span class="line">        self.lbl.pack(fill=BOTH)</span><br><span class="line">        self.pix.pack(pady=<span class="number">10</span>)</span><br><span class="line">        Demo(self, relief=SUNKEN, bd=<span class="number">2</span>).pack(fill=BOTH)</span><br><span class="line">        <span class="comment"># glob模块， glob方法，返回所有匹配的文件列表</span></span><br><span class="line">        files = glob(gifdir + <span class="string">'*.png'</span>)</span><br><span class="line">        self.images = [(x, PhotoImage(file=x)) <span class="keyword">for</span> x <span class="keyword">in</span> files]</span><br><span class="line">        print(files)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">draw</span><span class="params">(self)</span>:</span></span><br><span class="line">        name, photo = random.choice(self.images)</span><br><span class="line">        self.lbl.config(text=name)</span><br><span class="line">        self.pix.config(image=photo)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">        ButtonPicsDemo().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="缩略图">缩略图</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui19.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> PIL</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_thumbs</span><span class="params">(img_dir, size=<span class="params">(<span class="number">100</span>, <span class="number">100</span>)</span>, subdir=<span class="string">'thumbs'</span>)</span>:</span></span><br><span class="line">    thumb_dir = os.path.join(img_dir, subdir)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(thumb_dir):</span><br><span class="line">        os.mkdir(thumb_dir)</span><br><span class="line">    thumbs = []</span><br><span class="line">    <span class="keyword">for</span> img_file <span class="keyword">in</span> os.listdir(img_dir):</span><br><span class="line">        thumb_path = os.path.join(thumb_dir, img_file)</span><br><span class="line">        <span class="keyword">if</span> os.path.exists(thumb_path):</span><br><span class="line">            thumb_obj = PIL.Image.open(thumb_path)</span><br><span class="line">            thumbs.append((img_file, thumb_obj))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'making'</span>, thumb_path)</span><br><span class="line">            img_path = os.path.join(img_dir, img_file)</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                img_obj = PIL.Image.open(img_path)</span><br><span class="line">                img_obj.thumbnail(size, PIL.Image.ANTIALIAS)</span><br><span class="line">                img_obj.save(thumb_path)</span><br><span class="line">                thumbs.append((img_file, img_obj))</span><br><span class="line">            <span class="keyword">except</span> Exception, e:</span><br><span class="line">                print(<span class="string">'skipping: '</span>, img_path)</span><br><span class="line">                <span class="keyword">print</span> e</span><br><span class="line">    <span class="keyword">return</span> thumbs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewOne</span><span class="params">(Toplevel)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, img_dir, img_file)</span>:</span></span><br><span class="line">        Toplevel.__init__(self)</span><br><span class="line">        self.title(img_file)</span><br><span class="line">        img_path = os.path.join(img_dir, img_file)</span><br><span class="line">        img_obj = PhotoImage(file=img_path)</span><br><span class="line">        Label(self, image=img_obj).pack()</span><br><span class="line">        print(img_path, img_obj.width(), img_obj.height())</span><br><span class="line">        self.savephoto = img_obj</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">viewer</span><span class="params">(img_dir, kind=Toplevel, cols=None)</span>:</span></span><br><span class="line">    win = kind()</span><br><span class="line">    win.title(<span class="string">'VIEWER: '</span> + img_dir)</span><br><span class="line">    thumbs = make_thumbs(img_dir)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> cols:</span><br><span class="line">        <span class="comment"># 固定大小 或者N×N</span></span><br><span class="line">        cols = int(math.ceil(math.sqrt(len(thumbs))))</span><br><span class="line">    savephotos = []</span><br><span class="line">    <span class="keyword">while</span> thumbs:</span><br><span class="line">        thumbs_row, thumbs = thumbs[:cols], thumbs[cols:]</span><br><span class="line">        row = Frame(win)</span><br><span class="line">        row.pack(fill=BOTH)</span><br><span class="line">        <span class="keyword">for</span>(img_file, img_obj) <span class="keyword">in</span> thumbs_row:</span><br><span class="line">            size = max(img_obj.size)</span><br><span class="line">            photo = PhotoImage(file=os.path.join(img_dir, <span class="string">'thumbs'</span>, img_file))</span><br><span class="line">            link = Button(row, image=photo)</span><br><span class="line">        handler = <span class="keyword">lambda</span> savefile=img_file: ViewOne(img_dir, savefile)</span><br><span class="line">        link.config(command=handler, width=size, height=size)</span><br><span class="line">        link.pack(side=LEFT, expand=YES)</span><br><span class="line">        savephotos.append(photo)</span><br><span class="line">    Button(win, text=<span class="string">'Quit'</span>, command=win.quit, bg=<span class="string">'beige'</span>).pack(fill=X)</span><br><span class="line">    <span class="keyword">return</span> win, savephotos</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    img_dir = len(sys.argv) &gt; <span class="number">1</span> <span class="keyword">and</span> sys.argv[<span class="number">1</span>] <span class="keyword">or</span> <span class="string">'gif'</span></span><br><span class="line">    main, save = viewer(img_dir, kind=Tk)</span><br><span class="line">    main.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="创建基础顶级菜单">创建基础顶级菜单</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui20.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkMessageBox <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_done</span><span class="params">()</span>:</span></span><br><span class="line">    showerror(<span class="string">'Not implemented'</span>, <span class="string">'Not yet available'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_menu</span><span class="params">(win)</span>:</span></span><br><span class="line">    top = Menu(win)  <span class="comment"># 定义顶级菜单</span></span><br><span class="line">    win.config(menu=top)</span><br><span class="line">    file = Menu(top, tearoff=<span class="literal">True</span>)  <span class="comment"># 一级菜单 tearoff:设置菜单下的虚线是否显示</span></span><br><span class="line">    file.add_command(label=<span class="string">'New...'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    file.add_command(label=<span class="string">'Open...'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    file.add_command(label=<span class="string">'Quit...'</span>, command=win.quit,  underline=<span class="number">0</span>)</span><br><span class="line">    top.add_cascade(label=<span class="string">'File'</span>, menu=file, underline=<span class="number">0</span>)  <span class="comment"># 在顶级菜单中添加一级菜单</span></span><br><span class="line"></span><br><span class="line">    edit = Menu(top, tearoff=<span class="literal">False</span>)  <span class="comment"># 一级菜单</span></span><br><span class="line">    edit.add_command(label=<span class="string">'Cut'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_command(label=<span class="string">'Paste'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_separator()  <span class="comment"># 添加下划线</span></span><br><span class="line">    top.add_cascade(label=<span class="string">'Edit'</span>, menu=edit, underline=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    submenu = Menu(edit, tearoff=<span class="literal">True</span>)  <span class="comment"># 二级菜单</span></span><br><span class="line">    submenu.add_command(label=<span class="string">'Spam'</span>, command=win.quit, underline=<span class="number">0</span>)</span><br><span class="line">    submenu.add_command(label=<span class="string">'Eggs'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_cascade(label=<span class="string">'Stuff'</span>, menu=submenu, underline=<span class="number">0</span>)  <span class="comment"># 在一级菜单中添加二级菜单</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    root = Tk()</span><br><span class="line">    root.title(<span class="string">'menu_win'</span>)</span><br><span class="line">    make_menu(root)</span><br><span class="line">    msg = Label(root, text=<span class="string">'Window menu basic'</span>)</span><br><span class="line">    msg.pack(expand=YES, fill=BOTH)</span><br><span class="line">    msg.config(relief=SUNKEN, width=<span class="number">40</span>, height=<span class="number">7</span>, bg=<span class="string">'beige'</span>)</span><br><span class="line">    root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="创建框架级别菜单">创建框架级别菜单</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui21.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkMessageBox <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_done</span><span class="params">()</span>:</span></span><br><span class="line">    showerror(<span class="string">'Not implemented'</span>, <span class="string">'Not yet available'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_menu</span><span class="params">(parent)</span>:</span></span><br><span class="line">    menu_bar = Frame(parent)</span><br><span class="line">    menu_bar.pack(side=TOP, fill=X)</span><br><span class="line"></span><br><span class="line">    f_button = Menubutton(menu_bar, text=<span class="string">'File'</span>, underline=<span class="number">0</span>)</span><br><span class="line">    f_button.pack(side=LEFT)</span><br><span class="line">    file = Menu(f_button)</span><br><span class="line">    file.add_command(label=<span class="string">'New...'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    file.add_command(label=<span class="string">'Open...'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    file.add_command(label=<span class="string">'Quit...'</span>, command=parent.quit,  underline=<span class="number">0</span>)</span><br><span class="line">    f_button.config(menu=file)</span><br><span class="line"></span><br><span class="line">    e_button = Menubutton(menu_bar, text=<span class="string">'Edit'</span>, underline=<span class="number">0</span>)</span><br><span class="line">    e_button.pack(side=LEFT)</span><br><span class="line">    edit = Menu(e_button)</span><br><span class="line">    edit.add_command(label=<span class="string">'Cut'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_command(label=<span class="string">'Paste'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_separator()</span><br><span class="line">    e_button.config(menu=edit)</span><br><span class="line"></span><br><span class="line">    sub_menu = Menu(edit, tearoff=<span class="literal">True</span>)</span><br><span class="line">    sub_menu.add_command(label=<span class="string">'Spam'</span>, command=parent.quit, underline=<span class="number">0</span>)</span><br><span class="line">    sub_menu.add_command(label=<span class="string">'Eggs'</span>, command=not_done, underline=<span class="number">0</span>)</span><br><span class="line">    edit.add_cascade(label=<span class="string">'Stuff'</span>, menu=sub_menu, underline=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> menu_bar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    root = Tk()</span><br><span class="line">    root.title(<span class="string">'menu_fra'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">        mnu = make_menu(root)</span><br><span class="line">        mnu.config(bd=<span class="number">2</span>, relief=RAISED)</span><br><span class="line">        Label(root, bg=<span class="string">'black'</span>, height=<span class="number">5</span>, width=<span class="number">25</span>).pack(expand=YES, fill=BOTH)</span><br><span class="line">    Button(root, text=<span class="string">'Bye'</span>, command=root.quit).pack()</span><br><span class="line">    root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="图片菜单">图片菜单</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui22.py</span></span><br><span class="line"><span class="comment"># -*- coding:UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkMessageBox <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewMenuDemo</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent)</span><br><span class="line">        self.pack(expand=YES, fill=BOTH)</span><br><span class="line">        self.create_widgets()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create_widgets</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.make_menubar()</span><br><span class="line">        self.make_toolbar()</span><br><span class="line">        l = Label(self, text=<span class="string">'Menu and Toolbar Demo'</span>)</span><br><span class="line">        l.config(relief=SUNKEN, width=<span class="number">40</span>, height=<span class="number">10</span>, bg=<span class="string">'white'</span>)</span><br><span class="line">        l.pack(expand=YES, fill=BOTH)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_toolbar</span><span class="params">(self, size=<span class="params">(<span class="number">30</span>, <span class="number">30</span>)</span>)</span>:</span></span><br><span class="line">        toolbar = Frame(self, cursor=<span class="string">'hand2'</span>, relief=SUNKEN, bd=<span class="number">2</span>)</span><br><span class="line">        toolbar.pack(side=BOTTOM, fill=X)</span><br><span class="line">        Button(toolbar, text=<span class="string">'Quit'</span>, command=self.quit).pack(side=RIGHT)</span><br><span class="line">        photo_files = (<span class="string">'at.png'</span>, <span class="string">'bd.png'</span>, <span class="string">'dk.png'</span>)</span><br><span class="line">        self.tool_photo_objs = []</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> photo_files:</span><br><span class="line">            img = PhotoImage(file=<span class="string">'./gif/thumbs/'</span> + file)</span><br><span class="line">            btn = Button(toolbar, image=img, command=self.greeting)</span><br><span class="line">            btn.config(bd=<span class="number">5</span>, relief=RIDGE)</span><br><span class="line">            btn.config(width=size[<span class="number">0</span>], height=size[<span class="number">0</span>])</span><br><span class="line">            btn.pack(side=LEFT)</span><br><span class="line">            self.tool_photo_objs.append(img)</span><br><span class="line">        Button(toolbar, text=<span class="string">'Hello'</span>, command=self.greeting).pack(side=LEFT)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_menubar</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.menubar = Menu(self.master)</span><br><span class="line">        self.master.config(menu=self.menubar)</span><br><span class="line">        self.file_menu()</span><br><span class="line">        self.edit_menu()</span><br><span class="line">        self.image_menu()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">file_menu</span><span class="params">(self)</span>:</span></span><br><span class="line">        pulldown = Menu(self.menubar)</span><br><span class="line">        pulldown.add_command(label=<span class="string">'OPEN...'</span>, command=self.notdone)</span><br><span class="line">        pulldown.add_command(label=<span class="string">'QUIT'</span>, command=self.quit)</span><br><span class="line">        self.menubar.add_cascade(label=<span class="string">'FILE'</span>, underline=<span class="number">0</span>, menu=pulldown)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">edit_menu</span><span class="params">(self)</span>:</span></span><br><span class="line">        pulldown = Menu(self.menubar)</span><br><span class="line">        pulldown.add_command(label=<span class="string">'PASTE'</span>, command=self.notdone)</span><br><span class="line">        pulldown.add_command(label=<span class="string">'SPAM'</span>, command=self.greeting)</span><br><span class="line">        pulldown.add_separator()</span><br><span class="line">        pulldown.add_command(label=<span class="string">'DELETE'</span>, command=self.greeting)</span><br><span class="line">        pulldown.entryconfig(<span class="number">4</span>, state=DISABLED)</span><br><span class="line">        self.menubar.add_cascade(label=<span class="string">'EDIT'</span>, underline=<span class="number">0</span>, menu=pulldown)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">image_menu</span><span class="params">(self)</span>:</span></span><br><span class="line">        photo_files = (<span class="string">'at.png'</span>, <span class="string">'bd.png'</span>, <span class="string">'dk.png'</span>)</span><br><span class="line">        pulldown = Menu(self.menubar)</span><br><span class="line">        self.photo_objs = []</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> photo_files:</span><br><span class="line">            img = PhotoImage(file=<span class="string">'./gif/'</span> + file)</span><br><span class="line">            pulldown.add_command(image=img, command=self.notdone)</span><br><span class="line">            self.photo_objs.append(img)</span><br><span class="line">        self.menubar.add_cascade(label=<span class="string">'IMAGE'</span>, underline=<span class="number">0</span>, menu=pulldown)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greeting</span><span class="params">(self)</span>:</span></span><br><span class="line">        showinfo(<span class="string">'greeting'</span>, <span class="string">'GREETING'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notdone</span><span class="params">(self)</span>:</span></span><br><span class="line">        showerror(<span class="string">'NOT DONE'</span>, <span class="string">'NOT DONE'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">quit</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> askyesno(<span class="string">'Verify quit'</span>, <span class="string">'Sure?'</span>):</span><br><span class="line">            Frame.quit(self)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    NewMenuDemo().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="滚动条与列表">滚动条与列表</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui23.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrolledList</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, options, parent=None)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent)</span><br><span class="line">        self.pack(expand=YES, fill=BOTH)</span><br><span class="line">        self.makeWidgets(options)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_list</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        index = self.listbox.curselection()  <span class="comment"># 鼠标选中的行</span></span><br><span class="line">        label = self.listbox.get(index)  <span class="comment"># 获取鼠标选中的值</span></span><br><span class="line">        self.runCommand(label)  <span class="comment"># 打印出值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeWidgets</span><span class="params">(self, options)</span>:</span></span><br><span class="line">        <span class="comment"># sbar = Scrollbar(self, orient='horizontal')  # 横向滚动</span></span><br><span class="line">        sbar = Scrollbar(self)</span><br><span class="line">        list = Listbox(self, relief=SUNKEN)</span><br><span class="line">        sbar.config(command=list.yview)  <span class="comment"># 移动滚动条启用回调： 按比例调节列表框的显示，</span></span><br><span class="line">        list.config(yscrollcommand=sbar.set)  <span class="comment"># 移动列表框启用回调：按比例调节滚动条</span></span><br><span class="line">        sbar.pack(side=RIGHT, fill=Y)</span><br><span class="line">        list.pack(side=LEFT, expand=YES, fill=BOTH)</span><br><span class="line">        pos = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> label <span class="keyword">in</span> options:</span><br><span class="line">            list.insert(pos, label)</span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        <span class="comment"># selectmode 选择模式SINGLE(单选), BROWSE(默认单选), MULTIPLE(多选), EXTENDED(多选)</span></span><br><span class="line">        <span class="comment"># 启用多选时， curselection返回列表</span></span><br><span class="line">        <span class="comment"># 启用单选时， curselection返回字符串</span></span><br><span class="line">        list.config(selectmode=EXTENDED, setgrid=<span class="number">1</span>)</span><br><span class="line">        list.bind(<span class="string">'&lt;Double-1&gt;'</span>, self.handle_list)</span><br><span class="line">        self.listbox = list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">runCommand</span><span class="params">(self, selection)</span>:</span></span><br><span class="line">        print(<span class="string">'YOU SELECTED:'</span>, selection)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    options = ((<span class="string">'Lumberjack-%s'</span> % x) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">20</span>))</span><br><span class="line">    ScrolledList(options).mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="text组件">TEXT组件</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">gui24.py</span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrollText</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, text=<span class="string">''</span>, file=None)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent)</span><br><span class="line">        self.pack(expand=YES, fill=BOTH)</span><br><span class="line">        self.make_widgets()</span><br><span class="line">        self.set_text(text, file)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_widgets</span><span class="params">(self)</span>:</span></span><br><span class="line">        sbar = Scrollbar(self)</span><br><span class="line">        text = Text(self, relief=SUNKEN)</span><br><span class="line">        sbar.config(command=text.yview)</span><br><span class="line">        text.config(yscrollcommand=sbar.set)</span><br><span class="line">        sbar.pack(side=RIGHT, fill=Y)</span><br><span class="line">        text.pack(side=LEFT, expand=YES, fill=BOTH)</span><br><span class="line">        self.text = text</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_text</span><span class="params">(self, text=<span class="string">''</span>, file=None)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> file:</span><br><span class="line">            text = open(file, <span class="string">'r'</span>).read()</span><br><span class="line">        <span class="comment"># 1.0表示第一行，第0列（行从1开始，列从0开始）</span></span><br><span class="line">        <span class="comment"># END表示最末一个字符后面第一个位置</span></span><br><span class="line">        self.text.delete(<span class="string">'1.0'</span>, END)  <span class="comment"># 删除从第一行第0列开始到最后的字符串，即删除全部</span></span><br><span class="line">        self.text.insert(<span class="string">'1.0'</span>, text)  <span class="comment"># 从第一行第0列开始填充数据</span></span><br><span class="line">        <span class="comment"># mark_set 设置text标志</span></span><br><span class="line">        self.text.mark_set(INSERT, <span class="string">'1.0'</span>)  <span class="comment"># 设置将光标设置在文本开始位置</span></span><br><span class="line">        <span class="comment"># self.text.mark_set('line_two', '2.2')  # 自定义标志位置 可以用mark_unset取消</span></span><br><span class="line">        self.text.focus()</span><br><span class="line">        <span class="comment"># TEXT的tag标签</span></span><br><span class="line">        <span class="comment"># SEL是内置的标签，表示当前选中的文本</span></span><br><span class="line">        <span class="comment"># text = self.text.get(SEL_FIRST, SEL_LAST)</span></span><br><span class="line">        <span class="comment"># text = self.text.get('sel.first', 'sel.last')</span></span><br><span class="line">        <span class="comment"># self.text.tag_add('alltext', '1.0', END)  # 选中所有文本</span></span><br><span class="line">        <span class="comment"># self.text.tag_add(SEL, index1, index2)  # 将一定范围内的文本添加到内建的SEL标签</span></span><br><span class="line">        <span class="comment"># self.text.tag_remove(SEL, '1.0', END)  # 将字符串所有字符从SEL标签中删除</span></span><br><span class="line">        <span class="comment"># self.text.tag_delete(SEL)  # 删除SEL标签</span></span><br><span class="line">        <span class="comment"># self.text.tag_add('demo', '1.5', '1.7')</span></span><br><span class="line">        <span class="comment"># self.text.tag_add('demo', '3.0', '5.7')</span></span><br><span class="line">        <span class="comment"># self.text.tag_config('demo', background='purple')</span></span><br><span class="line">        <span class="comment"># self.text.tag_config('demo', fontground='white')</span></span><br><span class="line">        <span class="comment"># self.text.tag_config('demo', font=('times', 16, 'underline'))</span></span><br><span class="line">        <span class="comment"># self.text.tag_bind('demo', '&lt;Double-1&gt;', func)</span></span><br><span class="line">        <span class="comment"># see方法</span></span><br><span class="line">        <span class="comment"># self.text.see('1.0')  # 滚动到第一行第0列</span></span><br><span class="line">        <span class="comment"># self.text.see(INSERT)  # 滚动到光标插入处</span></span><br><span class="line">        <span class="comment"># self.text.see(SEL_FIRST)  # 滚动到选中文本第一个字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_text</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># -1c 表示往回数一个字符串</span></span><br><span class="line">        <span class="comment"># +1l 表示往前数一行</span></span><br><span class="line">        <span class="keyword">return</span> self.text.get(<span class="string">'1.0'</span>, END + <span class="string">'-1c'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    root = Tk()</span><br><span class="line">    <span class="keyword">if</span> len(sys.argv) &gt; <span class="number">1</span>:</span><br><span class="line">        st = ScrollText(file=sys.argv[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        st = ScrollText(text=<span class="string">'Words\ngo here'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(event)</span>:</span></span><br><span class="line">        print(repr(st.get_text()))</span><br><span class="line"></span><br><span class="line">    root.bind(<span class="string">'&lt;Key-Escape&gt;'</span>, show)</span><br><span class="line">    root.mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="简单的文本编辑器">简单的文本编辑器</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui25.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tkSimpleDialog <span class="keyword">import</span> askstring</span><br><span class="line"><span class="keyword">from</span> tkFileDialog <span class="keyword">import</span> asksaveasfilename</span><br><span class="line"><span class="keyword">from</span> quitGui <span class="keyword">import</span> Quitter</span><br><span class="line"><span class="keyword">from</span> gui24 <span class="keyword">import</span> ScrollText</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleEditor</span><span class="params">(ScrollText)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, file=None)</span>:</span></span><br><span class="line">        frm = Frame(parent)</span><br><span class="line">        frm.pack(fill=X)</span><br><span class="line">        Button(frm, text=<span class="string">'Save'</span>, command=self.on_save).pack(side=LEFT)</span><br><span class="line">        Button(frm, text=<span class="string">'Cut'</span>, command=self.on_cut).pack(side=LEFT)</span><br><span class="line">        Button(frm, text=<span class="string">'Paste'</span>, command=self.on_paste).pack(side=LEFT)</span><br><span class="line">        Button(frm, text=<span class="string">'Find'</span>, command=self.on_find).pack(side=LEFT)</span><br><span class="line">        Quitter(frm).pack(side=LEFT)</span><br><span class="line">        ScrollText.__init__(self, parent, file=file)</span><br><span class="line">        self.text.config(font=(<span class="string">'courier'</span>, <span class="number">9</span>, <span class="string">'normal'</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_save</span><span class="params">(self)</span>:</span></span><br><span class="line">        filename = asksaveasfilename()</span><br><span class="line">        <span class="keyword">if</span> filename:</span><br><span class="line">            alltext = self.get_text()</span><br><span class="line">            open(filename, <span class="string">'w'</span>).write(alltext)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_cut</span><span class="params">(self)</span>:</span></span><br><span class="line">        text = self.text.get(SEL_FIRST, SEL_LAST)</span><br><span class="line">        self.text.delete(SEL_FIRST, SEL_LAST)</span><br><span class="line">        self.clipboard_clear()</span><br><span class="line">        self.clipboard_append(text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_paste</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            text = self.selection_get(selection=<span class="string">'CLIPBOARD'</span>)</span><br><span class="line">            self.text.insert(INSERT, text)</span><br><span class="line">        <span class="keyword">except</span> TclError:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_find</span><span class="params">(self)</span>:</span></span><br><span class="line">        target = askstring(<span class="string">'SimpleEdit'</span>, <span class="string">'Search string?'</span>)</span><br><span class="line">        <span class="keyword">if</span> target:</span><br><span class="line">            where = self.text.search(target, INSERT, END)</span><br><span class="line">            <span class="keyword">if</span> where:</span><br><span class="line">                print(where)</span><br><span class="line">                pastit = where + (<span class="string">'+%dc'</span> % len(target))</span><br><span class="line">                self.text.tag_remove(SEL, <span class="string">'1.0'</span>, END)</span><br><span class="line">                self.text.tag_add(SEL, where, pastit)</span><br><span class="line">                self.text.mark_set(INSERT, pastit)</span><br><span class="line">                self.text.see(INSERT)</span><br><span class="line">                self.text.focus()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">if</span> len(sys.argv) &gt; <span class="number">1</span>:</span><br><span class="line">        SimpleEditor(file=sys.argv[<span class="number">1</span>]).mainloop()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        SimpleEditor().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="创建基础画布">创建基础画布</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui26.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line">canvas = Canvas(width=<span class="number">525</span>, height=<span class="number">300</span>, bg=<span class="string">'white'</span>)</span><br><span class="line">canvas.pack(expand=YES, fill=BOTH)</span><br><span class="line"></span><br><span class="line">canvas.create_line(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>)</span><br><span class="line">canvas.create_line(<span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">300</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">20</span>, <span class="number">2</span>):</span><br><span class="line">    canvas.create_line(<span class="number">0</span>, i, <span class="number">50</span>, i)</span><br><span class="line">canvas.create_oval(<span class="number">20</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="number">100</span>, width=<span class="number">10</span>, fill=<span class="string">'yellow'</span>)</span><br><span class="line">d = &#123;<span class="number">1</span>:PIESLICE,<span class="number">2</span>:CHORD,<span class="number">3</span>:ARC&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d:</span><br><span class="line">    canvas.create_arc(</span><br><span class="line">        (<span class="number">10</span>,<span class="number">10</span> + <span class="number">60</span>*i,<span class="number">110</span>,<span class="number">110</span> + <span class="number">60</span>*i),</span><br><span class="line">        style=d[i],   <span class="comment">#指定样式</span></span><br><span class="line">        start=<span class="number">30</span>,     <span class="comment">#指定起始角度</span></span><br><span class="line">        extent=<span class="number">30</span>     <span class="comment">#指定角度偏移量</span></span><br><span class="line">        )</span><br><span class="line">canvas.create_arc(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>, fill=<span class="string">'black'</span>)</span><br><span class="line">canvas.create_rectangle(<span class="number">200</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">300</span>, width=<span class="number">5</span>, fill=<span class="string">'red'</span>)</span><br><span class="line">canvas.create_line(<span class="number">0</span>, <span class="number">300</span>, <span class="number">150</span>, <span class="number">150</span>, width=<span class="number">10</span>, fill=<span class="string">'green'</span>)</span><br><span class="line"></span><br><span class="line">photo = PhotoImage(file=<span class="string">'./gif/lightmachine.png'</span>)</span><br><span class="line">canvas.create_image(<span class="number">325</span>,<span class="number">25</span>, image=photo, anchor=NW)</span><br><span class="line"></span><br><span class="line">widget = Label(canvas, text=<span class="string">'Spam'</span>, fg=<span class="string">'white'</span>, bg=<span class="string">'black'</span>)</span><br><span class="line">widget.pack()</span><br><span class="line">canvas.create_window(<span class="number">100</span>, <span class="number">100</span>, window=widget)</span><br><span class="line">canvas.create_text(<span class="number">100</span>, <span class="number">280</span>, text=<span class="string">'CLOUD CLONE CORP.'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># id = canvas.create_line(fromX, fromY, toX, toY)  # 创建直线</span></span><br><span class="line"><span class="comment"># id = canvas.create_oval(fromX, fromY, toX, toY) # 创建椭圆</span></span><br><span class="line"><span class="comment"># id = canvas.create_arc(fromX, fromY, toX, toY)  # 创建扇形</span></span><br><span class="line"><span class="comment"># id =canvas.create_rectangle(fromX, fromY, toX, toY)  # 创建矩形</span></span><br><span class="line"><span class="comment"># canvas.move(id, offsetX, offsetY)  # 移动对象</span></span><br><span class="line"><span class="comment"># canvas.delete(id)  # 删除对象</span></span><br><span class="line"><span class="comment"># canvas.tkraise(id)  # 将对象移动到前端</span></span><br><span class="line"><span class="comment"># canvas.lower(id)  # 将对象移动到底部</span></span><br><span class="line"><span class="comment"># canvas.itemconfig(id, fill='red')  # 修改对象属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 画布标签</span></span><br><span class="line"><span class="comment"># canvas.create_line(fromX, fromY, toX, toY, tag='bubbles') </span></span><br><span class="line"><span class="comment"># canvas.create_line(fromX, fromY, toX, toY, tag='bubbles') </span></span><br><span class="line"><span class="comment"># id = canvas.create_line(fromX, fromY, toX, toY)</span></span><br><span class="line"><span class="comment"># canvas.addtag_withtag('bubbles', id)</span></span><br><span class="line"><span class="comment"># canvas.move('bubbles', diffX, diffY)</span></span><br><span class="line">mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="canvas与滚动条">Canvas与滚动条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui27.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrolledCanvas</span><span class="params">(Frame)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None, color=<span class="string">'brown'</span>)</span>:</span></span><br><span class="line">        Frame.__init__(self, parent)</span><br><span class="line">        self.pack(expand=YES, fill=BOTH)</span><br><span class="line">        canv = Canvas(self, bg=color, relief=SUNKEN)</span><br><span class="line">        canv.config(width=<span class="number">300</span>, height=<span class="number">200</span>)</span><br><span class="line">        canv.config(scrollregion=(<span class="number">0</span>, <span class="number">0</span>, <span class="number">300</span>, <span class="number">1000</span>))</span><br><span class="line">        canv.config(highlightthickness=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        sbar = Scrollbar(self)</span><br><span class="line">        sbar.config(command=canv.yview)</span><br><span class="line">        canv.config(yscrollcommand=sbar.set)</span><br><span class="line">        sbar.pack(side=RIGHT, fill=Y)</span><br><span class="line">        canv.pack(side=LEFT, expand=YES, fill=BOTH)</span><br><span class="line"></span><br><span class="line">        self.fillContent(canv)</span><br><span class="line">        canv.bind(<span class="string">'&lt;Double-1&gt;'</span>, self.onDoubleClick)</span><br><span class="line">        self.canvas = canv</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillContent</span><span class="params">(self, canv)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            canv.create_text(<span class="number">150</span>, <span class="number">50</span>+(i*<span class="number">100</span>), text=<span class="string">'spam'</span>+str(i), fill=<span class="string">'beige'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onDoubleClick</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        print(event.x, event.y)</span><br><span class="line">        print(self.canvas.canvasx(event.x), self.canvas.canvasy(event.y))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    ScrolledCanvas().mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="canvas绑定事件">Canvas绑定事件</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui28.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line">trace = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CanvasEventDemo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent=None)</span>:</span></span><br><span class="line">        canvas = Canvas(width=<span class="number">300</span>, height=<span class="number">300</span>, bg=<span class="string">'beige'</span>)</span><br><span class="line">        canvas.pack()</span><br><span class="line">        canvas.bind(<span class="string">'&lt;ButtonPress-1&gt;'</span>, self.on_start)</span><br><span class="line">        canvas.bind(<span class="string">'&lt;B1-Motion&gt;'</span>, self.on_grow)</span><br><span class="line">        canvas.bind(<span class="string">'&lt;Double-1&gt;'</span>, self.on_clear)</span><br><span class="line">        canvas.bind(<span class="string">'&lt;ButtonPress-3&gt;'</span>, self.on_move)</span><br><span class="line">        self.canvas = canvas</span><br><span class="line">        self.drawn = <span class="literal">None</span></span><br><span class="line">        self.kinds = [canvas.create_oval, canvas.create_rectangle]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_start</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        self.shape =self.kinds[<span class="number">0</span>]</span><br><span class="line">        self.kinds = self.kinds[<span class="number">1</span>:] + self.kinds[:<span class="number">1</span>]</span><br><span class="line">        self.start = event</span><br><span class="line">        self.drawn = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_grow</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        canvas = event.widget</span><br><span class="line">        <span class="keyword">if</span> self.drawn:</span><br><span class="line">            canvas.delete(self.drawn)</span><br><span class="line">        object_id = self.shape(self.start.x, self.start.y, event.x, event.y)</span><br><span class="line">        <span class="keyword">if</span> trace:</span><br><span class="line">            print(object_id)</span><br><span class="line">        self.drawn = object_id</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_clear</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        event.widget.delete(<span class="string">'all'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_move</span><span class="params">(self, event)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.drawn:</span><br><span class="line">            <span class="keyword">if</span> trace:</span><br><span class="line">                print(self.drawn)</span><br><span class="line">            canvas = event.widget</span><br><span class="line">            diffx, diffy = (event.x - self.start.x), (event.y - self.start.y)</span><br><span class="line">            canvas.move(self.drawn, diffx, diffy)</span><br><span class="line">            self.start = event</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    CanvasEventDemo()</span><br><span class="line">    mainloop()</span><br></pre></td></tr></table></figure>
<h3 id="grid布局和pack布局实现自动扩展">Grid布局和pack布局实现自动扩展</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gui29.py</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line">colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'orange'</span>, <span class="string">'white'</span>, <span class="string">'yellow'</span>, <span class="string">'blue'</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gridbox</span><span class="params">(root)</span>:</span></span><br><span class="line">    Label(root, text=<span class="string">'GRID'</span>).grid(columnspan=<span class="number">2</span>)  <span class="comment"># 跨两列</span></span><br><span class="line">    row = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> colors:</span><br><span class="line">        lab = Label(root, text=color, relief=RIDGE, width=<span class="number">25</span>)</span><br><span class="line">        ent = Entry(root, bg=color, relief=SUNKEN, width=<span class="number">50</span>)</span><br><span class="line">        lab.grid(row=row, column=<span class="number">0</span>, sticky=NSEW)  <span class="comment"># 向4个方向扩展</span></span><br><span class="line">        ent.grid(row=row, column=<span class="number">1</span>, sticky=NSEW)</span><br><span class="line">        root.rowconfigure(row, weight=<span class="number">1</span>)  <span class="comment"># 循环行自动扩展</span></span><br><span class="line">        row += <span class="number">1</span></span><br><span class="line">    root.columnconfigure(<span class="number">0</span>, weight=<span class="number">1</span>)  <span class="comment"># 第一列自动扩展</span></span><br><span class="line">    root.columnconfigure(<span class="number">1</span>, weight=<span class="number">1</span>)  <span class="comment"># 第二列自动扩展</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">packbox</span><span class="params">(root)</span>:</span></span><br><span class="line">    Label(root, text=<span class="string">'PACK'</span>).pack()</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> colors:</span><br><span class="line">        row = Frame(root)</span><br><span class="line">        lab = Label(row, text=color, relief=RIDGE, width=<span class="number">25</span>)</span><br><span class="line">        ent = Entry(row, bg=color, relief=SUNKEN, width=<span class="number">50</span>)</span><br><span class="line">        row.pack(side=TOP, expand=YES, fill=BOTH)</span><br><span class="line">        lab.pack(side=LEFT, expand=YES, fill=BOTH)</span><br><span class="line">        ent.pack(side=RIGHT, expand=YES, fill=BOTH)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    root = Tk()</span><br><span class="line">    gridbox(Toplevel(root))</span><br><span class="line">    packbox(Toplevel(root))</span><br><span class="line">    Button(root, text=<span class="string">'Quit'</span>, command=root.quit).pack()</span><br><span class="line">    mainloop()</span><br></pre></td></tr></table></figure>
<h2 id="pil">PIL</h2>
<p><strong>Python Imaging Library</strong></p>
<h3 id="安装">安装</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python-imaging</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo easy_install PIL</span></span><br></pre></td></tr></table></figure>
<p>window系统选择 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install Pillow</span></span><br></pre></td></tr></table></figure></p>
<h3 id="图像操作">图像操作</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Image</span><br><span class="line"><span class="comment"># 打开一个jpg图像文件，注意路径要改成你自己的:</span></span><br><span class="line">im = Image.open(<span class="string">'/Users/michael/test.jpg'</span>)</span><br><span class="line"><span class="comment"># 获得图像尺寸:</span></span><br><span class="line">w, h = im.size</span><br><span class="line"><span class="comment"># 缩放到50%:</span></span><br><span class="line">im.thumbnail((w//<span class="number">2</span>, h//<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 把缩放后的图像用jpeg格式保存:</span></span><br><span class="line">im.save(<span class="string">'/Users/michael/thumbnail.jpg'</span>, <span class="string">'jpeg'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="模糊效果">模糊效果</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Image, ImageFilter</span><br><span class="line"></span><br><span class="line">im = Image.open(<span class="string">'/Users/hanchang/test.jpg'</span>)</span><br><span class="line">im2 = im.filter(ImageFilter.BLUR)</span><br><span class="line">im2.save(<span class="string">'/Users/hanchang/blur.jpg'</span>, <span class="string">'jpeg'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="自定义图像验证码">自定义图像验证码</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Image, ImageDraw, ImageFont, ImageFilter</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="comment"># 随机字母:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rndChar</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> chr(random.randint(<span class="number">65</span>, <span class="number">90</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机颜色1:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rndColor</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (random.randint(<span class="number">64</span>, <span class="number">255</span>), random.randint(<span class="number">64</span>, <span class="number">255</span>), random.randint(<span class="number">64</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机颜色2:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rndColor2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (random.randint(<span class="number">32</span>, <span class="number">127</span>), random.randint(<span class="number">32</span>, <span class="number">127</span>), random.randint(<span class="number">32</span>, <span class="number">127</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 240 x 60:</span></span><br><span class="line">width = <span class="number">60</span> * <span class="number">4</span></span><br><span class="line">height = <span class="number">60</span></span><br><span class="line">image = Image.new(<span class="string">'RGB'</span>, (width, height), (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"><span class="comment"># 创建Font对象:</span></span><br><span class="line">font = ImageFont.truetype(<span class="string">'Arial.ttf'</span>, <span class="number">36</span>)</span><br><span class="line"><span class="comment"># 创建Draw对象:</span></span><br><span class="line">draw = ImageDraw.Draw(image)</span><br><span class="line"><span class="comment"># 填充每个像素:</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(width):</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(height):</span><br><span class="line">        draw.point((x, y), fill=rndColor())</span><br><span class="line"><span class="comment"># 输出文字:</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    draw.text((<span class="number">60</span> * t + <span class="number">10</span>, <span class="number">10</span>), rndChar(), font=font, fill=rndColor2())</span><br><span class="line"><span class="comment"># 模糊:</span></span><br><span class="line">image = image.filter(ImageFilter.BLUR)</span><br><span class="line">image.save(<span class="string">'code.jpg'</span>, <span class="string">'jpeg'</span>);</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#python环境"><span class="toc-number">1.</span> <span class="toc-text">Python环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tkinter安装"><span class="toc-number">2.</span> <span class="toc-text">Tkinter安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#示例"><span class="toc-number">3.</span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置组件外观"><span class="toc-number">3.1.</span> <span class="toc-text">配置组件外观</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标准弹出框"><span class="toc-number">3.2.</span> <span class="toc-text">标准弹出框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常见弹框"><span class="toc-number">3.3.</span> <span class="toc-text">常见弹框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#绑定事件"><span class="toc-number">3.4.</span> <span class="toc-text">绑定事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入框"><span class="toc-number">3.5.</span> <span class="toc-text">输入框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复选框"><span class="toc-number">3.6.</span> <span class="toc-text">复选框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单选按钮"><span class="toc-number">3.7.</span> <span class="toc-text">单选按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#标尺滚动条"><span class="toc-number">3.8.</span> <span class="toc-text">标尺滚动条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建图片"><span class="toc-number">3.9.</span> <span class="toc-text">创建图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#按钮随机读取图片"><span class="toc-number">3.10.</span> <span class="toc-text">按钮随机读取图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缩略图"><span class="toc-number">3.11.</span> <span class="toc-text">缩略图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建基础顶级菜单"><span class="toc-number">3.12.</span> <span class="toc-text">创建基础顶级菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建框架级别菜单"><span class="toc-number">3.13.</span> <span class="toc-text">创建框架级别菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图片菜单"><span class="toc-number">3.14.</span> <span class="toc-text">图片菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#滚动条与列表"><span class="toc-number">3.15.</span> <span class="toc-text">滚动条与列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#text组件"><span class="toc-number">3.16.</span> <span class="toc-text">TEXT组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#简单的文本编辑器"><span class="toc-number">3.17.</span> <span class="toc-text">简单的文本编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建基础画布"><span class="toc-number">3.18.</span> <span class="toc-text">创建基础画布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas与滚动条"><span class="toc-number">3.19.</span> <span class="toc-text">Canvas与滚动条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#canvas绑定事件"><span class="toc-number">3.20.</span> <span class="toc-text">Canvas绑定事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grid布局和pack布局实现自动扩展"><span class="toc-number">3.21.</span> <span class="toc-text">Grid布局和pack布局实现自动扩展</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pil"><span class="toc-number">4.</span> <span class="toc-text">PIL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">4.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图像操作"><span class="toc-number">4.2.</span> <span class="toc-text">图像操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模糊效果"><span class="toc-number">4.3.</span> <span class="toc-text">模糊效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义图像验证码"><span class="toc-number">4.4.</span> <span class="toc-text">自定义图像验证码</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&text=pythonTkinter入门基础"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&is_video=false&description=pythonTkinter入门基础"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=pythonTkinter入门基础&body=Check out this article: http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&title=pythonTkinter入门基础"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&name=pythonTkinter入门基础&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://www.zhuohc.com/2016/11/10/PythonTkinter入门基础/&t=pythonTkinter入门基础"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 zhuohanchang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
