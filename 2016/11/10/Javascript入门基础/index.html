<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="数据类型 类型  object(包含Function，Array，Date等)  number  string  boolean  null  undefined  检测 typeof 基本类型，function， null可以用===判断 12345678if (typeof 100) &amp;#123;&amp;#125;              // &quot;number&quot;   if (typeof true">
<meta name="keywords" content="Javascript">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript入门基础">
<meta property="og:url" content="http://www.zhuohc.com/2016/11/10/Javascript入门基础/index.html">
<meta property="og:site_name" content="zhuohc&#39;s blog">
<meta property="og:description" content="数据类型 类型  object(包含Function，Array，Date等)  number  string  boolean  null  undefined  检测 typeof 基本类型，function， null可以用===判断 12345678if (typeof 100) &amp;#123;&amp;#125;              // &quot;number&quot;   if (typeof true">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-12-17T03:22:39.627Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript入门基础">
<meta name="twitter:description" content="数据类型 类型  object(包含Function，Array，Date等)  number  string  boolean  null  undefined  检测 typeof 基本类型，function， null可以用===判断 12345678if (typeof 100) &amp;#123;&amp;#125;              // &quot;number&quot;   if (typeof true">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Javascript入门基础</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2016/11/10/CentOs7.2服务器基础配置/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2016/11/10/Css兼容性汇总/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&text=Javascript入门基础"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&is_video=false&description=Javascript入门基础"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Javascript入门基础&body=Check out this article: http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&name=Javascript入门基础&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&t=Javascript入门基础"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-number">1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类型"><span class="toc-number">1.1.</span> <span class="toc-text">类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检测"><span class="toc-number">1.2.</span> <span class="toc-text">检测</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表达式"><span class="toc-number">2.</span> <span class="toc-text">表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#运算符"><span class="toc-number">3.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊运算符"><span class="toc-number">3.1.</span> <span class="toc-text">特殊运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#语句"><span class="toc-number">4.</span> <span class="toc-text">语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象"><span class="toc-number">5.</span> <span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对象原型链"><span class="toc-number">5.1.</span> <span class="toc-text">对象原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象属性操作"><span class="toc-number">5.2.</span> <span class="toc-text">对象属性操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性标签"><span class="toc-number">5.3.</span> <span class="toc-text">属性标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象标签"><span class="toc-number">5.4.</span> <span class="toc-text">对象标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#json对象"><span class="toc-number">5.5.</span> <span class="toc-text">Json对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tostring-valueof方法"><span class="toc-number">5.6.</span> <span class="toc-text">toString valueOf方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组"><span class="toc-number">6.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#增删改查"><span class="toc-number">6.1.</span> <span class="toc-text">增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法"><span class="toc-number">6.2.</span> <span class="toc-text">方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-number">7.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建"><span class="toc-number">7.1.</span> <span class="toc-text">创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call和apply"><span class="toc-number">7.2.</span> <span class="toc-text">call和apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments属性"><span class="toc-number">7.3.</span> <span class="toc-text">arguments属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind"><span class="toc-number">7.4.</span> <span class="toc-text">bind</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#闭包"><span class="toc-number">8.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-number">9.</span> <span class="toc-text">this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#全局下的this"><span class="toc-number">9.1.</span> <span class="toc-text">全局下的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一般函数的this"><span class="toc-number">9.2.</span> <span class="toc-text">一般函数的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作为对象方法的函数的this"><span class="toc-number">9.3.</span> <span class="toc-text">作为对象方法的函数的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型链上的this"><span class="toc-number">9.4.</span> <span class="toc-text">原型链上的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构造器中的this"><span class="toc-number">9.5.</span> <span class="toc-text">构造器中的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call和apply的this"><span class="toc-number">9.6.</span> <span class="toc-text">call和apply的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#band和this"><span class="toc-number">9.7.</span> <span class="toc-text">band和this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作用域"><span class="toc-number">10.</span> <span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es3中的执行上下文"><span class="toc-number">11.</span> <span class="toc-text">ES3中的执行上下文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#继承"><span class="toc-number">12.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实现继承的方法"><span class="toc-number">12.1.</span> <span class="toc-text">实现继承的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模拟重载"><span class="toc-number">12.2.</span> <span class="toc-text">模拟重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调用子类方法"><span class="toc-number">12.3.</span> <span class="toc-text">调用子类方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现链式调用"><span class="toc-number">12.4.</span> <span class="toc-text">实现链式调用</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Javascript入门基础
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">zhuohc's blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2016-11-10T02:19:51.000Z" itemprop="datePublished">2016-11-10</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/前端/">前端</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Javascript/">Javascript</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="数据类型">数据类型</h2>
<h3 id="类型">类型</h3>
<ul>
<li>object(包含Function，Array，Date等)<br>
</li>
<li>number<br>
</li>
<li>string<br>
</li>
<li>boolean<br>
</li>
<li>null<br>
</li>
<li>undefined</li>
</ul>
<h3 id="检测">检测</h3>
<p>typeof 基本类型，function， null可以用===判断 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="number">100</span>) &#123;&#125;              <span class="comment">// "number"   </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="literal">true</span>) &#123;&#125;             <span class="comment">// "boolean"    </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Function</span>()) &#123;&#125;       <span class="comment">// "function"    </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="literal">undefined</span>) &#123;&#125;        <span class="comment">// "undefined"  </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Object</span>()) &#123;&#125;         <span class="comment">// "object"  </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> [<span class="number">1</span>, <span class="number">2</span>])              <span class="comment">// "object"  </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="literal">NaN</span>) &#123;&#125;              <span class="comment">// "number"  </span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="literal">null</span>) &#123;&#125;             <span class="comment">// "object"</span></span><br></pre></td></tr></table></figure></p>
<p>instanceof <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// instanceof  左边是对象（如果不是，直接返回false），右边是构造器（如果不是，直接报错），判断构造器的prototype属性是否在对象的原型链上</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">1</span>, <span class="number">2</span>] <span class="keyword">instanceof</span> <span class="built_in">Array</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype);  <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Array</span>);  <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype);  <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Object</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>Object.prototype.toString</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) === <span class="string">"[object Array]"</span>)  </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) === <span class="string">"[object Function]"</span>)  </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(<span class="literal">null</span>) === <span class="string">"[object Null]"</span>)  <span class="comment">// ie678返回[object Object]  </span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(<span class="literal">undefined</span>) === <span class="string">"[object Undefined]"</span>)  </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(<span class="number">12313</span>) === <span class="string">"[object Number]"</span>)  </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(<span class="string">'12313'</span>) === <span class="string">"[object String]"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="表达式">表达式</h2>
<p>表达式是一种js短语，可使js解释器用来产生一个值 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原始表达式</span></span><br><span class="line"><span class="comment">// 常量</span></span><br><span class="line">x = <span class="number">3.14</span>;</span><br><span class="line"><span class="comment">// 直接量</span></span><br><span class="line">y = <span class="string">"test"</span>; </span><br><span class="line"><span class="comment">// 关键字 </span></span><br><span class="line">x = <span class="literal">null</span>, y = <span class="keyword">this</span>,  z = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// x,y,z 为变量</span></span><br><span class="line"><span class="comment">// 复合表达式 原始表达式+运算符+原始表达式</span></span><br><span class="line">x = <span class="number">10</span> * <span class="number">20</span>;</span><br><span class="line"><span class="comment">// 初始化表达式</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">y = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">let</span> f1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="comment">// let f2 = (function()&#123;console.log('1111');&#125;)&#123;&#125;;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 属性访问表达式</span></span><br><span class="line">o = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;;</span><br><span class="line">p = o.x;</span><br><span class="line">q = o[<span class="string">'x'</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 调用表达式</span></span><br><span class="line">f1();</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 对象创建表达式</span></span><br><span class="line">f3 = <span class="keyword">new</span> Func(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">f4 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure></p>
<h2 id="运算符">运算符</h2>
<ul>
<li>一元（+num）<br>
</li>
<li>二元（a + b）<br>
</li>
<li>三元（c：a：b） 赋值(x += 1)<br>
</li>
<li>比较(a == b)<br>
</li>
<li>算术（a - b）<br>
</li>
<li>位 （a | b）<br>
</li>
<li>逻辑 (exp1 &amp;&amp; exp2)<br>
</li>
<li>字符串("a" + "b")<br>
</li>
<li>特殊</li>
</ul>
<h3 id="特殊运算符">特殊运算符</h3>
<ul>
<li>c? a:b<br>
</li>
<li>var val = (1, 2, 3) // 逗号运算符<br>
</li>
<li>delete obj.x // 删除对象属性<br>
</li>
<li>'x' in window; // in 运算符<br>
</li>
<li>instanceof, typeof // 判断类型<br>
</li>
<li>new Foo(); // new 运算符<br>
</li>
<li>this // this运算符<br>
</li>
<li>void 0 // undefined</li>
</ul>
<h2 id="语句">语句</h2>
<p>块语句block<br>
块语句是没有作用域的 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;  </span><br><span class="line">  <span class="keyword">let</span> str = <span class="string">'hi'</span>;  </span><br><span class="line">  <span class="built_in">console</span>.log(str);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>声明语句 var<br>
var a=1, b=1; 函数语句function <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明语句  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fd</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">&#125;    </span><br><span class="line"><span class="comment">// 函数表达式  </span></span><br><span class="line"><span class="keyword">let</span> fe = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//do sth</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>for in 语句 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p;  </span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;;  </span><br><span class="line"><span class="keyword">for</span>(p <span class="keyword">in</span> obj) &#123;</span><br><span class="line"><span class="comment">// 顺序不确定  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>swith语句 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> val = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">switch</span> (val) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>循环语句 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (isTrue) &#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125; <span class="keyword">while</span> (isTrue);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>with语句 // 不使用 try catch语句 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'oops'</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span>(ex) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(<span class="string">'inner catch'</span>, ex.message);</span><br><span class="line">        <span class="keyword">throw</span> ex;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'inner  finally'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span>(ex) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">'outer catch'</span>, ex.message);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'outer finally'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 严格模式(待补充）</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="对象">对象</h2>
<p>对象创建<br>
字面量创建 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.y);</span><br><span class="line"><span class="built_in">Object</span>.prototype.y = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.y);</span><br><span class="line">obj.y = <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.y);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123; x: 1 &#125;</span><br><span class="line">undefined</span><br><span class="line">&#123; x: 1 &#125;</span><br><span class="line">2</span><br><span class="line">&#123; x: 1, y: undefined &#125;</span><br><span class="line">undefined</span><br></pre></td></tr></table></figure>
<p>new构造器创建 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">this</span>.color = <span class="string">'red'</span>;&#125;</span><br><span class="line">Foo.prototype.background = <span class="string">'#000'</span>;</span><br><span class="line"><span class="keyword">var</span> redColor = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">console</span>.log(redColor);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> redColor.toString);</span><br><span class="line"><span class="built_in">console</span>.log(redColor.color);</span><br><span class="line"><span class="built_in">console</span>.log(redColor.background);</span><br><span class="line"><span class="built_in">console</span>.log(foo);</span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'background'</span> <span class="keyword">in</span> redColor);</span><br><span class="line">redColor.background = <span class="string">'#FFF'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(redColor.background);</span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype.background);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Foo &#123; color: &apos;red&apos; &#125;</span><br><span class="line">function</span><br><span class="line">red</span><br><span class="line">#000</span><br><span class="line">[Function: Foo]</span><br><span class="line">Foo &#123; background: &apos;#000&apos; &#125;</span><br><span class="line">undefined</span><br><span class="line">true</span><br><span class="line">#FFF</span><br><span class="line">#000</span><br></pre></td></tr></table></figure>
<p>Object.create()创建 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Obj</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Obj);</span><br><span class="line"><span class="keyword">let</span> obj1 = <span class="keyword">new</span> Obj();</span><br><span class="line"><span class="built_in">console</span>.log(obj1);</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.create(Obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj2);</span><br><span class="line"><span class="built_in">console</span>.log(obj2.x);</span><br><span class="line"><span class="keyword">let</span> obj3 = <span class="built_in">Object</span>.create(obj1);</span><br><span class="line"><span class="built_in">console</span>.log(obj3);</span><br><span class="line"><span class="built_in">console</span>.log(obj3.x);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Function: Obj]</span><br><span class="line">Obj &#123; x: 1 &#125;</span><br><span class="line">Function &#123;&#125;</span><br><span class="line">undefined</span><br><span class="line">Obj &#123;&#125;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h3 id="对象原型链">对象原型链</h3>
<p>prototype是函数对象上的预设的对象属性， 原型是对象上的原型，通常都是构造器的prototype属性<br>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Abc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.y = <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">var</span> z = <span class="number">3</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(Abc);  <span class="comment">// [Function: Abc]</span></span><br><span class="line"> <span class="built_in">console</span>.log(Abc.prototype);  <span class="comment">// Abc &#123;&#125;</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="keyword">typeof</span> Abc.prototype);  <span class="comment">// object</span></span><br><span class="line"> </span><br><span class="line"> Abc.prototype.x = <span class="number">1</span>;</span><br><span class="line"> <span class="built_in">console</span>.log(Abc.prototype);  <span class="comment">// Abc &#123; x: 1 &#125;</span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> obj1 = <span class="keyword">new</span> Abc();</span><br><span class="line"> <span class="built_in">console</span>.log(obj1.__proto__);  <span class="comment">// Abc &#123; x: 1 &#125;</span></span><br><span class="line"> <span class="built_in">console</span>.log(obj1.__proto__ === Abc.prototype);  <span class="comment">// true  new构造器创建的对象的原型是构造器的prototype属性</span></span><br><span class="line"> <span class="built_in">console</span>.log(obj1);  <span class="comment">// Abc &#123; y: 2 &#125;</span></span><br><span class="line"> <span class="built_in">console</span>.log(obj1.y);  <span class="comment">// 2</span></span><br><span class="line"> <span class="built_in">console</span>.log(obj1.x);  <span class="comment">// 1</span></span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">     </span></span><br><span class="line"><span class="string">&gt; 所有构造器/函数的__proto__都指向Function.prototype，它是一个空函数（Empty function）</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.__proto__ === <span class="built_in">Function</span>.prototype);  <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.__proto__ === <span class="built_in">Function</span>.prototype);  <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__ === <span class="built_in">Function</span>.prototype);  <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.__proto__ === <span class="built_in">Function</span>.prototype);   <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.__proto__ === <span class="built_in">Function</span>.prototype);  <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Error</span>.__proto__ === <span class="built_in">Function</span>.prototype);   <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Date</span>.__proto__ === <span class="built_in">Function</span>.prototype);    <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.__proto__ === <span class="built_in">Object</span>.prototype);  <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.__proto__ === <span class="built_in">Object</span>.prototype);  <span class="comment">// true </span></span><br><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">let</span> Man = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(Person.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">console</span>.log(Man.__proto__ === <span class="built_in">Function</span>.prototype)    <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>所有的构造器都来自于Function.prototype，甚至包括根构造器Object及Function自身。所有构造器都继承了Function.prototype的属性及方法。如length、call、apply、bind（ES5） <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Function</span>.prototype); <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>.prototype);   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Number</span>.prototype);   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Boolean</span>.prototype);  <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">String</span>.prototype);   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype);    <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">RegExp</span>.prototype);   <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Error</span>.prototype);    <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Date</span>.prototype);     <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>.prototype);   <span class="comment">// object  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">// true    </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__ === <span class="literal">null</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>所有对象的__proto__都指向其构造器的prototype</p>
</blockquote>
<p>JavaScript引擎内置构造器 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">'jack'</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/hello/g</span>;</span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>;</span><br><span class="line"><span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'exception'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.__proto__ === <span class="built_in">Array</span>.prototype);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.__proto__ === <span class="built_in">RegExp</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(date.__proto__ === <span class="built_in">Date</span>.prototype);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(err.__proto__ === <span class="built_in">Error</span>.prototype);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>自定义的构造器 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'jack'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === Person.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>每个对象都有一个constructor属性，可以获取它的构造器 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'jack'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === p.constructor.prototype) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="对象属性操作">对象属性操作</h3>
<p>属性读写 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 属性读写</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;<span class="attr">x1</span>: <span class="number">1</span>, <span class="attr">x2</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>, n = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span>(; i&lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj1[<span class="string">'x'</span> + i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出1，2</span></span><br><span class="line"><span class="keyword">let</span> p;</span><br><span class="line"><span class="keyword">for</span>(p <span class="keyword">in</span> obj1) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj1[p]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出1，2</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="comment">// 读写异常</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2.y); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">let</span> yz = obj2.y.z;  <span class="comment">// TypeError: Cannot read property 'z' of undefined</span></span><br><span class="line">obj2.y.z = <span class="number">2</span>;      <span class="comment">//TypeError: Cannot set property 'z' of undefined</span></span><br><span class="line"><span class="comment">// 正确方式</span></span><br><span class="line"><span class="keyword">let</span> yz;</span><br><span class="line"><span class="keyword">if</span>(obj2.y) &#123;</span><br><span class="line">    yz = obj2.y.z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">let</span> yz = obj2 &amp;&amp; obj2.y &amp;&amp; obj2.y.z  <span class="comment">// 这个会返回undefined</span></span><br></pre></td></tr></table></figure></p>
<p>属性删除 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;<span class="attr">age</span>: <span class="number">28</span>, <span class="attr">title</span>: <span class="string">'fe'</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> person.age);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> person[<span class="string">'age'</span>]);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.age);  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> person.age);   <span class="comment">// 注意这个也返回true 判断操作结束后该属性是否存在</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 有些属性是不能删除的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> <span class="built_in">Object</span>.prototype);  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原因</span></span><br><span class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(<span class="built_in">Object</span>, <span class="string">'prototype'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(descriptor.configurable);  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量及函数不可删除</span></span><br><span class="line"><span class="keyword">let</span> globalVal = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> globalVal);  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> localVal = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">delete</span> localVal);</span><br><span class="line">&#125;());  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fd</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> fd);  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fd</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">delete</span> fd)</span><br><span class="line">&#125;());  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐示定义的变量可以</span></span><br><span class="line">ohNo = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> ohNo);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>对象属性检测 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">cat.legs = <span class="number">4</span>;</span><br><span class="line">cat.name = <span class="string">'Kitty'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'legs'</span> <span class="keyword">in</span> cat);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'abc'</span> <span class="keyword">in</span> cat);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span> <span class="keyword">in</span> cat);  <span class="comment">// true 继承属性</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat.hasOwnProperty(<span class="string">'legs'</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.hasOwnProperty(<span class="string">'toString'</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat.propertyIsEnumerable(<span class="string">'legs'</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.propertyIsEnumerable(<span class="string">'toString'</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(cat, <span class="string">'price'</span>, &#123;<span class="attr">enumerable</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="number">1000</span>&#125;);</span><br><span class="line"><span class="comment">// defineProperty是Object的方法，默认的标签enumerable值为false</span></span><br><span class="line"><span class="comment">// Object.x创建属性，默认的标签值为true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.propertyIsEnumerable(<span class="string">'price'</span>));  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.hasOwnProperty(<span class="string">'price'</span>));  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断属性是否存在</span></span><br><span class="line"><span class="keyword">if</span>(cat &amp;&amp; cat.legs) &#123;</span><br><span class="line">    cat.legs *= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(cat.legs !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="comment">// !== undefined 或者 !== null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(cat.legs !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="comment">// !== undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对象属性枚举 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'toString'</span> <span class="keyword">in</span> o);  <span class="comment">// true</span></span><br><span class="line">o.propertyIsEnumerable(<span class="string">'toString'</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> k;</span><br><span class="line"><span class="built_in">console</span>.log(o.x);  <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(o.y);  <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(o.z);  <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">for</span>(key <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);  <span class="comment">// x, y, z</span></span><br><span class="line">    <span class="built_in">console</span>.log(o.key);  <span class="comment">// undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(o[key]);  <span class="comment">// 1, 2, 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(o);</span><br><span class="line">obj.a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">let</span> k2;</span><br><span class="line"><span class="keyword">for</span>(k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k); <span class="comment">// a, x, y, z</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> key1;</span><br><span class="line"><span class="keyword">for</span> (key1 <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.hasOwnProperty(key1)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(key1); <span class="comment">// a</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对象属性的get/set方法 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象属性的get/set方法</span></span><br><span class="line"><span class="keyword">let</span> man = &#123;</span><br><span class="line">    name: <span class="string">'Bug'</span>,</span><br><span class="line">    weibo: <span class="string">'Bug'</span>,</span><br><span class="line">    <span class="keyword">get</span> age() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="number">1988</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> age(val) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'cannot be set '</span> + val);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(man.age);  <span class="comment">// 调用age的get方法27</span></span><br><span class="line">man.age = <span class="number">100</span>;  <span class="comment">// 调用age的set方法 cannot be set 100</span></span><br><span class="line"><span class="built_in">console</span>.log(man.age);  <span class="comment">// 27</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Man = &#123;</span><br><span class="line">    weibo: <span class="string">'Bug'</span>,</span><br><span class="line">    $age: <span class="literal">null</span>,</span><br><span class="line">    <span class="keyword">get</span> age() &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.$age === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="number">1988</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.$age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> age(val) &#123;</span><br><span class="line">        val = +val; <span class="comment">// 转为数字</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">isNaN</span>(val) &amp;&amp; val &gt; <span class="number">0</span> &amp;&amp; val &lt; <span class="number">150</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.$age = + val;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Incorrect val = '</span> + val );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Man.age);  <span class="comment">// 27</span></span><br><span class="line">Man.age = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(Man.age);  <span class="comment">// 100</span></span><br><span class="line"><span class="comment">//man.age = 'abc';  // Error: Incorrect val = NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// get/set方法与原型链</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是错误的定义对象属性get方法方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo1</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Foo1.prototype.z = &#123;</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> a1 = <span class="keyword">new</span> Foo1();</span><br><span class="line"><span class="built_in">console</span>.log(a1.z);  <span class="comment">// 这个会被认为是对象 &#123; get: [Function] &#125;</span></span><br><span class="line">a1.z = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a1.z);  <span class="comment">// 200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确定义方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(Foo.prototype, <span class="string">'z'</span>, &#123;</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// configurable: true,  // 开启此属于也不会被改变</span></span><br><span class="line">    <span class="comment">// writable: true,  // 此项不能配置writable/value get/set 二选一</span></span><br><span class="line"> &#125;);</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">console</span>.log(a2.z);   <span class="comment">// 1</span></span><br><span class="line">a2.z = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a2.z);  <span class="comment">// 但是还是1 并没有被改变</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(a2, <span class="string">'z'</span>, &#123;</span><br><span class="line">    value: <span class="number">100</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a2.z);  <span class="comment">// 100</span></span><br><span class="line"><span class="keyword">delete</span> a2.z;</span><br><span class="line"><span class="built_in">console</span>.log(a2.z);  <span class="comment">// 返回到1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外一个例子</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">'x'</span>, &#123;</span><br><span class="line">    value: <span class="number">1</span></span><br><span class="line">&#125;);  <span class="comment">// 默认writable: false, configurable: false</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(o);</span><br><span class="line"><span class="built_in">console</span>.log(obj.x);  <span class="comment">// 1</span></span><br><span class="line">obj.x = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.x);  <span class="comment">// 还是1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'x'</span>, &#123;</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    value: <span class="number">100</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj.x);  <span class="comment">// 100</span></span><br><span class="line">obj.x = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.x); <span class="comment">// 200</span></span><br></pre></td></tr></table></figure></p>
<h3 id="属性标签">属性标签</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">'type'</span>, &#123;</span><br><span class="line">    configurable: <span class="literal">false</span>,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    value: <span class="string">'Object'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person));   <span class="comment">// [] 返回空数组，不能枚举</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));   <span class="comment">// &#123; value: 'Object', writable: true, enumerable: false, configurable: false &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// writable为true，可以通过赋值方法修改value值 [通过赋值修改属性值只和writable标签有关，和configurable无关]</span></span><br><span class="line">person.type = <span class="string">'Object2'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));  <span class="comment">// &#123; value: 'Object2', writable: true, enumerable: false, configurable: false &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// configurable: false 无法使用delete删除属性， 无法使用get/set方法，  无法重新配置属性标签（除了将writable从true修改为false）</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">delete</span> person.type);   <span class="comment">// 返回false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 只有writable和configurable标签都为false时，不能修改value标签值，其他情况都可以修改value标签值</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">'type'</span>, &#123;</span><br><span class="line">    configurable: <span class="literal">false</span>,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    value: <span class="string">'Object1'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));   <span class="comment">// &#123; value: 'Object1', writable: true, enumerable: false, configurable: false &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以重新配置writable标签值(只能重true改为false)</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">'type'</span>, &#123;</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));   <span class="comment">// &#123; value: 'Object1', writable: false, enumerable: false, configurable: false &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法将writable从false改为true</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">'type'</span>, &#123;</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));   <span class="comment">// TypeError: Cannot redefine property: type</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法重新配置enumerable，configurable属性</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">'type'</span>, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">'type'</span>));   <span class="comment">// TypeError: Cannot redefine property: type</span></span><br></pre></td></tr></table></figure>
<h3 id="对象标签">对象标签</h3>
<p>原型标签__proto__ <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'jack'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === Person.prototype);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>类型标签 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  对象class标签，表示对象是哪个类型，没有直接的方法去修改或者获取</span></span><br><span class="line"><span class="keyword">let</span> toString = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">null</span>));  <span class="comment">// [object Null]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">undefined</span>));  <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="number">1</span>));  <span class="comment">// [object Number]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="built_in">Number</span>(<span class="number">1</span>)));  <span class="comment">// [object Number]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">true</span>));  <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="built_in">Boolean</span>(<span class="literal">true</span>)));  <span class="comment">// [object Boolean]</span></span><br></pre></td></tr></table></figure></p>
<p>可扩展标签 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// extensible 可扩展标签，表示是否可以继续添加对象属性</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isExtensible(obj));  <span class="comment">// true 对象可扩展</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj);  <span class="comment">// 配置对象不可扩展</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isExtensible(obj));  <span class="comment">// false 对象不可扩展</span></span><br><span class="line">obj.z =<span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.z);  <span class="comment">// undefined 添加属性失败</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">'x'</span>));  <span class="comment">// // &#123; value: 1, writable: true, enumerable: true, configurable: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.seal方法，对象的所有属性configurable值为false</span></span><br><span class="line"><span class="built_in">Object</span>.seal(obj);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">'x'</span>));  <span class="comment">// &#123; value: 1, writable: true, enumerable: true, configurable: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(obj)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.freeze方法，对象的所有属性configurable，writable标签值为false</span></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">'x'</span>));   <span class="comment">// // &#123; value: 1, writable: false, enumerable: true, configurable: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(obj));  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="json对象">Json对象</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将js对象转为json格式JSON.stringify()</span></span><br><span class="line"><span class="keyword">let</span> x = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="literal">true</span>, <span class="attr">z</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="attr">nullVal</span>: <span class="literal">null</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(x));  <span class="comment">// &#123;"x":1,"y":true,"z":[1,2,3],"nullVal":null&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined,NaN,Infinity等特殊属性值</span></span><br><span class="line"><span class="keyword">let</span> y = &#123;<span class="attr">val</span>: <span class="literal">undefined</span>, <span class="attr">a</span>: <span class="literal">NaN</span>, <span class="attr">b</span>: <span class="literal">Infinity</span>, <span class="attr">c</span>: <span class="keyword">new</span> <span class="built_in">Date</span>()&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(y));  <span class="comment">// &#123;"a":null,"b":null,"c":"2015-12-19T12:30:40.456Z"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将json格式转为js对象JSON.parse</span></span><br><span class="line"><span class="keyword">let</span> z = <span class="built_in">JSON</span>.parse(<span class="string">'&#123;"x": 1&#125;'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(z.x);  <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//toJSON方法</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    x: <span class="number">1</span>,</span><br><span class="line">    y: <span class="number">2</span>,</span><br><span class="line">    o: &#123;</span><br><span class="line">        o1: <span class="number">1</span>,</span><br><span class="line">        o2: <span class="number">2</span>,</span><br><span class="line">        toJSON: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.o1 + <span class="keyword">this</span>.o2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj));  <span class="comment">// &#123;"x":1,"y":2,"o":3&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="tostring-valueof方法">toString valueOf方法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象在作为操作数时，解释器总是优先调用valueOf()--(Date类型的对象在二元“+”运算时例外),而其他情况，解释器总是认为我们想要的是字符串，所以会优先调用toString()。</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.toString());  <span class="comment">// [object Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(+obj.toString());  <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span> + obj.toString());  <span class="comment">// 3[object Object] 会被理解为字符串拼接</span></span><br><span class="line"><span class="built_in">console</span>.log(+obj.valueOf());  <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 重写</span></span><br><span class="line">obj.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.x + <span class="keyword">this</span>.y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj);  <span class="comment">// 3</span></span><br><span class="line">obj.valueOf = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.x + <span class="keyword">this</span>.y + <span class="number">100</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj);  <span class="comment">// 103</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果只重写了toString，对象转换时会无视valueOf的存在来进行转换。但是，如果只重写了valueOf方法，在要转换为字符串的时候会优先考虑valueOf方法。在不能调用toString的情况下，只能让valueOf上阵了。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cc = &#123;</span><br><span class="line">    i: <span class="number">10</span>,</span><br><span class="line">    valueOf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'valueOf'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cc);<span class="comment">// 10 &#123; [Number: 10] i: 10, valueOf: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(+cc); <span class="comment">// 10 valueOf</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">''</span>+cc); <span class="comment">// 10 valueOf</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(cc)); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(cc)); <span class="comment">// 10 valueOf</span></span><br><span class="line"><span class="built_in">console</span>.log(cc === <span class="string">'10'</span>); <span class="comment">// true valueOf</span></span><br></pre></td></tr></table></figure>
<h2 id="数组">数组</h2>
<h3 id="增删改查">增删改查</h3>
<p>创建数组 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字面量创建数组 数组的长度不能超过2^23 - 1 = 4,294,967,295</span></span><br><span class="line"><span class="keyword">let</span> bat = [<span class="string">'B'</span>, <span class="string">'A'</span>, <span class="string">'T'</span>];</span><br><span class="line"><span class="keyword">let</span> students = [&#123;<span class="attr">name</span>: <span class="string">'B'</span>, <span class="attr">age</span>: <span class="number">27</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">'A'</span>, <span class="attr">age</span>: <span class="number">30</span>&#125;];</span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="string">'T'</span>, <span class="number">123</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</span><br><span class="line"><span class="keyword">let</span> arrInArr = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 对象创建数组 new关键字可以省略</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [];  <span class="comment">// var = [];</span></span><br><span class="line"><span class="keyword">let</span> arrWithLength = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100</span>);  <span class="comment">// undefined * 100</span></span><br><span class="line"><span class="keyword">let</span> arrLikesLiteral = [<span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">null</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="string">'hi'</span>];  <span class="comment">// [true, false, null, 1, 2, 'hi']</span></span><br></pre></td></tr></table></figure></p>
<p>数组元素操作 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组元素读写</span></span><br><span class="line"><span class="comment">// 索引访问</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x[<span class="number">1</span>]);  <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(x.length);  <span class="comment">// 5</span></span><br><span class="line">x[<span class="number">5</span>] = <span class="string">'f'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ 'a', 'b', 'c', 'd', 'e', 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(x.length);  <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// delete方法并不会改变数组长度,delete 和定义为undefined的区别</span></span><br><span class="line"><span class="keyword">delete</span> x[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ , 'b', 'c', 'd', 'e', 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(x.length);  <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> <span class="keyword">in</span> x);  <span class="comment">// 会返回false</span></span><br><span class="line">x[<span class="number">1</span>] = <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ , undefined, 'c', 'd', 'e', 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(x.length);  <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">in</span> x);  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组是动态的，无需指定大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定索引位置，改变数组</span></span><br><span class="line"><span class="keyword">let</span> y = [];</span><br><span class="line">y[<span class="number">1</span>] = <span class="string">'b'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(y.length);  <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(y);   <span class="comment">// [ , 'b' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// push方法，在数组尾部添加元素,并返回新的数组长度</span></span><br><span class="line"><span class="built_in">console</span>.log(y.push(<span class="string">'c'</span>));  <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ , 'b', 'c' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在数组尾部添加的另一种方法</span></span><br><span class="line">y[y.length] = <span class="string">'d'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ , 'b', 'c', 'd' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// unshift方法，在数组头部添加元素，并返回新的数组长度</span></span><br><span class="line"><span class="built_in">console</span>.log(y.unshift(<span class="string">'a'</span>));  <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ 'a', , 'b', 'c', 'd' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pop方法，删除数组尾部的元素并返回这个元素</span></span><br><span class="line"><span class="built_in">console</span>.log(y.pop());  <span class="comment">// 'd'</span></span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ 'a', , 'b', 'c' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除数组尾部元素的另个方法</span></span><br><span class="line">y.length -= <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ 'a', , 'b' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// shift方法，删除数组头部的元素并返回这个元素</span></span><br><span class="line"><span class="built_in">console</span>.log(y.shift());  <span class="comment">// 'a'</span></span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ , 'b' ]</span></span><br></pre></td></tr></table></figure></p>
<p>数组迭代 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组迭代</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; x.length; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a b c d e f g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a b c d e f g</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for in 表达式的坑：会迭代原型的元素</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.x = <span class="string">'keng'</span>;</span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a b c d e f g keng</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> x) &#123;</span><br><span class="line">    <span class="keyword">if</span>(x.hasOwnProperty(i)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(x[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a b c d e f g</span></span><br></pre></td></tr></table></figure></p>
<p>特殊数组：二维数组和稀疏数组 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 特殊数组：二维数组，稀疏数组</span></span><br><span class="line"><span class="comment">// 二维数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>], [<span class="string">'e'</span>, <span class="string">'f'</span>]];</span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> row;</span><br><span class="line"><span class="keyword">for</span>(; i &lt; arr.length; i++) &#123;</span><br><span class="line">    row = arr[i];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'row'</span> + i);</span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; row.length; j++) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(row[j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// row0 a b row1 c d row2 e f</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 稀疏数组：并不含有从0开始的连续索引</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="literal">undefined</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> <span class="keyword">in</span> arr1);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> <span class="keyword">in</span> arr2);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<h3 id="方法">方法</h3>
<p>Array.prototype.join(separator) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.join(separator)方法：将数组拼接成字符串，返回字符串，不改变原数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.join());  <span class="comment">// a,b,c</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.join(<span class="string">'_'</span>));  <span class="comment">// a,b,c</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">repeatString</span>(<span class="params">str, n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Array</span>(n + <span class="number">1</span>).join(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(repeatString(<span class="string">'a'</span>, <span class="number">3</span>));  <span class="comment">// aaa</span></span><br><span class="line"><span class="built_in">console</span>.log(repeatString(<span class="string">'Hi'</span>, <span class="number">5</span>));  <span class="comment">// HiHiHiHiHi</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.reverse() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.reverse() 将数组逆序，返回数组本身，会改变数组本身</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> arr1 = arr;</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.reverse());  <span class="comment">// [ 'c', 'b', 'a' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);  <span class="comment">// [ 'c', 'b', 'a' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1);  <span class="comment">// [ 'c', 'b', 'a' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);  <span class="comment">// [ 'a', 'b', 'c' ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.sort(sortby） <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.sort(sortby)方法：接受一个函数参数(不传参数默认按字符编码顺序)，返回数组本身，会修改原数组</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'f'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x.sort());  <span class="comment">// [ 'a', 'b', 'd', 'e', 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ 'a', 'b', 'd', 'e', 'f' ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y = [<span class="number">13</span>, <span class="number">24</span>, <span class="number">51</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(y.sort());  <span class="comment">// [ 13, 24, 3, 51 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传入参数：比较函数(a, b)</span></span><br><span class="line"><span class="comment">// 若 a 小于 b，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。</span></span><br><span class="line"><span class="comment">// 若 a 等于 b，则返回 0。</span></span><br><span class="line"><span class="comment">// 若 a 大于 b，则返回一个大于 0 的值。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumber</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(y.sort(sortNumber));  <span class="comment">// [ 3, 13, 24, 51 ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> z = [&#123;<span class="attr">age</span>: <span class="number">25</span>&#125;, &#123;<span class="attr">age</span>: <span class="number">29</span>&#125;, &#123;<span class="attr">age</span>: <span class="number">40</span>&#125;];</span><br><span class="line"><span class="built_in">console</span>.log(z.sort(<span class="function"><span class="keyword">function</span> <span class="title">sortAge</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.age - b.age;</span><br><span class="line">&#125;));  <span class="comment">// [ &#123; age: 25 &#125;, &#123; age: 29 &#125;, &#123; age: 40 &#125; ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.concat(arrayX, arrayY.....) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.concat(arrayX, arrayY.....)方法 连接多个数组，返回一个新的数组，不会改变原数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.concat(<span class="string">'d'</span>, <span class="string">'e'</span>));  <span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);  <span class="comment">// [ 'a', 'b', 'c' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.concat([<span class="string">'d'</span>, <span class="string">'e'</span>], <span class="string">'f'</span>));  <span class="comment">// [ 'a', 'b', 'c', 'd', 'e', 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.concat([<span class="string">'d'</span>, <span class="string">'e'</span>], [<span class="string">'f'</span>, <span class="string">'g'</span>]));  <span class="comment">// 'b', 'c', 'd', 'e', 'f', 'g' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.concat([[<span class="string">'d'</span>, <span class="string">'e'</span>], <span class="string">'f'</span>]));  <span class="comment">// [ 'a', 'b', 'c', [ 'd', 'e' ], 'f' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.concat([[[<span class="string">'d'</span>, <span class="string">'e'</span>], <span class="string">'f'</span>], <span class="string">'g'</span>]));  <span class="comment">// [ 'a', 'b', 'c', [ [ 'd', 'e' ], 'f' ], 'g' ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.slice(start, end) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.slice(start, end)方法：左闭右开截取数组，返回一个新的数组，不改变原数组</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x.slice(<span class="number">1</span>, <span class="number">3</span>));  <span class="comment">// ['b', 'c']</span></span><br><span class="line"><span class="built_in">console</span>.log(x.slice(<span class="number">1</span>));  <span class="comment">// ['b', 'c', 'd', 'e']</span></span><br><span class="line"><span class="built_in">console</span>.log(x.slice(<span class="number">1</span>, <span class="number">-1</span>));  <span class="comment">// ['b', 'c', 'd']</span></span><br><span class="line"><span class="built_in">console</span>.log(x.slice(<span class="number">-4</span>, <span class="number">-3</span>));  <span class="comment">// ['b']</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.splice(index, howmany, item1,....itemX) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.splice(index, howmany, item1,....itemX)方法：</span></span><br><span class="line"><span class="comment">// 向/从数组中添加/删除项目，然后返回被删除的项目。会改变原数组</span></span><br><span class="line"><span class="comment">// index参数：必须，整数，添加或删除的位置，左闭合</span></span><br><span class="line"><span class="comment">// howmany参数：可选，设置为0，则不会删除</span></span><br><span class="line"><span class="comment">// item1,.....itemX：可选，向数组中添加的元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.splice(<span class="number">2</span>));   <span class="comment">// [ 'c', 'd', 'e' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// [ 'a', 'b' ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(b.splice(<span class="number">2</span>, <span class="number">1</span>));  <span class="comment">// [ 'c' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// [ 'a', 'b', 'd', 'e' ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(c.splice(<span class="number">2</span>, <span class="number">0</span>));  <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(c);  <span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(d.splice(<span class="number">2</span>, <span class="number">2</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, [<span class="string">'h'</span>, <span class="string">'i'</span>]));  <span class="comment">// [ 'c', 'd' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(d);  <span class="comment">// [ 'a', 'b', 'f', 'g', [ 'h', 'i' ], 'e' ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定位置插入新的元素</span></span><br><span class="line"><span class="keyword">let</span> e = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(e.splice(<span class="number">2</span>, <span class="number">0</span>, <span class="string">'f'</span>));  <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(e); <span class="comment">// [ 'a', 'b', 'f', 'c', 'd', 'e' ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> f = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(f.splice());  <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(f); <span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.forEach() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.forEach()方法(ES5)：接收函数参数</span></span><br><span class="line"><span class="comment">// 函数的3个参数x: 元素值，index：元素索引，a 数组本身</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line">x.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">x, index, a</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x + <span class="string">'_'</span> + index + <span class="string">'_'</span> + a);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// a_0_a,b,c,d,e b_1_a,b,c,d,e c_2_a,b,c,d,e d_3_a,b,c,d,e e_4_a,b,c,d,e</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.map() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Array.prototype.map()方法(ES5):接收函数参数,不会修改原数组</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> y = x.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="string">'like'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ 'a', 'b', 'c' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ 'alike', 'blike', 'clike' ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.filter() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.filter()过滤方法(ES5):接收函数参数，不修改原数组</span></span><br><span class="line"><span class="keyword">let</span> x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="keyword">let</span> y = x.filter(<span class="function"><span class="keyword">function</span>(<span class="params">x, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> index % <span class="number">3</span> === <span class="number">0</span> || x &gt;= <span class="number">8</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// [ 1, 4, 7, 8, 9, 10 ]</span></span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.every() &amp; Array.prototype.some() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.every() &amp; Array.prototype.some()判断方法(ES5):接收函数参数，不修改原数组</span></span><br><span class="line"><span class="comment">// every 全部符合条件  some 只需一个符合条件</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &lt; <span class="number">10</span>;</span><br><span class="line">&#125;));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &lt;= <span class="number">3</span>;</span><br><span class="line">&#125;));  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x === <span class="number">3</span>;</span><br><span class="line">&#125;));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.some(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x === <span class="number">100</span>;</span><br><span class="line">&#125;));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.reduce(function, index) Array.prototype.reduceRight(function, index) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.reduce(function, index) Array.prototype.reduceRight(function, index)方法</span></span><br><span class="line"><span class="comment">// 接收一个函数参数和一个数组索引参数，并返回一个值，不修改原数组</span></span><br><span class="line"><span class="comment">// 函数参加接收2个参数分别代表2个索引</span></span><br><span class="line"><span class="comment">// 索引参数表示从第index个元素开始</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> sum = a.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sum);  <span class="comment">// 6  1+2返回3 3+3 返回6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">3</span>, <span class="number">9</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> max1 = b.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x + <span class="string">'|'</span> + y);</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 3|9</span></span><br><span class="line"><span class="comment">// 9|6</span></span><br><span class="line"><span class="built_in">console</span>.log(max1);  <span class="comment">// 9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> max2 = b.reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x + <span class="string">'|'</span> + y);</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 6|9</span></span><br><span class="line"><span class="comment">// 9|3</span></span><br><span class="line"><span class="built_in">console</span>.log(max2);  <span class="comment">// 9</span></span><br></pre></td></tr></table></figure></p>
<p>Array.prototype.indexOf(value, index) Array.prototype.lastIndexOf(value, index) <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.indexOf(value, index) Array.prototype.lastIndexOf(value, index)数字检索方法</span></span><br><span class="line"><span class="comment">// value参数表示要查找的元素值，index表示从第几个索引位置开始查找(闭合)</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>));  <span class="comment">// 1 在数组中查找是否有元素值为'b'，有则返回这个元素索引</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'f'</span>));  <span class="comment">// -1 如果没有则返回-1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>, <span class="number">1</span>));  <span class="comment">// 1 从第2个元素开始查找，返回索引1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>, <span class="number">2</span>));  <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>, <span class="number">-2</span>));  <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>, <span class="number">-4</span>));  <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="string">'b'</span>, <span class="number">-8</span>));  <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.lastIndexOf(<span class="string">'b'</span>));  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p>
<p>Array.isArray() <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.isArray() 判断是否为数组</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray([]));  <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<h2 id="函数">函数</h2>
<h3 id="创建">创建</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    a = +a;</span><br><span class="line">    b = +b;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(a) || <span class="built_in">isNaN</span>(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">let</span> add2 = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IEF(立即执行函数表达式)</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NFE(命名式函数表达式)</span></span><br><span class="line"><span class="keyword">let</span> add3 = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do sth</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>函数声明和函数表达式区别：函数声明会前置</strong> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> num1 = add1(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num1);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    a = +a;</span><br><span class="line">    b = +b;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(a) || <span class="built_in">isNaN</span>(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 结果为3</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br><span class="line"><span class="keyword">let</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    a = +a;</span><br><span class="line">    b = +b;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(a) || <span class="built_in">isNaN</span>(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// TypeError: add is not a function</span></span><br></pre></td></tr></table></figure>
<h3 id="call和apply">call和apply</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// apply和call方法（浏览器）</span></span><br><span class="line"><span class="comment">// 第一个参数是作为this的对象，如果不是对象，会转换为对象</span></span><br><span class="line"><span class="comment">// call传入的是扁平传入参数</span></span><br><span class="line"><span class="comment">// apply第二个参数树数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x, y, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.call(<span class="number">100</span>, <span class="number">1</span>, <span class="number">2</span>);  <span class="comment">// 1, 2, Number(100)</span></span><br><span class="line">foo.apply(<span class="literal">true</span>, [<span class="number">3</span>, <span class="number">4</span>]);  <span class="comment">//3, 4, Boolean(true)</span></span><br><span class="line">foo.apply(<span class="literal">null</span>);  <span class="comment">// undefined, undefined, window</span></span><br><span class="line">foo.apply(<span class="literal">undefined</span>);  <span class="comment">// undefined, undefined, window</span></span><br></pre></td></tr></table></figure>
<h3 id="arguments属性">arguments属性</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// arguments.callee()递归</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">4</span>));    <span class="comment">//返回结果:24</span></span><br></pre></td></tr></table></figure>
<h3 id="bind">bind</h3>
<p>bind方法：改变this <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bind方法</span></span><br><span class="line"><span class="keyword">this</span>.x = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = &#123;</span><br><span class="line">    x: <span class="number">81</span>,</span><br><span class="line">    getX: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.getX();  <span class="comment">// 81 this指向module</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getX = <span class="built_in">module</span>.getX;</span><br><span class="line">getX();  <span class="comment">// 9 this指向全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boundGetX = getX.bind(<span class="built_in">module</span>);</span><br><span class="line">boundGetX();  <span class="comment">// 81  bind改变this指向</span></span><br></pre></td></tr></table></figure></p>
<p>bind方法：科里化 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bind方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = add.bind(<span class="literal">undefined</span>, <span class="number">100</span>);</span><br><span class="line">func(<span class="number">1</span>, <span class="number">2</span>);  <span class="comment">// 103  undefined传给this， 100传给第一个参数a</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func2 = func.bind(<span class="literal">undefined</span>, <span class="number">200</span>);</span><br><span class="line">func2(<span class="number">10</span>);  <span class="comment">// 310 undefined传给this，200传给b</span></span><br></pre></td></tr></table></figure></p>
<p>bind与new <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bind方法与new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.b = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> func = foo.bind(&#123;<span class="attr">a</span>: <span class="number">1</span>&#125;);</span><br><span class="line">func(); <span class="comment">// 1  foo.bind后this指向&#123;a: 1&#125; return this.a = 1</span></span><br><span class="line"><span class="keyword">new</span> func();  <span class="comment">// &#123;b: 100&#125; new调用将返回一个this，this会被初始化一个空对象，并且其原型是foo.prototype,空对象的b属性为100</span></span><br></pre></td></tr></table></figure></p>
<h2 id="闭包">闭包</h2>
<p>闭包基本概念 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="number">999</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n);</span><br><span class="line">&#125;</span><br><span class="line">f1();  <span class="comment">// 999  函数内部可以访问全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(n);  <span class="comment">// error  函数外部无法访问函数内部局部变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    n = <span class="number">999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(n); <span class="comment">// 999 因为没有使用var语句，相当于定义一个全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单的闭包原型</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">999</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f5</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f5</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = f4();</span><br><span class="line">result();  <span class="comment">// 999</span></span><br></pre></td></tr></table></figure></p>
<p>闭包案例 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#div1</span> &#123;</span></span><br><span class="line">            background-color: rosybrown;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#div2</span> &#123;</span></span><br><span class="line">            background-color: aquamarine;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#div3</span> &#123;</span></span><br><span class="line">            background-color: yellowgreen;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    document.body.innerHTML = '<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span>ccc<span class="tag">&lt;/<span class="name">div</span>&gt;</span>';</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">4</span>; i++) &#123;</span></span><br><span class="line"><span class="actionscript">        alert(i);  <span class="comment">// 结果为1，2，3</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">'div'</span> + i).</span></span><br><span class="line"><span class="actionscript">                addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            alert(i);  <span class="comment">// 点击div1，div2，div3结果都是4,因为addEventListener的回调函数执行时i都为4</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>正确写法 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#div1</span> &#123;</span></span><br><span class="line">            background-color: rosybrown;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#div2</span> &#123;</span></span><br><span class="line">            background-color: aquamarine;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#div3</span> &#123;</span></span><br><span class="line">            background-color: yellowgreen;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    document.body.innerHTML = '<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span>ccc<span class="tag">&lt;/<span class="name">div</span>&gt;</span>';</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">4</span>; i++) &#123;</span></span><br><span class="line"><span class="actionscript">        !<span class="function"><span class="keyword">function</span><span class="params">(i)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            alert(i);  <span class="comment">// 1,2,3</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">'div'</span> + i).</span></span><br><span class="line"><span class="actionscript">               addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                   alert(i);  <span class="comment">// 1, 2,3 </span></span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;(i);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>闭包中的封装 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> _userID = <span class="number">23245</span>;</span><br><span class="line">    <span class="keyword">let</span> _typeID = <span class="string">'item'</span>;</span><br><span class="line">    <span class="keyword">let</span> exportID = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">converter</span>(<span class="params">userID</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> +userID;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    exportID.getUserID = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> converter(_userID);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    exportID.getTypeID = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _typeID;</span><br><span class="line">    &#125;;</span><br><span class="line">    global.exportID = exportID;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(exportID.getUserID());  <span class="comment">//23245</span></span><br><span class="line"><span class="built_in">console</span>.log(exportID._userID);  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
<h2 id="this">this</h2>
<h3 id="全局下的this">全局下的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局下的this(浏览器下)</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.window === <span class="built_in">document</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="keyword">this</span>.a = <span class="number">37</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a);  <span class="comment">// 37</span></span><br></pre></td></tr></table></figure>
<h3 id="一般函数的this">一般函数的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一般函数的this（浏览器下）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">f1() === <span class="built_in">window</span>;  <span class="comment">// true</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    "use strict"</span>;  <span class="comment">// 严格模式下</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br><span class="line">f2() === <span class="literal">undefined</span>;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="作为对象方法的函数的this">作为对象方法的函数的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = &#123;</span><br><span class="line">    prop: <span class="number">37</span>,</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.prop;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(o1.f());  <span class="comment">// 37</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o2 = &#123;<span class="attr">prop</span>: <span class="number">37</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span>  <span class="title">independent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.prop;</span><br><span class="line">&#125;</span><br><span class="line">o2.f = independent;</span><br><span class="line"><span class="built_in">console</span>.log(o2.f());  <span class="comment">// 37</span></span><br></pre></td></tr></table></figure>
<h3 id="原型链上的this">原型链上的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> p = <span class="built_in">Object</span>.create(o); <span class="comment">// p为空对象，其原型会指向o</span></span><br><span class="line">p.a = <span class="number">1</span>;</span><br><span class="line">p.b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">console</span>.log(p.f())  <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h3 id="构造器中的this">构造器中的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当new的函数构造器没有return返回值或者返回值不是对象时，new返回一个this指向构造器的prototype这样一个空对象</span></span><br><span class="line"><span class="comment">// 如果return返回的是对象 new返回的这是这个对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">37</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> o = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="built_in">console</span>.log(o.a);  <span class="comment">// 37</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">37</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">a</span>: <span class="number">38</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">o = <span class="keyword">new</span> C2();</span><br><span class="line"><span class="built_in">console</span>.log(o.a);  <span class="comment">// 38</span></span><br></pre></td></tr></table></figure>
<h3 id="call和apply的this">call和apply的this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">c, d</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b + c + d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line">add.call(o, <span class="number">5</span>, <span class="number">6</span>);  <span class="comment">// 1+3+5+7=16</span></span><br><span class="line">add.apply(o, [<span class="number">10</span>, <span class="number">20</span>]);  <span class="comment">//1+3+10+20=34</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br><span class="line">bar.call(<span class="number">7</span>); <span class="comment">// [object Number]</span></span><br></pre></td></tr></table></figure>
<h3 id="band和this">band和this</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bind是es5后，ie9+使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = f.bind(&#123;<span class="attr">a</span>: <span class="string">'test'</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(g());  <span class="comment">// test</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    a: <span class="number">37</span>,</span><br><span class="line">    f: f,</span><br><span class="line">    g: g</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(o.f(), o.g());  <span class="comment">// 37, test</span></span><br></pre></td></tr></table></figure>
<h2 id="作用域">作用域</h2>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 作用域： 全局作用域，函数作用域，eval作用域</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">20</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);  <span class="comment">// a, b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(item); <span class="comment">// b</span></span><br></pre></td></tr></table></figure>
<h2 id="es3中的执行上下文">ES3中的执行上下文</h2>
<p>EC = Execution Context 执行上下文<br>
变量对象（Variable Object 简写VO）是一个抽象概念，用于存储执行上下文中的变量，函数声明，函数参数 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">30</span>);</span><br></pre></td></tr></table></figure></p>
<p>对应的上下文 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 整个js环境中的VO</span><br><span class="line">VO(globalContext) = &#123;</span><br><span class="line">    a: 10,</span><br><span class="line">    test: &lt;ref to function&gt;</span><br><span class="line">&#125;;</span><br><span class="line">// 执行test(30)的VO</span><br><span class="line">VO(test functionContext) = &#123;</span><br><span class="line">    x: 30,</span><br><span class="line">    b: 20</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>全局执行上下文 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">VO(globalContext) === [[global]]</span><br><span class="line">[[global]] = &#123;</span><br><span class="line">    Math : &lt;...&gt;,</span><br><span class="line">    String : &lt;...&gt;,</span><br><span class="line">    isNaN: function() &#123;[Native Code]&#125;,</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    window: global</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">String(10);  //[[global]].String(10)</span><br><span class="line">window.a = 10;  // [[global]].window.a = 10</span><br><span class="line">this.b = 20;  // [[global]].b = 20</span><br></pre></td></tr></table></figure></p>
<p>变量初始化阶段 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1, 函数参数（若没有传入，则其值为undefined）</span></span><br><span class="line"><span class="comment">// 2, 函数声明（若函数声明和函数参数冲突，则函数声明会覆盖掉函数参数）</span></span><br><span class="line"><span class="comment">// 3，变量声明（初始化变量值为undefined，若何函数参数，函数声明冲突，会被忽略掉）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> e = <span class="function"><span class="keyword">function</span> <span class="title">_e</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">10</span>);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AO(test) = &#123;</span><br><span class="line">    a: 10,</span><br><span class="line">    b: undefined,</span><br><span class="line">    c: undefined,</span><br><span class="line">    d: &lt;ref to func &apos;d&apos;&gt;,</span><br><span class="line">    e: undefined,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>变量初始化案例1 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="number">100</span>);  <span class="comment">// [Function: x]</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AO(foo) = &#123;</span><br><span class="line">    //x: 100,</span><br><span class="line">    y: undefined,</span><br><span class="line">    z: undefined,</span><br><span class="line">    x: &lt;ref to func &apos;x&apos;&gt;,  // 函数声明x会覆盖掉参数声明 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>变量初始化案例2 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> func;</span><br><span class="line">    <span class="built_in">console</span>.log(func);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">100</span>);  <span class="comment">// [Function: func]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> func = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(func);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">100</span>);  <span class="comment">// 1  执行阶段会执行func = 1 这个语句</span></span><br></pre></td></tr></table></figure></p>
<p>代码执行阶段 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> e = <span class="function"><span class="keyword">function</span> <span class="title">_e</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;)();</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 初始化阶段</span><br><span class="line">AO(test) = &#123;</span><br><span class="line">    a: 10,</span><br><span class="line">    b: undefined,</span><br><span class="line">    c: undefined,</span><br><span class="line">    d: &lt;ref to func &apos;d&apos;&gt;,</span><br><span class="line">    e: undefined</span><br><span class="line">&#125;;</span><br><span class="line">// 代码执行阶段</span><br><span class="line">AO(test) = &#123;</span><br><span class="line">    a: 10,</span><br><span class="line">    b: 20,</span><br><span class="line">    c: 10,</span><br><span class="line">    d: &lt;reference to FunctionDeclaration &apos;d&apos;&gt;,</span><br><span class="line">    e: function _e()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>全局执行上下文案例 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// [Function: x]</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;  <span class="comment">// 初始化阶段x: 冲突，被忽略</span></span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// 10</span></span><br><span class="line">x = <span class="number">20</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;  <span class="comment">// 初始化阶段x: &lt;ref to func 'x'&gt;</span></span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// 20</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;  <span class="comment">// 初始化阶段a: undefined</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="literal">true</span>;  <span class="comment">// 初始化阶段b: undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
<h2 id="继承">继承</h2>
<h3 id="实现继承的方法">实现继承的方法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype = Person.prototype;  <span class="comment">// 错误，会影响被继承类的方法</span></span><br><span class="line">Student.prototype = <span class="keyword">new</span> Person();  <span class="comment">// 错误，传参问题，因为Student是类，并不是实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确的方法</span></span><br><span class="line">Student.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line">Student.prototype.constructor = Student;</span><br><span class="line"><span class="comment">// Object.create()是es5的方法，下面是fix方法</span></span><br><span class="line"><span class="keyword">if</span>(!<span class="built_in">Object</span>.create) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.create = <span class="function"><span class="keyword">function</span>(<span class="params">proto</span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">        F.prototype = proto;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> F;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原型的继承方法 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sayNo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' say no'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.hi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi, my name is '</span> + <span class="keyword">this</span>.name + <span class="string">',I\'m '</span> + <span class="keyword">this</span>.age + <span class="string">' years old now'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.LEGS_NUM = <span class="number">2</span>;</span><br><span class="line">Person.prototype.ARMS_NUM = <span class="number">2</span>;</span><br><span class="line">Person.prototype.walk = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' is walking...'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Person);  <span class="comment">// [Function: Person]</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype);  <span class="comment">// Person &#123; hi: [Function], LEGS_NUM: 2, ARMS_NUM: 2, walk: [Function] &#125;</span></span><br><span class="line"><span class="keyword">var</span> Jack = <span class="keyword">new</span> Person();  <span class="comment">// Person构造器没有return对象，所以返回的是this</span></span><br><span class="line">Jack.sayNo();  <span class="comment">// undefined say no</span></span><br><span class="line">Jack.hi();  <span class="comment">// Hi, my name is undefined,I'm undefined years old now</span></span><br><span class="line">Jack.walk();  <span class="comment">// undefined is walking...</span></span><br><span class="line"><span class="built_in">console</span>.log(Jack);  <span class="comment">// Person &#123; name: undefined, age: undefined, sayNo: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Jack.__proto__);  <span class="comment">// Person &#123; hi: [Function], LEGS_NUM: 2, ARMS_NUM: 2, walk: [Function] &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下5行代码是js中对象继承的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, className</span>) </span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>, name, age);  <span class="comment">// 使用call方法调用父构造器函数</span></span><br><span class="line">    <span class="keyword">this</span>.className = className;</span><br><span class="line">&#125;</span><br><span class="line">Student.prototype = <span class="built_in">Object</span>.create(Person.prototype);   <span class="comment">// 这个如果直接使用Student.prototype = Person.prototype，改变Student对象方法会改变Person对象的方法，因为他们指向的是同一个对象</span></span><br><span class="line">Student.prototype.constructor = Student;</span><br><span class="line"></span><br><span class="line">Student.prototype.hi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi, my name is '</span> + <span class="keyword">this</span>.name + <span class="string">', I\'m'</span> + <span class="keyword">this</span>.age + <span class="string">' years old now, and from '</span> + <span class="keyword">this</span>.className + <span class="string">'.'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Student.prototype.learn = <span class="function"><span class="keyword">function</span>(<span class="params">subject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' is learning '</span> + subject + <span class="string">' at '</span> + <span class="keyword">this</span>.className + <span class="string">'.'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Lussi = <span class="keyword">new</span> Student(<span class="string">'Lussi'</span>, <span class="number">27</span>, <span class="string">'Class Tree'</span>);</span><br><span class="line">Lussi.sayNo();  <span class="comment">// Lussi say no</span></span><br><span class="line">Lussi.hi();  <span class="comment">// Hi, my name is Lussi, I'm27 years old now, and from Class Tree.</span></span><br><span class="line">Lussi.walk();  <span class="comment">// Lussi is walking...</span></span><br><span class="line">Lussi.learn(<span class="string">'math'</span>);  <span class="comment">// Lussi is learning math at Class Tree.</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi);  <span class="comment">// Student &#123;name: 'Lussi', age: 27, sayNo: [Function], className: 'Class Tree' &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.__proto__);  <span class="comment">// Student &#123;constructor: [Function: Student], hi: [Function], learn: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.__proto__.__proto__);  <span class="comment">// Person &#123; hi: [Function], LEGS_NUM: 2, ARMS_NUM: 2, walk: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.__proto__.__proto__.__proto__);  <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.__proto__.__proto__.__proto__.__proto__);  <span class="comment">// null  </span></span><br><span class="line"><span class="comment">// 改变prototype</span></span><br><span class="line">Student.prototype.x = <span class="number">101</span>;  <span class="comment">// 会影响已经创建实例的属性</span></span><br><span class="line"><span class="built_in">console</span>.log(Jack.x);  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.x);  <span class="comment">// 101</span></span><br><span class="line"></span><br><span class="line">Student.prototype = &#123;<span class="attr">y</span>: <span class="number">2</span>&#125;;  <span class="comment">// 不会影响已经创建实例的属性，但会影响新创建的实例，并且重新修改prototype.y属性也不会改变</span></span><br><span class="line"><span class="built_in">console</span>.log(Jack.y); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.y);  <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> Lilei = <span class="keyword">new</span> Student(<span class="string">'Lilei'</span>, <span class="number">24</span>, <span class="string">'Class three'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Lilei.x);  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Lilei.y);  <span class="comment">// 2</span></span><br><span class="line">Student.prototype.y = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(Lilei.y);  <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.y);  <span class="comment">// undefined</span></span><br><span class="line">Student.prototype.z = <span class="number">30</span>;</span><br><span class="line"><span class="built_in">console</span>.log(Lilei.z);  <span class="comment">// 30</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.z);  <span class="comment">// undefined</span></span><br><span class="line">Person.prototype.z = <span class="number">40</span>;</span><br><span class="line"><span class="built_in">console</span>.log(Lilei.z);  <span class="comment">// 30</span></span><br><span class="line"><span class="built_in">console</span>.log(Lussi.z);  <span class="comment">// 40</span></span><br><span class="line"><span class="built_in">console</span>.log(Jack.z);  <span class="comment">// 40</span></span><br></pre></td></tr></table></figure></p>
<h3 id="模拟重载">模拟重载</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="comment">// 判断第一个传入的是不是对象，因为args[null]也返回object，所有需要判断是否为null</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> args[<span class="number">0</span>] === <span class="string">'object'</span> &amp;&amp; args[<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(args[<span class="number">0</span>].name) &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = args[<span class="number">0</span>].name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(args[<span class="number">0</span>].age) &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = args[<span class="number">0</span>].age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(args[<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = args[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(args[<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = args[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'name='</span> + <span class="keyword">this</span>.name + <span class="string">', age='</span> + <span class="keyword">this</span>.age);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> LiLei = <span class="keyword">new</span> Person(<span class="string">'LiLei'</span>, <span class="number">23</span>);</span><br><span class="line"><span class="keyword">let</span> Hanmm = <span class="keyword">new</span> Person(&#123;<span class="attr">name</span>: <span class="string">'Hanmm'</span>, <span class="attr">age</span>: <span class="number">21</span>&#125;);</span><br><span class="line">LiLei.toString();  <span class="comment">// name=LiLei, age=23</span></span><br><span class="line">Hanmm.toString();  <span class="comment">// name=Hanmm, age=21</span></span><br></pre></td></tr></table></figure>
<h3 id="调用子类方法">调用子类方法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, className</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.className = className;</span><br><span class="line">    Person.call(<span class="keyword">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Person.init'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Student.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Student.init'</span>);</span><br><span class="line">    Person.prototype.init.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> LiLei = <span class="keyword">new</span> Student(<span class="string">'LiLei'</span>, <span class="string">'Class four'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(LiLei);  <span class="comment">// Student &#123; className: 'Class four', name: 'LiLei' &#125;</span></span><br><span class="line">LiLei.init();  <span class="comment">// Student.init  Person.init</span></span><br></pre></td></tr></table></figure>
<h3 id="实现链式调用">实现链式调用</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClassManager</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ClassManager'</span>);</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'ClassName'</span>;</span><br><span class="line">&#125;</span><br><span class="line">ClassManager.prototype.addClass = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'class: '</span>  + str + <span class="string">' added.'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;  <span class="comment">// this始终指向ClassManger类的实例</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manager = <span class="keyword">new</span> ClassManager();</span><br><span class="line">manager.addClass(<span class="string">'A'</span>).addClass(<span class="string">'B'</span>).addClass(<span class="string">'C'</span>);  <span class="comment">//class: A added. ClassManager &#123; name: 'ClassName' &#125; class: B added. ClassManager &#123; name: 'ClassName' &#125; class: C added. ClassManager &#123; name: 'ClassName' &#125;</span></span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-number">1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类型"><span class="toc-number">1.1.</span> <span class="toc-text">类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检测"><span class="toc-number">1.2.</span> <span class="toc-text">检测</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表达式"><span class="toc-number">2.</span> <span class="toc-text">表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#运算符"><span class="toc-number">3.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊运算符"><span class="toc-number">3.1.</span> <span class="toc-text">特殊运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#语句"><span class="toc-number">4.</span> <span class="toc-text">语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象"><span class="toc-number">5.</span> <span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对象原型链"><span class="toc-number">5.1.</span> <span class="toc-text">对象原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象属性操作"><span class="toc-number">5.2.</span> <span class="toc-text">对象属性操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性标签"><span class="toc-number">5.3.</span> <span class="toc-text">属性标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象标签"><span class="toc-number">5.4.</span> <span class="toc-text">对象标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#json对象"><span class="toc-number">5.5.</span> <span class="toc-text">Json对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tostring-valueof方法"><span class="toc-number">5.6.</span> <span class="toc-text">toString valueOf方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组"><span class="toc-number">6.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#增删改查"><span class="toc-number">6.1.</span> <span class="toc-text">增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法"><span class="toc-number">6.2.</span> <span class="toc-text">方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-number">7.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建"><span class="toc-number">7.1.</span> <span class="toc-text">创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call和apply"><span class="toc-number">7.2.</span> <span class="toc-text">call和apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments属性"><span class="toc-number">7.3.</span> <span class="toc-text">arguments属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind"><span class="toc-number">7.4.</span> <span class="toc-text">bind</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#闭包"><span class="toc-number">8.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-number">9.</span> <span class="toc-text">this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#全局下的this"><span class="toc-number">9.1.</span> <span class="toc-text">全局下的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一般函数的this"><span class="toc-number">9.2.</span> <span class="toc-text">一般函数的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作为对象方法的函数的this"><span class="toc-number">9.3.</span> <span class="toc-text">作为对象方法的函数的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型链上的this"><span class="toc-number">9.4.</span> <span class="toc-text">原型链上的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构造器中的this"><span class="toc-number">9.5.</span> <span class="toc-text">构造器中的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call和apply的this"><span class="toc-number">9.6.</span> <span class="toc-text">call和apply的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#band和this"><span class="toc-number">9.7.</span> <span class="toc-text">band和this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作用域"><span class="toc-number">10.</span> <span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es3中的执行上下文"><span class="toc-number">11.</span> <span class="toc-text">ES3中的执行上下文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#继承"><span class="toc-number">12.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实现继承的方法"><span class="toc-number">12.1.</span> <span class="toc-text">实现继承的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模拟重载"><span class="toc-number">12.2.</span> <span class="toc-text">模拟重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调用子类方法"><span class="toc-number">12.3.</span> <span class="toc-text">调用子类方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现链式调用"><span class="toc-number">12.4.</span> <span class="toc-text">实现链式调用</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&text=Javascript入门基础"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&is_video=false&description=Javascript入门基础"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Javascript入门基础&body=Check out this article: http://www.zhuohc.com/2016/11/10/Javascript入门基础/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&title=Javascript入门基础"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&name=Javascript入门基础&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://www.zhuohc.com/2016/11/10/Javascript入门基础/&t=Javascript入门基础"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 zhuohanchang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">首页</a></li>
         
          <li><a href="/archives/">归档</a></li>
         
          <li><a href="/tags/">标签</a></li>
         
          <li><a href="/categories/">分类</a></li>
         
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
